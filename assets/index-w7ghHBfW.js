(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Ic(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $m={exports:{}},ku={},Bm={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function x2(){if(Hw)return Le;Hw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function x(z,Y,fe){this.props=z,this.context=Y,this.refs=k,this.updater=fe||S}x.prototype.isReactComponent={},x.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},x.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function L(){}L.prototype=x.prototype;function U(z,Y,fe){this.props=z,this.context=Y,this.refs=k,this.updater=fe||S}var B=U.prototype=new L;B.constructor=U,R(B,x.prototype),B.isPureReactComponent=!0;var q=Array.isArray,X=Object.prototype.hasOwnProperty,J={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function P(z,Y,fe){var Ie,Ae={},De=null,je=null;if(Y!=null)for(Ie in Y.ref!==void 0&&(je=Y.ref),Y.key!==void 0&&(De=""+Y.key),Y)X.call(Y,Ie)&&!N.hasOwnProperty(Ie)&&(Ae[Ie]=Y[Ie]);var Oe=arguments.length-2;if(Oe===1)Ae.children=fe;else if(1<Oe){for(var Ye=Array(Oe),At=0;At<Oe;At++)Ye[At]=arguments[At+2];Ae.children=Ye}if(z&&z.defaultProps)for(Ie in Oe=z.defaultProps,Oe)Ae[Ie]===void 0&&(Ae[Ie]=Oe[Ie]);return{$$typeof:n,type:z,key:De,ref:je,props:Ae,_owner:J.current}}function b(z,Y){return{$$typeof:n,type:z.type,key:Y,ref:z.ref,props:z.props,_owner:z._owner}}function M(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function j(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(fe){return Y[fe]})}var V=/\/+/g;function D(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?j(""+z.key):Y.toString(36)}function le(z,Y,fe,Ie,Ae){var De=typeof z;(De==="undefined"||De==="boolean")&&(z=null);var je=!1;if(z===null)je=!0;else switch(De){case"string":case"number":je=!0;break;case"object":switch(z.$$typeof){case n:case e:je=!0}}if(je)return je=z,Ae=Ae(je),z=Ie===""?"."+D(je,0):Ie,q(Ae)?(fe="",z!=null&&(fe=z.replace(V,"$&/")+"/"),le(Ae,Y,fe,"",function(At){return At})):Ae!=null&&(M(Ae)&&(Ae=b(Ae,fe+(!Ae.key||je&&je.key===Ae.key?"":(""+Ae.key).replace(V,"$&/")+"/")+z)),Y.push(Ae)),1;if(je=0,Ie=Ie===""?".":Ie+":",q(z))for(var Oe=0;Oe<z.length;Oe++){De=z[Oe];var Ye=Ie+D(De,Oe);je+=le(De,Y,fe,Ye,Ae)}else if(Ye=E(z),typeof Ye=="function")for(z=Ye.call(z),Oe=0;!(De=z.next()).done;)De=De.value,Ye=Ie+D(De,Oe++),je+=le(De,Y,fe,Ye,Ae);else if(De==="object")throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return je}function Se(z,Y,fe){if(z==null)return z;var Ie=[],Ae=0;return le(z,Ie,"","",function(De){return Y.call(fe,De,Ae++)}),Ie}function Re(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(fe){(z._status===0||z._status===-1)&&(z._status=1,z._result=fe)},function(fe){(z._status===0||z._status===-1)&&(z._status=2,z._result=fe)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var Te={current:null},ie={transition:null},ue={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:ie,ReactCurrentOwner:J};function se(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:Se,forEach:function(z,Y,fe){Se(z,function(){Y.apply(this,arguments)},fe)},count:function(z){var Y=0;return Se(z,function(){Y++}),Y},toArray:function(z){return Se(z,function(Y){return Y})||[]},only:function(z){if(!M(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Le.Component=x,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=U,Le.StrictMode=r,Le.Suspense=h,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Le.act=se,Le.cloneElement=function(z,Y,fe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Ie=R({},z.props),Ae=z.key,De=z.ref,je=z._owner;if(Y!=null){if(Y.ref!==void 0&&(De=Y.ref,je=J.current),Y.key!==void 0&&(Ae=""+Y.key),z.type&&z.type.defaultProps)var Oe=z.type.defaultProps;for(Ye in Y)X.call(Y,Ye)&&!N.hasOwnProperty(Ye)&&(Ie[Ye]=Y[Ye]===void 0&&Oe!==void 0?Oe[Ye]:Y[Ye])}var Ye=arguments.length-2;if(Ye===1)Ie.children=fe;else if(1<Ye){Oe=Array(Ye);for(var At=0;At<Ye;At++)Oe[At]=arguments[At+2];Ie.children=Oe}return{$$typeof:n,type:z.type,key:Ae,ref:De,props:Ie,_owner:je}},Le.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:o,_context:z},z.Consumer=z},Le.createElement=P,Le.createFactory=function(z){var Y=P.bind(null,z);return Y.type=z,Y},Le.createRef=function(){return{current:null}},Le.forwardRef=function(z){return{$$typeof:c,render:z}},Le.isValidElement=M,Le.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:Re}},Le.memo=function(z,Y){return{$$typeof:p,type:z,compare:Y===void 0?null:Y}},Le.startTransition=function(z){var Y=ie.transition;ie.transition={};try{z()}finally{ie.transition=Y}},Le.unstable_act=se,Le.useCallback=function(z,Y){return Te.current.useCallback(z,Y)},Le.useContext=function(z){return Te.current.useContext(z)},Le.useDebugValue=function(){},Le.useDeferredValue=function(z){return Te.current.useDeferredValue(z)},Le.useEffect=function(z,Y){return Te.current.useEffect(z,Y)},Le.useId=function(){return Te.current.useId()},Le.useImperativeHandle=function(z,Y,fe){return Te.current.useImperativeHandle(z,Y,fe)},Le.useInsertionEffect=function(z,Y){return Te.current.useInsertionEffect(z,Y)},Le.useLayoutEffect=function(z,Y){return Te.current.useLayoutEffect(z,Y)},Le.useMemo=function(z,Y){return Te.current.useMemo(z,Y)},Le.useReducer=function(z,Y,fe){return Te.current.useReducer(z,Y,fe)},Le.useRef=function(z){return Te.current.useRef(z)},Le.useState=function(z){return Te.current.useState(z)},Le.useSyncExternalStore=function(z,Y,fe){return Te.current.useSyncExternalStore(z,Y,fe)},Le.useTransition=function(){return Te.current.useTransition()},Le.version="18.3.1",Le}var qw;function Ny(){return qw||(qw=1,Bm.exports=x2()),Bm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kw;function R2(){if(Kw)return ku;Kw=1;var n=Ny(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var g,w={},E=null,S=null;p!==void 0&&(E=""+p),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(S=h.ref);for(g in h)r.call(h,g)&&!o.hasOwnProperty(g)&&(w[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)w[g]===void 0&&(w[g]=h[g]);return{$$typeof:e,type:c,key:E,ref:S,props:w,_owner:i.current}}return ku.Fragment=t,ku.jsx=l,ku.jsxs=l,ku}var Gw;function A2(){return Gw||(Gw=1,$m.exports=R2()),$m.exports}var y=A2(),I=Ny();const En=Ic(I);var uh={},zm={exports:{}},kn={},Wm={exports:{}},Hm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qw;function P2(){return Qw||(Qw=1,function(n){function e(ie,ue){var se=ie.length;ie.push(ue);e:for(;0<se;){var z=se-1>>>1,Y=ie[z];if(0<i(Y,ue))ie[z]=ue,ie[se]=Y,se=z;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var ue=ie[0],se=ie.pop();if(se!==ue){ie[0]=se;e:for(var z=0,Y=ie.length,fe=Y>>>1;z<fe;){var Ie=2*(z+1)-1,Ae=ie[Ie],De=Ie+1,je=ie[De];if(0>i(Ae,se))De<Y&&0>i(je,Ae)?(ie[z]=je,ie[De]=se,z=De):(ie[z]=Ae,ie[Ie]=se,z=Ie);else if(De<Y&&0>i(je,se))ie[z]=je,ie[De]=se,z=De;else break e}}return ue}function i(ie,ue){var se=ie.sortIndex-ue.sortIndex;return se!==0?se:ie.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],p=[],g=1,w=null,E=3,S=!1,R=!1,k=!1,x=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ie){for(var ue=t(p);ue!==null;){if(ue.callback===null)r(p);else if(ue.startTime<=ie)r(p),ue.sortIndex=ue.expirationTime,e(h,ue);else break;ue=t(p)}}function q(ie){if(k=!1,B(ie),!R)if(t(h)!==null)R=!0,Re(X);else{var ue=t(p);ue!==null&&Te(q,ue.startTime-ie)}}function X(ie,ue){R=!1,k&&(k=!1,L(P),P=-1),S=!0;var se=E;try{for(B(ue),w=t(h);w!==null&&(!(w.expirationTime>ue)||ie&&!j());){var z=w.callback;if(typeof z=="function"){w.callback=null,E=w.priorityLevel;var Y=z(w.expirationTime<=ue);ue=n.unstable_now(),typeof Y=="function"?w.callback=Y:w===t(h)&&r(h),B(ue)}else r(h);w=t(h)}if(w!==null)var fe=!0;else{var Ie=t(p);Ie!==null&&Te(q,Ie.startTime-ue),fe=!1}return fe}finally{w=null,E=se,S=!1}}var J=!1,N=null,P=-1,b=5,M=-1;function j(){return!(n.unstable_now()-M<b)}function V(){if(N!==null){var ie=n.unstable_now();M=ie;var ue=!0;try{ue=N(!0,ie)}finally{ue?D():(J=!1,N=null)}}else J=!1}var D;if(typeof U=="function")D=function(){U(V)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Se=le.port2;le.port1.onmessage=V,D=function(){Se.postMessage(null)}}else D=function(){x(V,0)};function Re(ie){N=ie,J||(J=!0,D())}function Te(ie,ue){P=x(function(){ie(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){R||S||(R=!0,Re(X))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ie){switch(E){case 1:case 2:case 3:var ue=3;break;default:ue=E}var se=E;E=ue;try{return ie()}finally{E=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,ue){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var se=E;E=ie;try{return ue()}finally{E=se}},n.unstable_scheduleCallback=function(ie,ue,se){var z=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?z+se:z):se=z,ie){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=se+Y,ie={id:g++,callback:ue,priorityLevel:ie,startTime:se,expirationTime:Y,sortIndex:-1},se>z?(ie.sortIndex=se,e(p,ie),t(h)===null&&ie===t(p)&&(k?(L(P),P=-1):k=!0,Te(q,se-z))):(ie.sortIndex=Y,e(h,ie),R||S||(R=!0,Re(X))),ie},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(ie){var ue=E;return function(){var se=E;E=ue;try{return ie.apply(this,arguments)}finally{E=se}}}}(Hm)),Hm}var Yw;function k2(){return Yw||(Yw=1,Wm.exports=P2()),Wm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw;function b2(){if(Xw)return kn;Xw=1;var n=Ny(),e=k2();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function E(s){return h.call(w,s)?!0:h.call(g,s)?!1:p.test(s)?w[s]=!0:(g[s]=!0,!1)}function S(s,a,u,f){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function R(s,a,u,f){if(a===null||typeof a>"u"||S(s,a,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function k(s,a,u,f,m,_,C){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=C}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){x[s]=new k(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];x[a]=new k(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){x[s]=new k(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){x[s]=new k(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){x[s]=new k(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){x[s]=new k(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){x[s]=new k(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){x[s]=new k(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){x[s]=new k(s,5,!1,s.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function U(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(L,U);x[a]=new k(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(L,U);x[a]=new k(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(L,U);x[a]=new k(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){x[s]=new k(s,1,!1,s.toLowerCase(),null,!1,!1)}),x.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){x[s]=new k(s,1,!1,s.toLowerCase(),null,!0,!0)});function B(s,a,u,f){var m=x.hasOwnProperty(a)?x[a]:null;(m!==null?m.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(R(a,u,m,f)&&(u=null),f||m===null?E(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(a=m.attributeName,f=m.attributeNamespace,u===null?s.removeAttribute(a):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?s.setAttributeNS(f,a,u):s.setAttribute(a,u))))}var q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),J=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),j=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ue(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,z;function Y(s){if(z===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);z=a&&a[1]||""}return`
`+z+s}var fe=!1;function Ie(s,a){if(!s||fe)return"";fe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(G){var f=G}Reflect.construct(s,[],a)}else{try{a.call()}catch(G){f=G}s.call(a.prototype)}else{try{throw Error()}catch(G){f=G}s()}}catch(G){if(G&&f&&typeof G.stack=="string"){for(var m=G.stack.split(`
`),_=f.stack.split(`
`),C=m.length-1,O=_.length-1;1<=C&&0<=O&&m[C]!==_[O];)O--;for(;1<=C&&0<=O;C--,O--)if(m[C]!==_[O]){if(C!==1||O!==1)do if(C--,O--,0>O||m[C]!==_[O]){var F=`
`+m[C].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=C&&0<=O);break}}}finally{fe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?Y(s):""}function Ae(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=Ie(s.type,!1),s;case 11:return s=Ie(s.type.render,!1),s;case 1:return s=Ie(s.type,!0),s;default:return""}}function De(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case J:return"Portal";case b:return"Profiler";case P:return"StrictMode";case D:return"Suspense";case le:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case j:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case V:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Se:return a=s.displayName||null,a!==null?a:De(s.type)||"Memo";case Re:a=s._payload,s=s._init;try{return De(s(a))}catch{}}return null}function je(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(a);case 8:return a===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Oe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ye(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function At(s){var a=Ye(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,_=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(C){f=""+C,_.call(this,C)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function jn(s){s._valueTracker||(s._valueTracker=At(s))}function Yi(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return s&&(f=Ye(s)?s.checked?"true":"false":s.value),s=f,s!==u?(a.setValue(s),!0):!1}function gr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function hi(s,a){var u=a.checked;return se({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Xi(s,a){var u=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;u=Oe(a.value!=null?a.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ji(s,a){a=a.checked,a!=null&&B(s,"checked",a,!1)}function Zi(s,a){Ji(s,a);var u=Oe(a.value),f=a.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?es(s,a.type,u):a.hasOwnProperty("defaultValue")&&es(s,a.type,Oe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function la(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function es(s,a,u){(a!=="number"||gr(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Kt=Array.isArray;function Tn(s,a,u,f){if(s=s.options,a){a={};for(var m=0;m<u.length;m++)a["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=a.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Oe(u),a=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function ts(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function fi(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(Kt(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:Oe(u)}}function Ur(s,a){var u=Oe(a.value),f=Oe(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function ns(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function _t(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?_t(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Xn,Ul=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,f,m){MSApp.execUnsafeLocalFunction(function(){return s(a,u,f,m)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Xn=Xn||document.createElement("div"),Xn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Xn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function rs(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fo=["Webkit","ms","Moz","O"];Object.keys(ho).forEach(function(s){fo.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),ho[a]=ho[s]})});function $l(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||ho.hasOwnProperty(s)&&ho[s]?(""+a).trim():a+"px"}function Bl(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=$l(u,a[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,m):s[u]=m}}var zl=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wl(s,a){if(a){if(zl[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Hl(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var po=null;function ua(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ca=null,Jn=null,$r=null;function da(s){if(s=mu(s)){if(typeof ca!="function")throw Error(t(280));var a=s.stateNode;a&&(a=Cd(a),ca(s.stateNode,s.type,a))}}function Br(s){Jn?$r?$r.push(s):$r=[s]:Jn=s}function ql(){if(Jn){var s=Jn,a=$r;if($r=Jn=null,da(s),a)for(s=0;s<a.length;s++)da(a[s])}}function mo(s,a){return s(a)}function Kl(){}var pi=!1;function Gl(s,a,u){if(pi)return s(a,u);pi=!0;try{return mo(s,a,u)}finally{pi=!1,(Jn!==null||$r!==null)&&(Kl(),ql())}}function St(s,a){var u=s.stateNode;if(u===null)return null;var f=Cd(u);if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var ha=!1;if(c)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){ha=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{ha=!1}function go(s,a,u,f,m,_,C,O,F){var G=Array.prototype.slice.call(arguments,3);try{a.apply(u,G)}catch(ne){this.onError(ne)}}var yo=!1,fa=null,vr=!1,Ql=null,mp={onError:function(s){yo=!0,fa=s}};function pa(s,a,u,f,m,_,C,O,F){yo=!1,fa=null,go.apply(mp,arguments)}function Qc(s,a,u,f,m,_,C,O,F){if(pa.apply(this,arguments),yo){if(yo){var G=fa;yo=!1,fa=null}else throw Error(t(198));vr||(vr=!0,Ql=G)}}function _r(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function vo(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function wr(s){if(_r(s)!==s)throw Error(t(188))}function Yc(s){var a=s.alternate;if(!a){if(a=_r(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,f=a;;){var m=u.return;if(m===null)break;var _=m.alternate;if(_===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===u)return wr(m),s;if(_===f)return wr(m),a;_=_.sibling}throw Error(t(188))}if(u.return!==f.return)u=m,f=_;else{for(var C=!1,O=m.child;O;){if(O===u){C=!0,u=m,f=_;break}if(O===f){C=!0,f=m,u=_;break}O=O.sibling}if(!C){for(O=_.child;O;){if(O===u){C=!0,u=_,f=m;break}if(O===f){C=!0,f=_,u=m;break}O=O.sibling}if(!C)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function Yl(s){return s=Yc(s),s!==null?ma(s):null}function ma(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=ma(s);if(a!==null)return a;s=s.sibling}return null}var ga=e.unstable_scheduleCallback,Xl=e.unstable_cancelCallback,Xc=e.unstable_shouldYield,gp=e.unstable_requestPaint,it=e.unstable_now,Jc=e.unstable_getCurrentPriorityLevel,_o=e.unstable_ImmediatePriority,is=e.unstable_UserBlockingPriority,Zn=e.unstable_NormalPriority,Jl=e.unstable_LowPriority,Zc=e.unstable_IdlePriority,wo=null,Vn=null;function ed(s){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(wo,s,void 0,(s.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:nd,Zl=Math.log,td=Math.LN2;function nd(s){return s>>>=0,s===0?32:31-(Zl(s)/td|0)|0}var ya=64,va=4194304;function ss(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Eo(s,a){var u=s.pendingLanes;if(u===0)return 0;var f=0,m=s.suspendedLanes,_=s.pingedLanes,C=u&268435455;if(C!==0){var O=C&~m;O!==0?f=ss(O):(_&=C,_!==0&&(f=ss(_)))}else C=u&~m,C!==0?f=ss(C):_!==0&&(f=ss(_));if(f===0)return 0;if(a!==0&&a!==f&&(a&m)===0&&(m=f&-f,_=a&-a,m>=_||m===16&&(_&4194240)!==0))return a;if((f&4)!==0&&(f|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)u=31-mn(a),m=1<<u,f|=s[u],a&=~m;return f}function yp(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mi(s,a){for(var u=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,_=s.pendingLanes;0<_;){var C=31-mn(_),O=1<<C,F=m[C];F===-1?((O&u)===0||(O&f)!==0)&&(m[C]=yp(O,a)):F<=a&&(s.expiredLanes|=O),_&=~O}}function Fn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function To(){var s=ya;return ya<<=1,(ya&4194240)===0&&(ya=64),s}function os(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function as(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-mn(a),s[a]=u}function rt(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-mn(u),_=1<<m;a[m]=0,f[m]=-1,s[m]=-1,u&=~_}}function ls(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var f=31-mn(u),m=1<<f;m&a|s[f]&a&&(s[f]|=a),u&=~m}}var Fe=0;function us(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var rd,_a,id,sd,od,eu=!1,zr=[],Gt=null,Er=null,Tr=null,cs=new Map,er=new Map,Wr=[],vp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ad(s,a){switch(s){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":cs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":er.delete(a.pointerId)}}function In(s,a,u,f,m,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[m]},a!==null&&(a=mu(a),a!==null&&_a(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function _p(s,a,u,f,m){switch(a){case"focusin":return Gt=In(Gt,s,a,u,f,m),!0;case"dragenter":return Er=In(Er,s,a,u,f,m),!0;case"mouseover":return Tr=In(Tr,s,a,u,f,m),!0;case"pointerover":var _=m.pointerId;return cs.set(_,In(cs.get(_)||null,s,a,u,f,m)),!0;case"gotpointercapture":return _=m.pointerId,er.set(_,In(er.get(_)||null,s,a,u,f,m)),!0}return!1}function ld(s){var a=Ro(s.target);if(a!==null){var u=_r(a);if(u!==null){if(a=u.tag,a===13){if(a=vo(u),a!==null){s.blockedOn=a,od(s.priority,function(){id(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function gi(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=wa(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);po=f,u.target.dispatchEvent(f),po=null}else return a=mu(u),a!==null&&_a(a),s.blockedOn=u,!1;a.shift()}return!0}function Io(s,a,u){gi(s)&&u.delete(a)}function ud(){eu=!1,Gt!==null&&gi(Gt)&&(Gt=null),Er!==null&&gi(Er)&&(Er=null),Tr!==null&&gi(Tr)&&(Tr=null),cs.forEach(Io),er.forEach(Io)}function Ir(s,a){s.blockedOn===a&&(s.blockedOn=null,eu||(eu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ud)))}function Cr(s){function a(m){return Ir(m,s)}if(0<zr.length){Ir(zr[0],s);for(var u=1;u<zr.length;u++){var f=zr[u];f.blockedOn===s&&(f.blockedOn=null)}}for(Gt!==null&&Ir(Gt,s),Er!==null&&Ir(Er,s),Tr!==null&&Ir(Tr,s),cs.forEach(a),er.forEach(a),u=0;u<Wr.length;u++)f=Wr[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<Wr.length&&(u=Wr[0],u.blockedOn===null);)ld(u),u.blockedOn===null&&Wr.shift()}var yi=q.ReactCurrentBatchConfig,ds=!0;function pt(s,a,u,f){var m=Fe,_=yi.transition;yi.transition=null;try{Fe=1,tu(s,a,u,f)}finally{Fe=m,yi.transition=_}}function wp(s,a,u,f){var m=Fe,_=yi.transition;yi.transition=null;try{Fe=4,tu(s,a,u,f)}finally{Fe=m,yi.transition=_}}function tu(s,a,u,f){if(ds){var m=wa(s,a,u,f);if(m===null)bp(s,a,f,Co,u),ad(s,f);else if(_p(m,s,a,u,f))f.stopPropagation();else if(ad(s,f),a&4&&-1<vp.indexOf(s)){for(;m!==null;){var _=mu(m);if(_!==null&&rd(_),_=wa(s,a,u,f),_===null&&bp(s,a,f,Co,u),_===m)break;m=_}m!==null&&f.stopPropagation()}else bp(s,a,f,null,u)}}var Co=null;function wa(s,a,u,f){if(Co=null,s=ua(f),s=Ro(s),s!==null)if(a=_r(s),a===null)s=null;else if(u=a.tag,u===13){if(s=vo(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Co=s,null}function nu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jc()){case _o:return 1;case is:return 4;case Zn:case Jl:return 16;case Zc:return 536870912;default:return 16}default:return 16}}var Un=null,Ea=null,Cn=null;function ru(){if(Cn)return Cn;var s,a=Ea,u=a.length,f,m="value"in Un?Un.value:Un.textContent,_=m.length;for(s=0;s<u&&a[s]===m[s];s++);var C=u-s;for(f=1;f<=C&&a[u-f]===m[_-f];f++);return Cn=m.slice(s,1<f?1-f:void 0)}function Ta(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Hr(){return!0}function iu(){return!1}function Qt(s){function a(u,f,m,_,C){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=_,this.target=C,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(u=s[O],this[O]=u?u(_):_[O]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Hr:iu,this.isPropagationStopped=iu,this}return se(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){},isPersistent:Hr}),a}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=Qt(Sr),qr=se({},Sr,{view:0,detail:0}),Ep=Qt(qr),Ca,vi,hs,So=se({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==hs&&(hs&&s.type==="mousemove"?(Ca=s.screenX-hs.screenX,vi=s.screenY-hs.screenY):vi=Ca=0,hs=s),Ca)},movementY:function(s){return"movementY"in s?s.movementY:vi}}),Sa=Qt(So),su=se({},So,{dataTransfer:0}),cd=Qt(su),xa=se({},qr,{relatedTarget:0}),Ra=Qt(xa),dd=se({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),_i=Qt(dd),hd=se({},Sr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),fd=Qt(hd),pd=se({},Sr,{data:0}),ou=Qt(pd),Aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},md={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gd(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=md[s])?!!a[s]:!1}function Kr(){return gd}var d=se({},qr,{key:function(s){if(s.key){var a=Aa[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ta(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?gn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(s){return s.type==="keypress"?Ta(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ta(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Qt(d),T=se({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=Qt(T),W=se({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),Q=Qt(W),ae=se({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=Qt(ae),Ot=se({},So,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=Qt(Ot),Ft=[9,13,27,32],Pt=c&&"CompositionEvent"in window,tr=null;c&&"documentMode"in document&&(tr=document.documentMode);var $n=c&&"TextEvent"in window&&!tr,xo=c&&(!Pt||tr&&8<tr&&11>=tr),Pa=" ",F_=!1;function U_(s,a){switch(s){case"keyup":return Ft.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ka=!1;function IP(s,a){switch(s){case"compositionend":return $_(a);case"keypress":return a.which!==32?null:(F_=!0,Pa);case"textInput":return s=a.data,s===Pa&&F_?null:s;default:return null}}function CP(s,a){if(ka)return s==="compositionend"||!Pt&&U_(s,a)?(s=ru(),Cn=Ea=Un=null,ka=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return xo&&a.locale!=="ko"?null:a.data;default:return null}}var SP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!SP[s.type]:a==="textarea"}function z_(s,a,u,f){Br(f),a=Ed(a,"onChange"),0<a.length&&(u=new Ia("onChange","change",null,u,f),s.push({event:u,listeners:a}))}var au=null,lu=null;function xP(s){a0(s,0)}function yd(s){var a=La(s);if(Yi(a))return s}function RP(s,a){if(s==="change")return a}var W_=!1;if(c){var Tp;if(c){var Ip="oninput"in document;if(!Ip){var H_=document.createElement("div");H_.setAttribute("oninput","return;"),Ip=typeof H_.oninput=="function"}Tp=Ip}else Tp=!1;W_=Tp&&(!document.documentMode||9<document.documentMode)}function q_(){au&&(au.detachEvent("onpropertychange",K_),lu=au=null)}function K_(s){if(s.propertyName==="value"&&yd(lu)){var a=[];z_(a,lu,s,ua(s)),Gl(xP,a)}}function AP(s,a,u){s==="focusin"?(q_(),au=a,lu=u,au.attachEvent("onpropertychange",K_)):s==="focusout"&&q_()}function PP(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return yd(lu)}function kP(s,a){if(s==="click")return yd(a)}function bP(s,a){if(s==="input"||s==="change")return yd(a)}function NP(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var xr=typeof Object.is=="function"?Object.is:NP;function uu(s,a){if(xr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!h.call(a,m)||!xr(s[m],a[m]))return!1}return!0}function G_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Q_(s,a){var u=G_(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=a&&f>=a)return{node:u,offset:a-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=G_(u)}}function Y_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Y_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function X_(){for(var s=window,a=gr();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=gr(s.document)}return a}function Cp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function DP(s){var a=X_(),u=s.focusedElem,f=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&Y_(u.ownerDocument.documentElement,u)){if(f!==null&&Cp(u)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,_=Math.min(f.start,m);f=f.end===void 0?_:Math.min(f.end,m),!s.extend&&_>f&&(m=f,f=_,_=m),m=Q_(u,_);var C=Q_(u,f);m&&C&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(a=a.createRange(),a.setStart(m.node,m.offset),s.removeAllRanges(),_>f?(s.addRange(a),s.extend(C.node,C.offset)):(a.setEnd(C.node,C.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var OP=c&&"documentMode"in document&&11>=document.documentMode,ba=null,Sp=null,cu=null,xp=!1;function J_(s,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;xp||ba==null||ba!==gr(f)||(f=ba,"selectionStart"in f&&Cp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),cu&&uu(cu,f)||(cu=f,f=Ed(Sp,"onSelect"),0<f.length&&(a=new Ia("onSelect","select",null,a,u),s.push({event:a,listeners:f}),a.target=ba)))}function vd(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Na={animationend:vd("Animation","AnimationEnd"),animationiteration:vd("Animation","AnimationIteration"),animationstart:vd("Animation","AnimationStart"),transitionend:vd("Transition","TransitionEnd")},Rp={},Z_={};c&&(Z_=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function _d(s){if(Rp[s])return Rp[s];if(!Na[s])return s;var a=Na[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in Z_)return Rp[s]=a[u];return s}var e0=_d("animationend"),t0=_d("animationiteration"),n0=_d("animationstart"),r0=_d("transitionend"),i0=new Map,s0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(s,a){i0.set(s,a),o(a,[s])}for(var Ap=0;Ap<s0.length;Ap++){var Pp=s0[Ap],LP=Pp.toLowerCase(),MP=Pp[0].toUpperCase()+Pp.slice(1);fs(LP,"on"+MP)}fs(e0,"onAnimationEnd"),fs(t0,"onAnimationIteration"),fs(n0,"onAnimationStart"),fs("dblclick","onDoubleClick"),fs("focusin","onFocus"),fs("focusout","onBlur"),fs(r0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jP=new Set("cancel close invalid load scroll toggle".split(" ").concat(du));function o0(s,a,u){var f=s.type||"unknown-event";s.currentTarget=u,Qc(f,a,void 0,s),s.currentTarget=null}function a0(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],m=f.event;f=f.listeners;e:{var _=void 0;if(a)for(var C=f.length-1;0<=C;C--){var O=f[C],F=O.instance,G=O.currentTarget;if(O=O.listener,F!==_&&m.isPropagationStopped())break e;o0(m,O,G),_=F}else for(C=0;C<f.length;C++){if(O=f[C],F=O.instance,G=O.currentTarget,O=O.listener,F!==_&&m.isPropagationStopped())break e;o0(m,O,G),_=F}}}if(vr)throw s=Ql,vr=!1,Ql=null,s}function at(s,a){var u=a[jp];u===void 0&&(u=a[jp]=new Set);var f=s+"__bubble";u.has(f)||(l0(a,s,2,!1),u.add(f))}function kp(s,a,u){var f=0;a&&(f|=4),l0(u,s,f,a)}var wd="_reactListening"+Math.random().toString(36).slice(2);function hu(s){if(!s[wd]){s[wd]=!0,r.forEach(function(u){u!=="selectionchange"&&(jP.has(u)||kp(u,!1,s),kp(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[wd]||(a[wd]=!0,kp("selectionchange",!1,a))}}function l0(s,a,u,f){switch(nu(a)){case 1:var m=pt;break;case 4:m=wp;break;default:m=tu}u=m.bind(null,a,u,s),m=void 0,!ha||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(a,u,{capture:!0,passive:m}):s.addEventListener(a,u,!0):m!==void 0?s.addEventListener(a,u,{passive:m}):s.addEventListener(a,u,!1)}function bp(s,a,u,f,m){var _=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var O=f.stateNode.containerInfo;if(O===m||O.nodeType===8&&O.parentNode===m)break;if(C===4)for(C=f.return;C!==null;){var F=C.tag;if((F===3||F===4)&&(F=C.stateNode.containerInfo,F===m||F.nodeType===8&&F.parentNode===m))return;C=C.return}for(;O!==null;){if(C=Ro(O),C===null)return;if(F=C.tag,F===5||F===6){f=_=C;continue e}O=O.parentNode}}f=f.return}Gl(function(){var G=_,ne=ua(u),re=[];e:{var te=i0.get(s);if(te!==void 0){var de=Ia,ge=s;switch(s){case"keypress":if(Ta(u)===0)break e;case"keydown":case"keyup":de=v;break;case"focusin":ge="focus",de=Ra;break;case"focusout":ge="blur",de=Ra;break;case"beforeblur":case"afterblur":de=Ra;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Sa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=cd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Q;break;case e0:case t0:case n0:de=_i;break;case r0:de=et;break;case"scroll":de=Ep;break;case"wheel":de=Be;break;case"copy":case"cut":case"paste":de=fd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=A}var ye=(a&4)!==0,xt=!ye&&s==="scroll",H=ye?te!==null?te+"Capture":null:te;ye=[];for(var $=G,K;$!==null;){K=$;var oe=K.stateNode;if(K.tag===5&&oe!==null&&(K=oe,H!==null&&(oe=St($,H),oe!=null&&ye.push(fu($,oe,K)))),xt)break;$=$.return}0<ye.length&&(te=new de(te,ge,null,u,ne),re.push({event:te,listeners:ye}))}}if((a&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",te&&u!==po&&(ge=u.relatedTarget||u.fromElement)&&(Ro(ge)||ge[wi]))break e;if((de||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,de?(ge=u.relatedTarget||u.toElement,de=G,ge=ge?Ro(ge):null,ge!==null&&(xt=_r(ge),ge!==xt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(de=null,ge=G),de!==ge)){if(ye=Sa,oe="onMouseLeave",H="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(ye=A,oe="onPointerLeave",H="onPointerEnter",$="pointer"),xt=de==null?te:La(de),K=ge==null?te:La(ge),te=new ye(oe,$+"leave",de,u,ne),te.target=xt,te.relatedTarget=K,oe=null,Ro(ne)===G&&(ye=new ye(H,$+"enter",ge,u,ne),ye.target=K,ye.relatedTarget=xt,oe=ye),xt=oe,de&&ge)t:{for(ye=de,H=ge,$=0,K=ye;K;K=Da(K))$++;for(K=0,oe=H;oe;oe=Da(oe))K++;for(;0<$-K;)ye=Da(ye),$--;for(;0<K-$;)H=Da(H),K--;for(;$--;){if(ye===H||H!==null&&ye===H.alternate)break t;ye=Da(ye),H=Da(H)}ye=null}else ye=null;de!==null&&u0(re,te,de,ye,!1),ge!==null&&xt!==null&&u0(re,xt,ge,ye,!0)}}e:{if(te=G?La(G):window,de=te.nodeName&&te.nodeName.toLowerCase(),de==="select"||de==="input"&&te.type==="file")var ve=RP;else if(B_(te))if(W_)ve=bP;else{ve=PP;var we=AP}else(de=te.nodeName)&&de.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ve=kP);if(ve&&(ve=ve(s,G))){z_(re,ve,u,ne);break e}we&&we(s,te,G),s==="focusout"&&(we=te._wrapperState)&&we.controlled&&te.type==="number"&&es(te,"number",te.value)}switch(we=G?La(G):window,s){case"focusin":(B_(we)||we.contentEditable==="true")&&(ba=we,Sp=G,cu=null);break;case"focusout":cu=Sp=ba=null;break;case"mousedown":xp=!0;break;case"contextmenu":case"mouseup":case"dragend":xp=!1,J_(re,u,ne);break;case"selectionchange":if(OP)break;case"keydown":case"keyup":J_(re,u,ne)}var Ee;if(Pt)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else ka?U_(s,u)&&(Pe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Pe="onCompositionStart");Pe&&(xo&&u.locale!=="ko"&&(ka||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&ka&&(Ee=ru()):(Un=ne,Ea="value"in Un?Un.value:Un.textContent,ka=!0)),we=Ed(G,Pe),0<we.length&&(Pe=new ou(Pe,s,null,u,ne),re.push({event:Pe,listeners:we}),Ee?Pe.data=Ee:(Ee=$_(u),Ee!==null&&(Pe.data=Ee)))),(Ee=$n?IP(s,u):CP(s,u))&&(G=Ed(G,"onBeforeInput"),0<G.length&&(ne=new ou("onBeforeInput","beforeinput",null,u,ne),re.push({event:ne,listeners:G}),ne.data=Ee))}a0(re,a)})}function fu(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Ed(s,a){for(var u=a+"Capture",f=[];s!==null;){var m=s,_=m.stateNode;m.tag===5&&_!==null&&(m=_,_=St(s,u),_!=null&&f.unshift(fu(s,_,m)),_=St(s,a),_!=null&&f.push(fu(s,_,m))),s=s.return}return f}function Da(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function u0(s,a,u,f,m){for(var _=a._reactName,C=[];u!==null&&u!==f;){var O=u,F=O.alternate,G=O.stateNode;if(F!==null&&F===f)break;O.tag===5&&G!==null&&(O=G,m?(F=St(u,_),F!=null&&C.unshift(fu(u,F,O))):m||(F=St(u,_),F!=null&&C.push(fu(u,F,O)))),u=u.return}C.length!==0&&s.push({event:a,listeners:C})}var VP=/\r\n?/g,FP=/\u0000|\uFFFD/g;function c0(s){return(typeof s=="string"?s:""+s).replace(VP,`
`).replace(FP,"")}function Td(s,a,u){if(a=c0(a),c0(s)!==a&&u)throw Error(t(425))}function Id(){}var Np=null,Dp=null;function Op(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Lp=typeof setTimeout=="function"?setTimeout:void 0,UP=typeof clearTimeout=="function"?clearTimeout:void 0,d0=typeof Promise=="function"?Promise:void 0,$P=typeof queueMicrotask=="function"?queueMicrotask:typeof d0<"u"?function(s){return d0.resolve(null).then(s).catch(BP)}:Lp;function BP(s){setTimeout(function(){throw s})}function Mp(s,a){var u=a,f=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){s.removeChild(m),Cr(a);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);Cr(a)}function ps(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function h0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var Oa=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Oa,pu="__reactProps$"+Oa,wi="__reactContainer$"+Oa,jp="__reactEvents$"+Oa,zP="__reactListeners$"+Oa,WP="__reactHandles$"+Oa;function Ro(s){var a=s[Gr];if(a)return a;for(var u=s.parentNode;u;){if(a=u[wi]||u[Gr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=h0(s);s!==null;){if(u=s[Gr])return u;s=h0(s)}return a}s=u,u=s.parentNode}return null}function mu(s){return s=s[Gr]||s[wi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function La(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Cd(s){return s[pu]||null}var Vp=[],Ma=-1;function ms(s){return{current:s}}function lt(s){0>Ma||(s.current=Vp[Ma],Vp[Ma]=null,Ma--)}function st(s,a){Ma++,Vp[Ma]=s.current,s.current=a}var gs={},tn=ms(gs),Sn=ms(!1),Ao=gs;function ja(s,a){var u=s.type.contextTypes;if(!u)return gs;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var m={},_;for(_ in u)m[_]=a[_];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=m),m}function xn(s){return s=s.childContextTypes,s!=null}function Sd(){lt(Sn),lt(tn)}function f0(s,a,u){if(tn.current!==gs)throw Error(t(168));st(tn,a),st(Sn,u)}function p0(s,a,u){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in a))throw Error(t(108,je(s)||"Unknown",m));return se({},u,f)}function xd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||gs,Ao=tn.current,st(tn,s),st(Sn,Sn.current),!0}function m0(s,a,u){var f=s.stateNode;if(!f)throw Error(t(169));u?(s=p0(s,a,Ao),f.__reactInternalMemoizedMergedChildContext=s,lt(Sn),lt(tn),st(tn,s)):lt(Sn),st(Sn,u)}var Ei=null,Rd=!1,Fp=!1;function g0(s){Ei===null?Ei=[s]:Ei.push(s)}function HP(s){Rd=!0,g0(s)}function ys(){if(!Fp&&Ei!==null){Fp=!0;var s=0,a=Fe;try{var u=Ei;for(Fe=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}Ei=null,Rd=!1}catch(m){throw Ei!==null&&(Ei=Ei.slice(s+1)),ga(_o,ys),m}finally{Fe=a,Fp=!1}}return null}var Va=[],Fa=0,Ad=null,Pd=0,nr=[],rr=0,Po=null,Ti=1,Ii="";function ko(s,a){Va[Fa++]=Pd,Va[Fa++]=Ad,Ad=s,Pd=a}function y0(s,a,u){nr[rr++]=Ti,nr[rr++]=Ii,nr[rr++]=Po,Po=s;var f=Ti;s=Ii;var m=32-mn(f)-1;f&=~(1<<m),u+=1;var _=32-mn(a)+m;if(30<_){var C=m-m%5;_=(f&(1<<C)-1).toString(32),f>>=C,m-=C,Ti=1<<32-mn(a)+m|u<<m|f,Ii=_+s}else Ti=1<<_|u<<m|f,Ii=s}function Up(s){s.return!==null&&(ko(s,1),y0(s,1,0))}function $p(s){for(;s===Ad;)Ad=Va[--Fa],Va[Fa]=null,Pd=Va[--Fa],Va[Fa]=null;for(;s===Po;)Po=nr[--rr],nr[rr]=null,Ii=nr[--rr],nr[rr]=null,Ti=nr[--rr],nr[rr]=null}var Bn=null,zn=null,mt=!1,Rr=null;function v0(s,a){var u=ar(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function _0(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Bn=s,zn=ps(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Bn=s,zn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=Po!==null?{id:Ti,overflow:Ii}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=ar(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Bn=s,zn=null,!0):!1;default:return!1}}function Bp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function zp(s){if(mt){var a=zn;if(a){var u=a;if(!_0(s,a)){if(Bp(s))throw Error(t(418));a=ps(u.nextSibling);var f=Bn;a&&_0(s,a)?v0(f,u):(s.flags=s.flags&-4097|2,mt=!1,Bn=s)}}else{if(Bp(s))throw Error(t(418));s.flags=s.flags&-4097|2,mt=!1,Bn=s}}}function w0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Bn=s}function kd(s){if(s!==Bn)return!1;if(!mt)return w0(s),mt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Op(s.type,s.memoizedProps)),a&&(a=zn)){if(Bp(s))throw E0(),Error(t(418));for(;a;)v0(s,a),a=ps(a.nextSibling)}if(w0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){zn=ps(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}zn=null}}else zn=Bn?ps(s.stateNode.nextSibling):null;return!0}function E0(){for(var s=zn;s;)s=ps(s.nextSibling)}function Ua(){zn=Bn=null,mt=!1}function Wp(s){Rr===null?Rr=[s]:Rr.push(s)}var qP=q.ReactCurrentBatchConfig;function gu(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,s));var m=f,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(C){var O=m.refs;C===null?delete O[_]:O[_]=C},a._stringRef=_,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function bd(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function T0(s){var a=s._init;return a(s._payload)}function I0(s){function a(H,$){if(s){var K=H.deletions;K===null?(H.deletions=[$],H.flags|=16):K.push($)}}function u(H,$){if(!s)return null;for(;$!==null;)a(H,$),$=$.sibling;return null}function f(H,$){for(H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function m(H,$){return H=Ss(H,$),H.index=0,H.sibling=null,H}function _(H,$,K){return H.index=K,s?(K=H.alternate,K!==null?(K=K.index,K<$?(H.flags|=2,$):K):(H.flags|=2,$)):(H.flags|=1048576,$)}function C(H){return s&&H.alternate===null&&(H.flags|=2),H}function O(H,$,K,oe){return $===null||$.tag!==6?($=Lm(K,H.mode,oe),$.return=H,$):($=m($,K),$.return=H,$)}function F(H,$,K,oe){var ve=K.type;return ve===N?ne(H,$,K.props.children,oe,K.key):$!==null&&($.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Re&&T0(ve)===$.type)?(oe=m($,K.props),oe.ref=gu(H,$,K),oe.return=H,oe):(oe=th(K.type,K.key,K.props,null,H.mode,oe),oe.ref=gu(H,$,K),oe.return=H,oe)}function G(H,$,K,oe){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=Mm(K,H.mode,oe),$.return=H,$):($=m($,K.children||[]),$.return=H,$)}function ne(H,$,K,oe,ve){return $===null||$.tag!==7?($=Vo(K,H.mode,oe,ve),$.return=H,$):($=m($,K),$.return=H,$)}function re(H,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Lm(""+$,H.mode,K),$.return=H,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case X:return K=th($.type,$.key,$.props,null,H.mode,K),K.ref=gu(H,null,$),K.return=H,K;case J:return $=Mm($,H.mode,K),$.return=H,$;case Re:var oe=$._init;return re(H,oe($._payload),K)}if(Kt($)||ue($))return $=Vo($,H.mode,K,null),$.return=H,$;bd(H,$)}return null}function te(H,$,K,oe){var ve=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ve!==null?null:O(H,$,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case X:return K.key===ve?F(H,$,K,oe):null;case J:return K.key===ve?G(H,$,K,oe):null;case Re:return ve=K._init,te(H,$,ve(K._payload),oe)}if(Kt(K)||ue(K))return ve!==null?null:ne(H,$,K,oe,null);bd(H,K)}return null}function de(H,$,K,oe,ve){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return H=H.get(K)||null,O($,H,""+oe,ve);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case X:return H=H.get(oe.key===null?K:oe.key)||null,F($,H,oe,ve);case J:return H=H.get(oe.key===null?K:oe.key)||null,G($,H,oe,ve);case Re:var we=oe._init;return de(H,$,K,we(oe._payload),ve)}if(Kt(oe)||ue(oe))return H=H.get(K)||null,ne($,H,oe,ve,null);bd($,oe)}return null}function ge(H,$,K,oe){for(var ve=null,we=null,Ee=$,Pe=$=0,Bt=null;Ee!==null&&Pe<K.length;Pe++){Ee.index>Pe?(Bt=Ee,Ee=null):Bt=Ee.sibling;var Qe=te(H,Ee,K[Pe],oe);if(Qe===null){Ee===null&&(Ee=Bt);break}s&&Ee&&Qe.alternate===null&&a(H,Ee),$=_(Qe,$,Pe),we===null?ve=Qe:we.sibling=Qe,we=Qe,Ee=Bt}if(Pe===K.length)return u(H,Ee),mt&&ko(H,Pe),ve;if(Ee===null){for(;Pe<K.length;Pe++)Ee=re(H,K[Pe],oe),Ee!==null&&($=_(Ee,$,Pe),we===null?ve=Ee:we.sibling=Ee,we=Ee);return mt&&ko(H,Pe),ve}for(Ee=f(H,Ee);Pe<K.length;Pe++)Bt=de(Ee,H,Pe,K[Pe],oe),Bt!==null&&(s&&Bt.alternate!==null&&Ee.delete(Bt.key===null?Pe:Bt.key),$=_(Bt,$,Pe),we===null?ve=Bt:we.sibling=Bt,we=Bt);return s&&Ee.forEach(function(xs){return a(H,xs)}),mt&&ko(H,Pe),ve}function ye(H,$,K,oe){var ve=ue(K);if(typeof ve!="function")throw Error(t(150));if(K=ve.call(K),K==null)throw Error(t(151));for(var we=ve=null,Ee=$,Pe=$=0,Bt=null,Qe=K.next();Ee!==null&&!Qe.done;Pe++,Qe=K.next()){Ee.index>Pe?(Bt=Ee,Ee=null):Bt=Ee.sibling;var xs=te(H,Ee,Qe.value,oe);if(xs===null){Ee===null&&(Ee=Bt);break}s&&Ee&&xs.alternate===null&&a(H,Ee),$=_(xs,$,Pe),we===null?ve=xs:we.sibling=xs,we=xs,Ee=Bt}if(Qe.done)return u(H,Ee),mt&&ko(H,Pe),ve;if(Ee===null){for(;!Qe.done;Pe++,Qe=K.next())Qe=re(H,Qe.value,oe),Qe!==null&&($=_(Qe,$,Pe),we===null?ve=Qe:we.sibling=Qe,we=Qe);return mt&&ko(H,Pe),ve}for(Ee=f(H,Ee);!Qe.done;Pe++,Qe=K.next())Qe=de(Ee,H,Pe,Qe.value,oe),Qe!==null&&(s&&Qe.alternate!==null&&Ee.delete(Qe.key===null?Pe:Qe.key),$=_(Qe,$,Pe),we===null?ve=Qe:we.sibling=Qe,we=Qe);return s&&Ee.forEach(function(S2){return a(H,S2)}),mt&&ko(H,Pe),ve}function xt(H,$,K,oe){if(typeof K=="object"&&K!==null&&K.type===N&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case X:e:{for(var ve=K.key,we=$;we!==null;){if(we.key===ve){if(ve=K.type,ve===N){if(we.tag===7){u(H,we.sibling),$=m(we,K.props.children),$.return=H,H=$;break e}}else if(we.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Re&&T0(ve)===we.type){u(H,we.sibling),$=m(we,K.props),$.ref=gu(H,we,K),$.return=H,H=$;break e}u(H,we);break}else a(H,we);we=we.sibling}K.type===N?($=Vo(K.props.children,H.mode,oe,K.key),$.return=H,H=$):(oe=th(K.type,K.key,K.props,null,H.mode,oe),oe.ref=gu(H,$,K),oe.return=H,H=oe)}return C(H);case J:e:{for(we=K.key;$!==null;){if($.key===we)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){u(H,$.sibling),$=m($,K.children||[]),$.return=H,H=$;break e}else{u(H,$);break}else a(H,$);$=$.sibling}$=Mm(K,H.mode,oe),$.return=H,H=$}return C(H);case Re:return we=K._init,xt(H,$,we(K._payload),oe)}if(Kt(K))return ge(H,$,K,oe);if(ue(K))return ye(H,$,K,oe);bd(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,$!==null&&$.tag===6?(u(H,$.sibling),$=m($,K),$.return=H,H=$):(u(H,$),$=Lm(K,H.mode,oe),$.return=H,H=$),C(H)):u(H,$)}return xt}var $a=I0(!0),C0=I0(!1),Nd=ms(null),Dd=null,Ba=null,Hp=null;function qp(){Hp=Ba=Dd=null}function Kp(s){var a=Nd.current;lt(Nd),s._currentValue=a}function Gp(s,a,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===u)break;s=s.return}}function za(s,a){Dd=s,Hp=Ba=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Rn=!0),s.firstContext=null)}function ir(s){var a=s._currentValue;if(Hp!==s)if(s={context:s,memoizedValue:a,next:null},Ba===null){if(Dd===null)throw Error(t(308));Ba=s,Dd.dependencies={lanes:0,firstContext:s}}else Ba=Ba.next=s;return a}var bo=null;function Qp(s){bo===null?bo=[s]:bo.push(s)}function S0(s,a,u,f){var m=a.interleaved;return m===null?(u.next=u,Qp(a)):(u.next=m.next,m.next=u),a.interleaved=u,Ci(s,f)}function Ci(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var vs=!1;function Yp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Si(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function _s(s,a,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Ke&2)!==0){var m=f.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),f.pending=a,Ci(s,u)}return m=f.interleaved,m===null?(a.next=a,Qp(f)):(a.next=m.next,m.next=a),f.interleaved=a,Ci(s,u)}function Od(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,ls(s,u)}}function R0(s,a){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var C={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?m=_=C:_=_.next=C,u=u.next}while(u!==null);_===null?m=_=a:_=_.next=a}else m=_=a;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function Ld(s,a,u,f){var m=s.updateQueue;vs=!1;var _=m.firstBaseUpdate,C=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var F=O,G=F.next;F.next=null,C===null?_=G:C.next=G,C=F;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,O=ne.lastBaseUpdate,O!==C&&(O===null?ne.firstBaseUpdate=G:O.next=G,ne.lastBaseUpdate=F))}if(_!==null){var re=m.baseState;C=0,ne=G=F=null,O=_;do{var te=O.lane,de=O.eventTime;if((f&te)===te){ne!==null&&(ne=ne.next={eventTime:de,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var ge=s,ye=O;switch(te=a,de=u,ye.tag){case 1:if(ge=ye.payload,typeof ge=="function"){re=ge.call(de,re,te);break e}re=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ye.payload,te=typeof ge=="function"?ge.call(de,re,te):ge,te==null)break e;re=se({},re,te);break e;case 2:vs=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,te=m.effects,te===null?m.effects=[O]:te.push(O))}else de={eventTime:de,lane:te,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ne===null?(G=ne=de,F=re):ne=ne.next=de,C|=te;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;te=O,O=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(ne===null&&(F=re),m.baseState=F,m.firstBaseUpdate=G,m.lastBaseUpdate=ne,a=m.shared.interleaved,a!==null){m=a;do C|=m.lane,m=m.next;while(m!==a)}else _===null&&(m.shared.lanes=0);Oo|=C,s.lanes=C,s.memoizedState=re}}function A0(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var yu={},Qr=ms(yu),vu=ms(yu),_u=ms(yu);function No(s){if(s===yu)throw Error(t(174));return s}function Xp(s,a){switch(st(_u,a),st(vu,s),st(Qr,yu),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:wt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=wt(a,s)}lt(Qr),st(Qr,a)}function Wa(){lt(Qr),lt(vu),lt(_u)}function P0(s){No(_u.current);var a=No(Qr.current),u=wt(a,s.type);a!==u&&(st(vu,s),st(Qr,u))}function Jp(s){vu.current===s&&(lt(Qr),lt(vu))}var yt=ms(0);function Md(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Zp=[];function em(){for(var s=0;s<Zp.length;s++)Zp[s]._workInProgressVersionPrimary=null;Zp.length=0}var jd=q.ReactCurrentDispatcher,tm=q.ReactCurrentBatchConfig,Do=0,vt=null,Lt=null,Ut=null,Vd=!1,wu=!1,Eu=0,KP=0;function nn(){throw Error(t(321))}function nm(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!xr(s[u],a[u]))return!1;return!0}function rm(s,a,u,f,m,_){if(Do=_,vt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,jd.current=s===null||s.memoizedState===null?XP:JP,s=u(f,m),wu){_=0;do{if(wu=!1,Eu=0,25<=_)throw Error(t(301));_+=1,Ut=Lt=null,a.updateQueue=null,jd.current=ZP,s=u(f,m)}while(wu)}if(jd.current=$d,a=Lt!==null&&Lt.next!==null,Do=0,Ut=Lt=vt=null,Vd=!1,a)throw Error(t(300));return s}function im(){var s=Eu!==0;return Eu=0,s}function Yr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?vt.memoizedState=Ut=s:Ut=Ut.next=s,Ut}function sr(){if(Lt===null){var s=vt.alternate;s=s!==null?s.memoizedState:null}else s=Lt.next;var a=Ut===null?vt.memoizedState:Ut.next;if(a!==null)Ut=a,Lt=s;else{if(s===null)throw Error(t(310));Lt=s,s={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ut===null?vt.memoizedState=Ut=s:Ut=Ut.next=s}return Ut}function Tu(s,a){return typeof a=="function"?a(s):a}function sm(s){var a=sr(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=Lt,m=f.baseQueue,_=u.pending;if(_!==null){if(m!==null){var C=m.next;m.next=_.next,_.next=C}f.baseQueue=m=_,u.pending=null}if(m!==null){_=m.next,f=f.baseState;var O=C=null,F=null,G=_;do{var ne=G.lane;if((Do&ne)===ne)F!==null&&(F=F.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),f=G.hasEagerState?G.eagerState:s(f,G.action);else{var re={lane:ne,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};F===null?(O=F=re,C=f):F=F.next=re,vt.lanes|=ne,Oo|=ne}G=G.next}while(G!==null&&G!==_);F===null?C=f:F.next=O,xr(f,a.memoizedState)||(Rn=!0),a.memoizedState=f,a.baseState=C,a.baseQueue=F,u.lastRenderedState=f}if(s=u.interleaved,s!==null){m=s;do _=m.lane,vt.lanes|=_,Oo|=_,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function om(s){var a=sr(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=u.dispatch,m=u.pending,_=a.memoizedState;if(m!==null){u.pending=null;var C=m=m.next;do _=s(_,C.action),C=C.next;while(C!==m);xr(_,a.memoizedState)||(Rn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),u.lastRenderedState=_}return[_,f]}function k0(){}function b0(s,a){var u=vt,f=sr(),m=a(),_=!xr(f.memoizedState,m);if(_&&(f.memoizedState=m,Rn=!0),f=f.queue,am(O0.bind(null,u,f,s),[s]),f.getSnapshot!==a||_||Ut!==null&&Ut.memoizedState.tag&1){if(u.flags|=2048,Iu(9,D0.bind(null,u,f,m,a),void 0,null),$t===null)throw Error(t(349));(Do&30)!==0||N0(u,a,m)}return m}function N0(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=vt.updateQueue,a===null?(a={lastEffect:null,stores:null},vt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function D0(s,a,u,f){a.value=u,a.getSnapshot=f,L0(a)&&M0(s)}function O0(s,a,u){return u(function(){L0(a)&&M0(s)})}function L0(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!xr(s,u)}catch{return!0}}function M0(s){var a=Ci(s,1);a!==null&&br(a,s,1,-1)}function j0(s){var a=Yr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tu,lastRenderedState:s},a.queue=s,s=s.dispatch=YP.bind(null,vt,s),[a.memoizedState,s]}function Iu(s,a,u,f){return s={tag:s,create:a,destroy:u,deps:f,next:null},a=vt.updateQueue,a===null?(a={lastEffect:null,stores:null},vt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,a.lastEffect=s)),s}function V0(){return sr().memoizedState}function Fd(s,a,u,f){var m=Yr();vt.flags|=s,m.memoizedState=Iu(1|a,u,void 0,f===void 0?null:f)}function Ud(s,a,u,f){var m=sr();f=f===void 0?null:f;var _=void 0;if(Lt!==null){var C=Lt.memoizedState;if(_=C.destroy,f!==null&&nm(f,C.deps)){m.memoizedState=Iu(a,u,_,f);return}}vt.flags|=s,m.memoizedState=Iu(1|a,u,_,f)}function F0(s,a){return Fd(8390656,8,s,a)}function am(s,a){return Ud(2048,8,s,a)}function U0(s,a){return Ud(4,2,s,a)}function $0(s,a){return Ud(4,4,s,a)}function B0(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function z0(s,a,u){return u=u!=null?u.concat([s]):null,Ud(4,4,B0.bind(null,a,s),u)}function lm(){}function W0(s,a){var u=sr();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&nm(a,f[1])?f[0]:(u.memoizedState=[s,a],s)}function H0(s,a){var u=sr();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&nm(a,f[1])?f[0]:(s=s(),u.memoizedState=[s,a],s)}function q0(s,a,u){return(Do&21)===0?(s.baseState&&(s.baseState=!1,Rn=!0),s.memoizedState=u):(xr(u,a)||(u=To(),vt.lanes|=u,Oo|=u,s.baseState=!0),a)}function GP(s,a){var u=Fe;Fe=u!==0&&4>u?u:4,s(!0);var f=tm.transition;tm.transition={};try{s(!1),a()}finally{Fe=u,tm.transition=f}}function K0(){return sr().memoizedState}function QP(s,a,u){var f=Is(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},G0(s))Q0(a,u);else if(u=S0(s,a,u,f),u!==null){var m=vn();br(u,s,f,m),Y0(u,a,f)}}function YP(s,a,u){var f=Is(s),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(G0(s))Q0(a,m);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var C=a.lastRenderedState,O=_(C,u);if(m.hasEagerState=!0,m.eagerState=O,xr(O,C)){var F=a.interleaved;F===null?(m.next=m,Qp(a)):(m.next=F.next,F.next=m),a.interleaved=m;return}}catch{}finally{}u=S0(s,a,m,f),u!==null&&(m=vn(),br(u,s,f,m),Y0(u,a,f))}}function G0(s){var a=s.alternate;return s===vt||a!==null&&a===vt}function Q0(s,a){wu=Vd=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function Y0(s,a,u){if((u&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,ls(s,u)}}var $d={readContext:ir,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},XP={readContext:ir,useCallback:function(s,a){return Yr().memoizedState=[s,a===void 0?null:a],s},useContext:ir,useEffect:F0,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,Fd(4194308,4,B0.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Fd(4194308,4,s,a)},useInsertionEffect:function(s,a){return Fd(4,2,s,a)},useMemo:function(s,a){var u=Yr();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var f=Yr();return a=u!==void 0?u(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=QP.bind(null,vt,s),[f.memoizedState,s]},useRef:function(s){var a=Yr();return s={current:s},a.memoizedState=s},useState:j0,useDebugValue:lm,useDeferredValue:function(s){return Yr().memoizedState=s},useTransition:function(){var s=j0(!1),a=s[0];return s=GP.bind(null,s[1]),Yr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var f=vt,m=Yr();if(mt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),$t===null)throw Error(t(349));(Do&30)!==0||N0(f,a,u)}m.memoizedState=u;var _={value:u,getSnapshot:a};return m.queue=_,F0(O0.bind(null,f,_,s),[s]),f.flags|=2048,Iu(9,D0.bind(null,f,_,u,a),void 0,null),u},useId:function(){var s=Yr(),a=$t.identifierPrefix;if(mt){var u=Ii,f=Ti;u=(f&~(1<<32-mn(f)-1)).toString(32)+u,a=":"+a+"R"+u,u=Eu++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=KP++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},JP={readContext:ir,useCallback:W0,useContext:ir,useEffect:am,useImperativeHandle:z0,useInsertionEffect:U0,useLayoutEffect:$0,useMemo:H0,useReducer:sm,useRef:V0,useState:function(){return sm(Tu)},useDebugValue:lm,useDeferredValue:function(s){var a=sr();return q0(a,Lt.memoizedState,s)},useTransition:function(){var s=sm(Tu)[0],a=sr().memoizedState;return[s,a]},useMutableSource:k0,useSyncExternalStore:b0,useId:K0,unstable_isNewReconciler:!1},ZP={readContext:ir,useCallback:W0,useContext:ir,useEffect:am,useImperativeHandle:z0,useInsertionEffect:U0,useLayoutEffect:$0,useMemo:H0,useReducer:om,useRef:V0,useState:function(){return om(Tu)},useDebugValue:lm,useDeferredValue:function(s){var a=sr();return Lt===null?a.memoizedState=s:q0(a,Lt.memoizedState,s)},useTransition:function(){var s=om(Tu)[0],a=sr().memoizedState;return[s,a]},useMutableSource:k0,useSyncExternalStore:b0,useId:K0,unstable_isNewReconciler:!1};function Ar(s,a){if(s&&s.defaultProps){a=se({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function um(s,a,u,f){a=s.memoizedState,u=u(f,a),u=u==null?a:se({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Bd={isMounted:function(s){return(s=s._reactInternals)?_r(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var f=vn(),m=Is(s),_=Si(f,m);_.payload=a,u!=null&&(_.callback=u),a=_s(s,_,m),a!==null&&(br(a,s,m,f),Od(a,s,m))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var f=vn(),m=Is(s),_=Si(f,m);_.tag=1,_.payload=a,u!=null&&(_.callback=u),a=_s(s,_,m),a!==null&&(br(a,s,m,f),Od(a,s,m))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=vn(),f=Is(s),m=Si(u,f);m.tag=2,a!=null&&(m.callback=a),a=_s(s,m,f),a!==null&&(br(a,s,f,u),Od(a,s,f))}};function X0(s,a,u,f,m,_,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,_,C):a.prototype&&a.prototype.isPureReactComponent?!uu(u,f)||!uu(m,_):!0}function J0(s,a,u){var f=!1,m=gs,_=a.contextType;return typeof _=="object"&&_!==null?_=ir(_):(m=xn(a)?Ao:tn.current,f=a.contextTypes,_=(f=f!=null)?ja(s,m):gs),a=new a(u,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Bd,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=_),a}function Z0(s,a,u,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==s&&Bd.enqueueReplaceState(a,a.state,null)}function cm(s,a,u,f){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},Yp(s);var _=a.contextType;typeof _=="object"&&_!==null?m.context=ir(_):(_=xn(a)?Ao:tn.current,m.context=ja(s,_)),m.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(um(s,a,_,u),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(a=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),a!==m.state&&Bd.enqueueReplaceState(m,m.state,null),Ld(s,u,m,f),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function Ha(s,a){try{var u="",f=a;do u+=Ae(f),f=f.return;while(f);var m=u}catch(_){m=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:m,digest:null}}function dm(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function hm(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var e2=typeof WeakMap=="function"?WeakMap:Map;function ew(s,a,u){u=Si(-1,u),u.tag=3,u.payload={element:null};var f=a.value;return u.callback=function(){Qd||(Qd=!0,Rm=f),hm(s,a)},u}function tw(s,a,u){u=Si(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=a.value;u.payload=function(){return f(m)},u.callback=function(){hm(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){hm(s,a),typeof f!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})}),u}function nw(s,a,u){var f=s.pingCache;if(f===null){f=s.pingCache=new e2;var m=new Set;f.set(a,m)}else m=f.get(a),m===void 0&&(m=new Set,f.set(a,m));m.has(u)||(m.add(u),s=p2.bind(null,s,a,u),a.then(s,s))}function rw(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function iw(s,a,u,f,m){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Si(-1,1),a.tag=2,_s(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var t2=q.ReactCurrentOwner,Rn=!1;function yn(s,a,u,f){a.child=s===null?C0(a,null,u,f):$a(a,s.child,u,f)}function sw(s,a,u,f,m){u=u.render;var _=a.ref;return za(a,m),f=rm(s,a,u,f,_,m),u=im(),s!==null&&!Rn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,xi(s,a,m)):(mt&&u&&Up(a),a.flags|=1,yn(s,a,f,m),a.child)}function ow(s,a,u,f,m){if(s===null){var _=u.type;return typeof _=="function"&&!Om(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=_,aw(s,a,_,f,m)):(s=th(u.type,null,f,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,(s.lanes&m)===0){var C=_.memoizedProps;if(u=u.compare,u=u!==null?u:uu,u(C,f)&&s.ref===a.ref)return xi(s,a,m)}return a.flags|=1,s=Ss(_,f),s.ref=a.ref,s.return=a,a.child=s}function aw(s,a,u,f,m){if(s!==null){var _=s.memoizedProps;if(uu(_,f)&&s.ref===a.ref)if(Rn=!1,a.pendingProps=f=_,(s.lanes&m)!==0)(s.flags&131072)!==0&&(Rn=!0);else return a.lanes=s.lanes,xi(s,a,m)}return fm(s,a,u,f,m)}function lw(s,a,u){var f=a.pendingProps,m=f.children,_=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Ka,Wn),Wn|=u;else{if((u&1073741824)===0)return s=_!==null?_.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,st(Ka,Wn),Wn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,st(Ka,Wn),Wn|=f}else _!==null?(f=_.baseLanes|u,a.memoizedState=null):f=u,st(Ka,Wn),Wn|=f;return yn(s,a,m,u),a.child}function uw(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function fm(s,a,u,f,m){var _=xn(u)?Ao:tn.current;return _=ja(a,_),za(a,m),u=rm(s,a,u,f,_,m),f=im(),s!==null&&!Rn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,xi(s,a,m)):(mt&&f&&Up(a),a.flags|=1,yn(s,a,u,m),a.child)}function cw(s,a,u,f,m){if(xn(u)){var _=!0;xd(a)}else _=!1;if(za(a,m),a.stateNode===null)Wd(s,a),J0(a,u,f),cm(a,u,f,m),f=!0;else if(s===null){var C=a.stateNode,O=a.memoizedProps;C.props=O;var F=C.context,G=u.contextType;typeof G=="object"&&G!==null?G=ir(G):(G=xn(u)?Ao:tn.current,G=ja(a,G));var ne=u.getDerivedStateFromProps,re=typeof ne=="function"||typeof C.getSnapshotBeforeUpdate=="function";re||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==f||F!==G)&&Z0(a,C,f,G),vs=!1;var te=a.memoizedState;C.state=te,Ld(a,f,C,m),F=a.memoizedState,O!==f||te!==F||Sn.current||vs?(typeof ne=="function"&&(um(a,u,ne,f),F=a.memoizedState),(O=vs||X0(a,u,O,f,te,F,G))?(re||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(a.flags|=4194308)):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=F),C.props=f,C.state=F,C.context=G,f=O):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{C=a.stateNode,x0(s,a),O=a.memoizedProps,G=a.type===a.elementType?O:Ar(a.type,O),C.props=G,re=a.pendingProps,te=C.context,F=u.contextType,typeof F=="object"&&F!==null?F=ir(F):(F=xn(u)?Ao:tn.current,F=ja(a,F));var de=u.getDerivedStateFromProps;(ne=typeof de=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==re||te!==F)&&Z0(a,C,f,F),vs=!1,te=a.memoizedState,C.state=te,Ld(a,f,C,m);var ge=a.memoizedState;O!==re||te!==ge||Sn.current||vs?(typeof de=="function"&&(um(a,u,de,f),ge=a.memoizedState),(G=vs||X0(a,u,G,f,te,ge,F)||!1)?(ne||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(f,ge,F),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(f,ge,F)),typeof C.componentDidUpdate=="function"&&(a.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof C.componentDidUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=ge),C.props=f,C.state=ge,C.context=F,f=G):(typeof C.componentDidUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),f=!1)}return pm(s,a,u,f,_,m)}function pm(s,a,u,f,m,_){uw(s,a);var C=(a.flags&128)!==0;if(!f&&!C)return m&&m0(a,u,!1),xi(s,a,_);f=a.stateNode,t2.current=a;var O=C&&typeof u.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&C?(a.child=$a(a,s.child,null,_),a.child=$a(a,null,O,_)):yn(s,a,O,_),a.memoizedState=f.state,m&&m0(a,u,!0),a.child}function dw(s){var a=s.stateNode;a.pendingContext?f0(s,a.pendingContext,a.pendingContext!==a.context):a.context&&f0(s,a.context,!1),Xp(s,a.containerInfo)}function hw(s,a,u,f,m){return Ua(),Wp(m),a.flags|=256,yn(s,a,u,f),a.child}var mm={dehydrated:null,treeContext:null,retryLane:0};function gm(s){return{baseLanes:s,cachePool:null,transitions:null}}function fw(s,a,u){var f=a.pendingProps,m=yt.current,_=!1,C=(a.flags&128)!==0,O;if((O=C)||(O=s!==null&&s.memoizedState===null?!1:(m&2)!==0),O?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),st(yt,m&1),s===null)return zp(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(C=f.children,s=f.fallback,_?(f=a.mode,_=a.child,C={mode:"hidden",children:C},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=C):_=nh(C,f,0,null),s=Vo(s,f,u,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=gm(u),a.memoizedState=mm,s):ym(a,C));if(m=s.memoizedState,m!==null&&(O=m.dehydrated,O!==null))return n2(s,a,C,f,O,m,u);if(_){_=f.fallback,C=a.mode,m=s.child,O=m.sibling;var F={mode:"hidden",children:f.children};return(C&1)===0&&a.child!==m?(f=a.child,f.childLanes=0,f.pendingProps=F,a.deletions=null):(f=Ss(m,F),f.subtreeFlags=m.subtreeFlags&14680064),O!==null?_=Ss(O,_):(_=Vo(_,C,u,null),_.flags|=2),_.return=a,f.return=a,f.sibling=_,a.child=f,f=_,_=a.child,C=s.child.memoizedState,C=C===null?gm(u):{baseLanes:C.baseLanes|u,cachePool:null,transitions:C.transitions},_.memoizedState=C,_.childLanes=s.childLanes&~u,a.memoizedState=mm,f}return _=s.child,s=_.sibling,f=Ss(_,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=u),f.return=a,f.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=f,a.memoizedState=null,f}function ym(s,a){return a=nh({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function zd(s,a,u,f){return f!==null&&Wp(f),$a(a,s.child,null,u),s=ym(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function n2(s,a,u,f,m,_,C){if(u)return a.flags&256?(a.flags&=-257,f=dm(Error(t(422))),zd(s,a,C,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=f.fallback,m=a.mode,f=nh({mode:"visible",children:f.children},m,0,null),_=Vo(_,m,C,null),_.flags|=2,f.return=a,_.return=a,f.sibling=_,a.child=f,(a.mode&1)!==0&&$a(a,s.child,null,C),a.child.memoizedState=gm(C),a.memoizedState=mm,_);if((a.mode&1)===0)return zd(s,a,C,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var O=f.dgst;return f=O,_=Error(t(419)),f=dm(_,f,void 0),zd(s,a,C,f)}if(O=(C&s.childLanes)!==0,Rn||O){if(f=$t,f!==null){switch(C&-C){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|C))!==0?0:m,m!==0&&m!==_.retryLane&&(_.retryLane=m,Ci(s,m),br(f,s,m,-1))}return Dm(),f=dm(Error(t(421))),zd(s,a,C,f)}return m.data==="$?"?(a.flags|=128,a.child=s.child,a=m2.bind(null,s),m._reactRetry=a,null):(s=_.treeContext,zn=ps(m.nextSibling),Bn=a,mt=!0,Rr=null,s!==null&&(nr[rr++]=Ti,nr[rr++]=Ii,nr[rr++]=Po,Ti=s.id,Ii=s.overflow,Po=a),a=ym(a,f.children),a.flags|=4096,a)}function pw(s,a,u){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),Gp(s.return,a,u)}function vm(s,a,u,f,m){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=m)}function mw(s,a,u){var f=a.pendingProps,m=f.revealOrder,_=f.tail;if(yn(s,a,f.children,u),f=yt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&pw(s,u,a);else if(s.tag===19)pw(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(st(yt,f),(a.mode&1)===0)a.memoizedState=null;else switch(m){case"forwards":for(u=a.child,m=null;u!==null;)s=u.alternate,s!==null&&Md(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=a.child,a.child=null):(m=u.sibling,u.sibling=null),vm(a,!1,m,u,_);break;case"backwards":for(u=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Md(s)===null){a.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}vm(a,!0,u,null,_);break;case"together":vm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Wd(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function xi(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Oo|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=Ss(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Ss(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function r2(s,a,u){switch(a.tag){case 3:dw(a),Ua();break;case 5:P0(a);break;case 1:xn(a.type)&&xd(a);break;case 4:Xp(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,m=a.memoizedProps.value;st(Nd,f._currentValue),f._currentValue=m;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(st(yt,yt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?fw(s,a,u):(st(yt,yt.current&1),s=xi(s,a,u),s!==null?s.sibling:null);st(yt,yt.current&1);break;case 19:if(f=(u&a.childLanes)!==0,(s.flags&128)!==0){if(f)return mw(s,a,u);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),st(yt,yt.current),f)break;return null;case 22:case 23:return a.lanes=0,lw(s,a,u)}return xi(s,a,u)}var gw,_m,yw,vw;gw=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},_m=function(){},yw=function(s,a,u,f){var m=s.memoizedProps;if(m!==f){s=a.stateNode,No(Qr.current);var _=null;switch(u){case"input":m=hi(s,m),f=hi(s,f),_=[];break;case"select":m=se({},m,{value:void 0}),f=se({},f,{value:void 0}),_=[];break;case"textarea":m=ts(s,m),f=ts(s,f),_=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Id)}Wl(u,f);var C;u=null;for(G in m)if(!f.hasOwnProperty(G)&&m.hasOwnProperty(G)&&m[G]!=null)if(G==="style"){var O=m[G];for(C in O)O.hasOwnProperty(C)&&(u||(u={}),u[C]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(i.hasOwnProperty(G)?_||(_=[]):(_=_||[]).push(G,null));for(G in f){var F=f[G];if(O=m!=null?m[G]:void 0,f.hasOwnProperty(G)&&F!==O&&(F!=null||O!=null))if(G==="style")if(O){for(C in O)!O.hasOwnProperty(C)||F&&F.hasOwnProperty(C)||(u||(u={}),u[C]="");for(C in F)F.hasOwnProperty(C)&&O[C]!==F[C]&&(u||(u={}),u[C]=F[C])}else u||(_||(_=[]),_.push(G,u)),u=F;else G==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,O=O?O.__html:void 0,F!=null&&O!==F&&(_=_||[]).push(G,F)):G==="children"?typeof F!="string"&&typeof F!="number"||(_=_||[]).push(G,""+F):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(i.hasOwnProperty(G)?(F!=null&&G==="onScroll"&&at("scroll",s),_||O===F||(_=[])):(_=_||[]).push(G,F))}u&&(_=_||[]).push("style",u);var G=_;(a.updateQueue=G)&&(a.flags|=4)}},vw=function(s,a,u,f){u!==f&&(a.flags|=4)};function Cu(s,a){if(!mt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function rn(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(a)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=u,a}function i2(s,a,u){var f=a.pendingProps;switch($p(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(a),null;case 1:return xn(a.type)&&Sd(),rn(a),null;case 3:return f=a.stateNode,Wa(),lt(Sn),lt(tn),em(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(kd(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Rr!==null&&(km(Rr),Rr=null))),_m(s,a),rn(a),null;case 5:Jp(a);var m=No(_u.current);if(u=a.type,s!==null&&a.stateNode!=null)yw(s,a,u,f,m),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return rn(a),null}if(s=No(Qr.current),kd(a)){f=a.stateNode,u=a.type;var _=a.memoizedProps;switch(f[Gr]=a,f[pu]=_,s=(a.mode&1)!==0,u){case"dialog":at("cancel",f),at("close",f);break;case"iframe":case"object":case"embed":at("load",f);break;case"video":case"audio":for(m=0;m<du.length;m++)at(du[m],f);break;case"source":at("error",f);break;case"img":case"image":case"link":at("error",f),at("load",f);break;case"details":at("toggle",f);break;case"input":Xi(f,_),at("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},at("invalid",f);break;case"textarea":fi(f,_),at("invalid",f)}Wl(u,_),m=null;for(var C in _)if(_.hasOwnProperty(C)){var O=_[C];C==="children"?typeof O=="string"?f.textContent!==O&&(_.suppressHydrationWarning!==!0&&Td(f.textContent,O,s),m=["children",O]):typeof O=="number"&&f.textContent!==""+O&&(_.suppressHydrationWarning!==!0&&Td(f.textContent,O,s),m=["children",""+O]):i.hasOwnProperty(C)&&O!=null&&C==="onScroll"&&at("scroll",f)}switch(u){case"input":jn(f),la(f,_,!0);break;case"textarea":jn(f),ns(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=Id)}f=m,a.updateQueue=f,f!==null&&(a.flags|=4)}else{C=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=_t(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=C.createElement(u,{is:f.is}):(s=C.createElement(u),u==="select"&&(C=s,f.multiple?C.multiple=!0:f.size&&(C.size=f.size))):s=C.createElementNS(s,u),s[Gr]=a,s[pu]=f,gw(s,a,!1,!1),a.stateNode=s;e:{switch(C=Hl(u,f),u){case"dialog":at("cancel",s),at("close",s),m=f;break;case"iframe":case"object":case"embed":at("load",s),m=f;break;case"video":case"audio":for(m=0;m<du.length;m++)at(du[m],s);m=f;break;case"source":at("error",s),m=f;break;case"img":case"image":case"link":at("error",s),at("load",s),m=f;break;case"details":at("toggle",s),m=f;break;case"input":Xi(s,f),m=hi(s,f),at("invalid",s);break;case"option":m=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},m=se({},f,{value:void 0}),at("invalid",s);break;case"textarea":fi(s,f),m=ts(s,f),at("invalid",s);break;default:m=f}Wl(u,m),O=m;for(_ in O)if(O.hasOwnProperty(_)){var F=O[_];_==="style"?Bl(s,F):_==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Ul(s,F)):_==="children"?typeof F=="string"?(u!=="textarea"||F!=="")&&rs(s,F):typeof F=="number"&&rs(s,""+F):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?F!=null&&_==="onScroll"&&at("scroll",s):F!=null&&B(s,_,F,C))}switch(u){case"input":jn(s),la(s,f,!1);break;case"textarea":jn(s),ns(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Oe(f.value));break;case"select":s.multiple=!!f.multiple,_=f.value,_!=null?Tn(s,!!f.multiple,_,!1):f.defaultValue!=null&&Tn(s,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Id)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return rn(a),null;case 6:if(s&&a.stateNode!=null)vw(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(u=No(_u.current),No(Qr.current),kd(a)){if(f=a.stateNode,u=a.memoizedProps,f[Gr]=a,(_=f.nodeValue!==u)&&(s=Bn,s!==null))switch(s.tag){case 3:Td(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Td(f.nodeValue,u,(s.mode&1)!==0)}_&&(a.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Gr]=a,a.stateNode=f}return rn(a),null;case 13:if(lt(yt),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(mt&&zn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)E0(),Ua(),a.flags|=98560,_=!1;else if(_=kd(a),f!==null&&f.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Gr]=a}else Ua(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;rn(a),_=!1}else Rr!==null&&(km(Rr),Rr=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(yt.current&1)!==0?Mt===0&&(Mt=3):Dm())),a.updateQueue!==null&&(a.flags|=4),rn(a),null);case 4:return Wa(),_m(s,a),s===null&&hu(a.stateNode.containerInfo),rn(a),null;case 10:return Kp(a.type._context),rn(a),null;case 17:return xn(a.type)&&Sd(),rn(a),null;case 19:if(lt(yt),_=a.memoizedState,_===null)return rn(a),null;if(f=(a.flags&128)!==0,C=_.rendering,C===null)if(f)Cu(_,!1);else{if(Mt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(C=Md(s),C!==null){for(a.flags|=128,Cu(_,!1),f=C.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=u,u=a.child;u!==null;)_=u,s=f,_.flags&=14680066,C=_.alternate,C===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=C.childLanes,_.lanes=C.lanes,_.child=C.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=C.memoizedProps,_.memoizedState=C.memoizedState,_.updateQueue=C.updateQueue,_.type=C.type,s=C.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return st(yt,yt.current&1|2),a.child}s=s.sibling}_.tail!==null&&it()>Ga&&(a.flags|=128,f=!0,Cu(_,!1),a.lanes=4194304)}else{if(!f)if(s=Md(C),s!==null){if(a.flags|=128,f=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Cu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!C.alternate&&!mt)return rn(a),null}else 2*it()-_.renderingStartTime>Ga&&u!==1073741824&&(a.flags|=128,f=!0,Cu(_,!1),a.lanes=4194304);_.isBackwards?(C.sibling=a.child,a.child=C):(u=_.last,u!==null?u.sibling=C:a.child=C,_.last=C)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=it(),a.sibling=null,u=yt.current,st(yt,f?u&1|2:u&1),a):(rn(a),null);case 22:case 23:return Nm(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(Wn&1073741824)!==0&&(rn(a),a.subtreeFlags&6&&(a.flags|=8192)):rn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function s2(s,a){switch($p(a),a.tag){case 1:return xn(a.type)&&Sd(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Wa(),lt(Sn),lt(tn),em(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Jp(a),null;case 13:if(lt(yt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Ua()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return lt(yt),null;case 4:return Wa(),null;case 10:return Kp(a.type._context),null;case 22:case 23:return Nm(),null;case 24:return null;default:return null}}var Hd=!1,sn=!1,o2=typeof WeakSet=="function"?WeakSet:Set,pe=null;function qa(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Et(s,a,f)}else u.current=null}function wm(s,a,u){try{u()}catch(f){Et(s,a,f)}}var _w=!1;function a2(s,a){if(Np=ds,s=X_(),Cp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var C=0,O=-1,F=-1,G=0,ne=0,re=s,te=null;t:for(;;){for(var de;re!==u||m!==0&&re.nodeType!==3||(O=C+m),re!==_||f!==0&&re.nodeType!==3||(F=C+f),re.nodeType===3&&(C+=re.nodeValue.length),(de=re.firstChild)!==null;)te=re,re=de;for(;;){if(re===s)break t;if(te===u&&++G===m&&(O=C),te===_&&++ne===f&&(F=C),(de=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=de}u=O===-1||F===-1?null:{start:O,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(Dp={focusedElem:s,selectionRange:u},ds=!1,pe=a;pe!==null;)if(a=pe,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,pe=s;else for(;pe!==null;){a=pe;try{var ge=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ye=ge.memoizedProps,xt=ge.memoizedState,H=a.stateNode,$=H.getSnapshotBeforeUpdate(a.elementType===a.type?ye:Ar(a.type,ye),xt);H.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var K=a.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){Et(a,a.return,oe)}if(s=a.sibling,s!==null){s.return=a.return,pe=s;break}pe=a.return}return ge=_w,_w=!1,ge}function Su(s,a,u){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&s)===s){var _=m.destroy;m.destroy=void 0,_!==void 0&&wm(a,u,_)}m=m.next}while(m!==f)}}function qd(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==a)}}function Em(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function ww(s){var a=s.alternate;a!==null&&(s.alternate=null,ww(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Gr],delete a[pu],delete a[jp],delete a[zP],delete a[WP])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Ew(s){return s.tag===5||s.tag===3||s.tag===4}function Tw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ew(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Tm(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Id));else if(f!==4&&(s=s.child,s!==null))for(Tm(s,a,u),s=s.sibling;s!==null;)Tm(s,a,u),s=s.sibling}function Im(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Im(s,a,u),s=s.sibling;s!==null;)Im(s,a,u),s=s.sibling}var Yt=null,Pr=!1;function ws(s,a,u){for(u=u.child;u!==null;)Iw(s,a,u),u=u.sibling}function Iw(s,a,u){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(wo,u)}catch{}switch(u.tag){case 5:sn||qa(u,a);case 6:var f=Yt,m=Pr;Yt=null,ws(s,a,u),Yt=f,Pr=m,Yt!==null&&(Pr?(s=Yt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Yt.removeChild(u.stateNode));break;case 18:Yt!==null&&(Pr?(s=Yt,u=u.stateNode,s.nodeType===8?Mp(s.parentNode,u):s.nodeType===1&&Mp(s,u),Cr(s)):Mp(Yt,u.stateNode));break;case 4:f=Yt,m=Pr,Yt=u.stateNode.containerInfo,Pr=!0,ws(s,a,u),Yt=f,Pr=m;break;case 0:case 11:case 14:case 15:if(!sn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var _=m,C=_.destroy;_=_.tag,C!==void 0&&((_&2)!==0||(_&4)!==0)&&wm(u,a,C),m=m.next}while(m!==f)}ws(s,a,u);break;case 1:if(!sn&&(qa(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(O){Et(u,a,O)}ws(s,a,u);break;case 21:ws(s,a,u);break;case 22:u.mode&1?(sn=(f=sn)||u.memoizedState!==null,ws(s,a,u),sn=f):ws(s,a,u);break;default:ws(s,a,u)}}function Cw(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new o2),a.forEach(function(f){var m=g2.bind(null,s,f);u.has(f)||(u.add(f),f.then(m,m))})}}function kr(s,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var _=s,C=a,O=C;e:for(;O!==null;){switch(O.tag){case 5:Yt=O.stateNode,Pr=!1;break e;case 3:Yt=O.stateNode.containerInfo,Pr=!0;break e;case 4:Yt=O.stateNode.containerInfo,Pr=!0;break e}O=O.return}if(Yt===null)throw Error(t(160));Iw(_,C,m),Yt=null,Pr=!1;var F=m.alternate;F!==null&&(F.return=null),m.return=null}catch(G){Et(m,a,G)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Sw(a,s),a=a.sibling}function Sw(s,a){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(kr(a,s),Xr(s),f&4){try{Su(3,s,s.return),qd(3,s)}catch(ye){Et(s,s.return,ye)}try{Su(5,s,s.return)}catch(ye){Et(s,s.return,ye)}}break;case 1:kr(a,s),Xr(s),f&512&&u!==null&&qa(u,u.return);break;case 5:if(kr(a,s),Xr(s),f&512&&u!==null&&qa(u,u.return),s.flags&32){var m=s.stateNode;try{rs(m,"")}catch(ye){Et(s,s.return,ye)}}if(f&4&&(m=s.stateNode,m!=null)){var _=s.memoizedProps,C=u!==null?u.memoizedProps:_,O=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{O==="input"&&_.type==="radio"&&_.name!=null&&Ji(m,_),Hl(O,C);var G=Hl(O,_);for(C=0;C<F.length;C+=2){var ne=F[C],re=F[C+1];ne==="style"?Bl(m,re):ne==="dangerouslySetInnerHTML"?Ul(m,re):ne==="children"?rs(m,re):B(m,ne,re,G)}switch(O){case"input":Zi(m,_);break;case"textarea":Ur(m,_);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!_.multiple;var de=_.value;de!=null?Tn(m,!!_.multiple,de,!1):te!==!!_.multiple&&(_.defaultValue!=null?Tn(m,!!_.multiple,_.defaultValue,!0):Tn(m,!!_.multiple,_.multiple?[]:"",!1))}m[pu]=_}catch(ye){Et(s,s.return,ye)}}break;case 6:if(kr(a,s),Xr(s),f&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,_=s.memoizedProps;try{m.nodeValue=_}catch(ye){Et(s,s.return,ye)}}break;case 3:if(kr(a,s),Xr(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Cr(a.containerInfo)}catch(ye){Et(s,s.return,ye)}break;case 4:kr(a,s),Xr(s);break;case 13:kr(a,s),Xr(s),m=s.child,m.flags&8192&&(_=m.memoizedState!==null,m.stateNode.isHidden=_,!_||m.alternate!==null&&m.alternate.memoizedState!==null||(xm=it())),f&4&&Cw(s);break;case 22:if(ne=u!==null&&u.memoizedState!==null,s.mode&1?(sn=(G=sn)||ne,kr(a,s),sn=G):kr(a,s),Xr(s),f&8192){if(G=s.memoizedState!==null,(s.stateNode.isHidden=G)&&!ne&&(s.mode&1)!==0)for(pe=s,ne=s.child;ne!==null;){for(re=pe=ne;pe!==null;){switch(te=pe,de=te.child,te.tag){case 0:case 11:case 14:case 15:Su(4,te,te.return);break;case 1:qa(te,te.return);var ge=te.stateNode;if(typeof ge.componentWillUnmount=="function"){f=te,u=te.return;try{a=f,ge.props=a.memoizedProps,ge.state=a.memoizedState,ge.componentWillUnmount()}catch(ye){Et(f,u,ye)}}break;case 5:qa(te,te.return);break;case 22:if(te.memoizedState!==null){Aw(re);continue}}de!==null?(de.return=te,pe=de):Aw(re)}ne=ne.sibling}e:for(ne=null,re=s;;){if(re.tag===5){if(ne===null){ne=re;try{m=re.stateNode,G?(_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(O=re.stateNode,F=re.memoizedProps.style,C=F!=null&&F.hasOwnProperty("display")?F.display:null,O.style.display=$l("display",C))}catch(ye){Et(s,s.return,ye)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=G?"":re.memoizedProps}catch(ye){Et(s,s.return,ye)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===s)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===s)break e;for(;re.sibling===null;){if(re.return===null||re.return===s)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:kr(a,s),Xr(s),f&4&&Cw(s);break;case 21:break;default:kr(a,s),Xr(s)}}function Xr(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(Ew(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(rs(m,""),f.flags&=-33);var _=Tw(s);Im(s,_,m);break;case 3:case 4:var C=f.stateNode.containerInfo,O=Tw(s);Tm(s,O,C);break;default:throw Error(t(161))}}catch(F){Et(s,s.return,F)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function l2(s,a,u){pe=s,xw(s)}function xw(s,a,u){for(var f=(s.mode&1)!==0;pe!==null;){var m=pe,_=m.child;if(m.tag===22&&f){var C=m.memoizedState!==null||Hd;if(!C){var O=m.alternate,F=O!==null&&O.memoizedState!==null||sn;O=Hd;var G=sn;if(Hd=C,(sn=F)&&!G)for(pe=m;pe!==null;)C=pe,F=C.child,C.tag===22&&C.memoizedState!==null?Pw(m):F!==null?(F.return=C,pe=F):Pw(m);for(;_!==null;)pe=_,xw(_),_=_.sibling;pe=m,Hd=O,sn=G}Rw(s)}else(m.subtreeFlags&8772)!==0&&_!==null?(_.return=m,pe=_):Rw(s)}}function Rw(s){for(;pe!==null;){var a=pe;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:sn||qd(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!sn)if(u===null)f.componentDidMount();else{var m=a.elementType===a.type?u.memoizedProps:Ar(a.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&A0(a,_,f);break;case 3:var C=a.updateQueue;if(C!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}A0(a,C,u)}break;case 5:var O=a.stateNode;if(u===null&&a.flags&4){u=O;var F=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&u.focus();break;case"img":F.src&&(u.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var G=a.alternate;if(G!==null){var ne=G.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&Cr(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}sn||a.flags&512&&Em(a)}catch(te){Et(a,a.return,te)}}if(a===s){pe=null;break}if(u=a.sibling,u!==null){u.return=a.return,pe=u;break}pe=a.return}}function Aw(s){for(;pe!==null;){var a=pe;if(a===s){pe=null;break}var u=a.sibling;if(u!==null){u.return=a.return,pe=u;break}pe=a.return}}function Pw(s){for(;pe!==null;){var a=pe;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{qd(4,a)}catch(F){Et(a,u,F)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var m=a.return;try{f.componentDidMount()}catch(F){Et(a,m,F)}}var _=a.return;try{Em(a)}catch(F){Et(a,_,F)}break;case 5:var C=a.return;try{Em(a)}catch(F){Et(a,C,F)}}}catch(F){Et(a,a.return,F)}if(a===s){pe=null;break}var O=a.sibling;if(O!==null){O.return=a.return,pe=O;break}pe=a.return}}var u2=Math.ceil,Kd=q.ReactCurrentDispatcher,Cm=q.ReactCurrentOwner,or=q.ReactCurrentBatchConfig,Ke=0,$t=null,kt=null,Xt=0,Wn=0,Ka=ms(0),Mt=0,xu=null,Oo=0,Gd=0,Sm=0,Ru=null,An=null,xm=0,Ga=1/0,Ri=null,Qd=!1,Rm=null,Es=null,Yd=!1,Ts=null,Xd=0,Au=0,Am=null,Jd=-1,Zd=0;function vn(){return(Ke&6)!==0?it():Jd!==-1?Jd:Jd=it()}function Is(s){return(s.mode&1)===0?1:(Ke&2)!==0&&Xt!==0?Xt&-Xt:qP.transition!==null?(Zd===0&&(Zd=To()),Zd):(s=Fe,s!==0||(s=window.event,s=s===void 0?16:nu(s.type)),s)}function br(s,a,u,f){if(50<Au)throw Au=0,Am=null,Error(t(185));as(s,u,f),((Ke&2)===0||s!==$t)&&(s===$t&&((Ke&2)===0&&(Gd|=u),Mt===4&&Cs(s,Xt)),Pn(s,f),u===1&&Ke===0&&(a.mode&1)===0&&(Ga=it()+500,Rd&&ys()))}function Pn(s,a){var u=s.callbackNode;mi(s,a);var f=Eo(s,s===$t?Xt:0);if(f===0)u!==null&&Xl(u),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(u!=null&&Xl(u),a===1)s.tag===0?HP(bw.bind(null,s)):g0(bw.bind(null,s)),$P(function(){(Ke&6)===0&&ys()}),u=null;else{switch(us(f)){case 1:u=_o;break;case 4:u=is;break;case 16:u=Zn;break;case 536870912:u=Zc;break;default:u=Zn}u=Fw(u,kw.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function kw(s,a){if(Jd=-1,Zd=0,(Ke&6)!==0)throw Error(t(327));var u=s.callbackNode;if(Qa()&&s.callbackNode!==u)return null;var f=Eo(s,s===$t?Xt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=eh(s,f);else{a=f;var m=Ke;Ke|=2;var _=Dw();($t!==s||Xt!==a)&&(Ri=null,Ga=it()+500,Mo(s,a));do try{h2();break}catch(O){Nw(s,O)}while(!0);qp(),Kd.current=_,Ke=m,kt!==null?a=0:($t=null,Xt=0,a=Mt)}if(a!==0){if(a===2&&(m=Fn(s),m!==0&&(f=m,a=Pm(s,m))),a===1)throw u=xu,Mo(s,0),Cs(s,f),Pn(s,it()),u;if(a===6)Cs(s,f);else{if(m=s.current.alternate,(f&30)===0&&!c2(m)&&(a=eh(s,f),a===2&&(_=Fn(s),_!==0&&(f=_,a=Pm(s,_))),a===1))throw u=xu,Mo(s,0),Cs(s,f),Pn(s,it()),u;switch(s.finishedWork=m,s.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:jo(s,An,Ri);break;case 3:if(Cs(s,f),(f&130023424)===f&&(a=xm+500-it(),10<a)){if(Eo(s,0)!==0)break;if(m=s.suspendedLanes,(m&f)!==f){vn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Lp(jo.bind(null,s,An,Ri),a);break}jo(s,An,Ri);break;case 4:if(Cs(s,f),(f&4194240)===f)break;for(a=s.eventTimes,m=-1;0<f;){var C=31-mn(f);_=1<<C,C=a[C],C>m&&(m=C),f&=~_}if(f=m,f=it()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*u2(f/1960))-f,10<f){s.timeoutHandle=Lp(jo.bind(null,s,An,Ri),f);break}jo(s,An,Ri);break;case 5:jo(s,An,Ri);break;default:throw Error(t(329))}}}return Pn(s,it()),s.callbackNode===u?kw.bind(null,s):null}function Pm(s,a){var u=Ru;return s.current.memoizedState.isDehydrated&&(Mo(s,a).flags|=256),s=eh(s,a),s!==2&&(a=An,An=u,a!==null&&km(a)),s}function km(s){An===null?An=s:An.push.apply(An,s)}function c2(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],_=m.getSnapshot;m=m.value;try{if(!xr(_(),m))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Cs(s,a){for(a&=~Sm,a&=~Gd,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-mn(a),f=1<<u;s[u]=-1,a&=~f}}function bw(s){if((Ke&6)!==0)throw Error(t(327));Qa();var a=Eo(s,0);if((a&1)===0)return Pn(s,it()),null;var u=eh(s,a);if(s.tag!==0&&u===2){var f=Fn(s);f!==0&&(a=f,u=Pm(s,f))}if(u===1)throw u=xu,Mo(s,0),Cs(s,a),Pn(s,it()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,jo(s,An,Ri),Pn(s,it()),null}function bm(s,a){var u=Ke;Ke|=1;try{return s(a)}finally{Ke=u,Ke===0&&(Ga=it()+500,Rd&&ys())}}function Lo(s){Ts!==null&&Ts.tag===0&&(Ke&6)===0&&Qa();var a=Ke;Ke|=1;var u=or.transition,f=Fe;try{if(or.transition=null,Fe=1,s)return s()}finally{Fe=f,or.transition=u,Ke=a,(Ke&6)===0&&ys()}}function Nm(){Wn=Ka.current,lt(Ka)}function Mo(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,UP(u)),kt!==null)for(u=kt.return;u!==null;){var f=u;switch($p(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Sd();break;case 3:Wa(),lt(Sn),lt(tn),em();break;case 5:Jp(f);break;case 4:Wa();break;case 13:lt(yt);break;case 19:lt(yt);break;case 10:Kp(f.type._context);break;case 22:case 23:Nm()}u=u.return}if($t=s,kt=s=Ss(s.current,null),Xt=Wn=a,Mt=0,xu=null,Sm=Gd=Oo=0,An=Ru=null,bo!==null){for(a=0;a<bo.length;a++)if(u=bo[a],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,_=u.pending;if(_!==null){var C=_.next;_.next=m,f.next=C}u.pending=f}bo=null}return s}function Nw(s,a){do{var u=kt;try{if(qp(),jd.current=$d,Vd){for(var f=vt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Vd=!1}if(Do=0,Ut=Lt=vt=null,wu=!1,Eu=0,Cm.current=null,u===null||u.return===null){Mt=1,xu=a,kt=null;break}e:{var _=s,C=u.return,O=u,F=a;if(a=Xt,O.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var G=F,ne=O,re=ne.tag;if((ne.mode&1)===0&&(re===0||re===11||re===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var de=rw(C);if(de!==null){de.flags&=-257,iw(de,C,O,_,a),de.mode&1&&nw(_,G,a),a=de,F=G;var ge=a.updateQueue;if(ge===null){var ye=new Set;ye.add(F),a.updateQueue=ye}else ge.add(F);break e}else{if((a&1)===0){nw(_,G,a),Dm();break e}F=Error(t(426))}}else if(mt&&O.mode&1){var xt=rw(C);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),iw(xt,C,O,_,a),Wp(Ha(F,O));break e}}_=F=Ha(F,O),Mt!==4&&(Mt=2),Ru===null?Ru=[_]:Ru.push(_),_=C;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var H=ew(_,F,a);R0(_,H);break e;case 1:O=F;var $=_.type,K=_.stateNode;if((_.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Es===null||!Es.has(K)))){_.flags|=65536,a&=-a,_.lanes|=a;var oe=tw(_,O,a);R0(_,oe);break e}}_=_.return}while(_!==null)}Lw(u)}catch(ve){a=ve,kt===u&&u!==null&&(kt=u=u.return);continue}break}while(!0)}function Dw(){var s=Kd.current;return Kd.current=$d,s===null?$d:s}function Dm(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),$t===null||(Oo&268435455)===0&&(Gd&268435455)===0||Cs($t,Xt)}function eh(s,a){var u=Ke;Ke|=2;var f=Dw();($t!==s||Xt!==a)&&(Ri=null,Mo(s,a));do try{d2();break}catch(m){Nw(s,m)}while(!0);if(qp(),Ke=u,Kd.current=f,kt!==null)throw Error(t(261));return $t=null,Xt=0,Mt}function d2(){for(;kt!==null;)Ow(kt)}function h2(){for(;kt!==null&&!Xc();)Ow(kt)}function Ow(s){var a=Vw(s.alternate,s,Wn);s.memoizedProps=s.pendingProps,a===null?Lw(s):kt=a,Cm.current=null}function Lw(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=i2(u,a,Wn),u!==null){kt=u;return}}else{if(u=s2(u,a),u!==null){u.flags&=32767,kt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Mt=6,kt=null;return}}if(a=a.sibling,a!==null){kt=a;return}kt=a=s}while(a!==null);Mt===0&&(Mt=5)}function jo(s,a,u){var f=Fe,m=or.transition;try{or.transition=null,Fe=1,f2(s,a,u,f)}finally{or.transition=m,Fe=f}return null}function f2(s,a,u,f){do Qa();while(Ts!==null);if((Ke&6)!==0)throw Error(t(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=u.lanes|u.childLanes;if(rt(s,_),s===$t&&(kt=$t=null,Xt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Yd||(Yd=!0,Fw(Zn,function(){return Qa(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=or.transition,or.transition=null;var C=Fe;Fe=1;var O=Ke;Ke|=4,Cm.current=null,a2(s,u),Sw(u,s),DP(Dp),ds=!!Np,Dp=Np=null,s.current=u,l2(u),gp(),Ke=O,Fe=C,or.transition=_}else s.current=u;if(Yd&&(Yd=!1,Ts=s,Xd=m),_=s.pendingLanes,_===0&&(Es=null),ed(u.stateNode),Pn(s,it()),a!==null)for(f=s.onRecoverableError,u=0;u<a.length;u++)m=a[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(Qd)throw Qd=!1,s=Rm,Rm=null,s;return(Xd&1)!==0&&s.tag!==0&&Qa(),_=s.pendingLanes,(_&1)!==0?s===Am?Au++:(Au=0,Am=s):Au=0,ys(),null}function Qa(){if(Ts!==null){var s=us(Xd),a=or.transition,u=Fe;try{if(or.transition=null,Fe=16>s?16:s,Ts===null)var f=!1;else{if(s=Ts,Ts=null,Xd=0,(Ke&6)!==0)throw Error(t(331));var m=Ke;for(Ke|=4,pe=s.current;pe!==null;){var _=pe,C=_.child;if((pe.flags&16)!==0){var O=_.deletions;if(O!==null){for(var F=0;F<O.length;F++){var G=O[F];for(pe=G;pe!==null;){var ne=pe;switch(ne.tag){case 0:case 11:case 15:Su(8,ne,_)}var re=ne.child;if(re!==null)re.return=ne,pe=re;else for(;pe!==null;){ne=pe;var te=ne.sibling,de=ne.return;if(ww(ne),ne===G){pe=null;break}if(te!==null){te.return=de,pe=te;break}pe=de}}}var ge=_.alternate;if(ge!==null){var ye=ge.child;if(ye!==null){ge.child=null;do{var xt=ye.sibling;ye.sibling=null,ye=xt}while(ye!==null)}}pe=_}}if((_.subtreeFlags&2064)!==0&&C!==null)C.return=_,pe=C;else e:for(;pe!==null;){if(_=pe,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Su(9,_,_.return)}var H=_.sibling;if(H!==null){H.return=_.return,pe=H;break e}pe=_.return}}var $=s.current;for(pe=$;pe!==null;){C=pe;var K=C.child;if((C.subtreeFlags&2064)!==0&&K!==null)K.return=C,pe=K;else e:for(C=$;pe!==null;){if(O=pe,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:qd(9,O)}}catch(ve){Et(O,O.return,ve)}if(O===C){pe=null;break e}var oe=O.sibling;if(oe!==null){oe.return=O.return,pe=oe;break e}pe=O.return}}if(Ke=m,ys(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(wo,s)}catch{}f=!0}return f}finally{Fe=u,or.transition=a}}return!1}function Mw(s,a,u){a=Ha(u,a),a=ew(s,a,1),s=_s(s,a,1),a=vn(),s!==null&&(as(s,1,a),Pn(s,a))}function Et(s,a,u){if(s.tag===3)Mw(s,s,u);else for(;a!==null;){if(a.tag===3){Mw(a,s,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Es===null||!Es.has(f))){s=Ha(u,s),s=tw(a,s,1),a=_s(a,s,1),s=vn(),a!==null&&(as(a,1,s),Pn(a,s));break}}a=a.return}}function p2(s,a,u){var f=s.pingCache;f!==null&&f.delete(a),a=vn(),s.pingedLanes|=s.suspendedLanes&u,$t===s&&(Xt&u)===u&&(Mt===4||Mt===3&&(Xt&130023424)===Xt&&500>it()-xm?Mo(s,0):Sm|=u),Pn(s,a)}function jw(s,a){a===0&&((s.mode&1)===0?a=1:(a=va,va<<=1,(va&130023424)===0&&(va=4194304)));var u=vn();s=Ci(s,a),s!==null&&(as(s,a,u),Pn(s,u))}function m2(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),jw(s,u)}function g2(s,a){var u=0;switch(s.tag){case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),jw(s,u)}var Vw;Vw=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||Sn.current)Rn=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return Rn=!1,r2(s,a,u);Rn=(s.flags&131072)!==0}else Rn=!1,mt&&(a.flags&1048576)!==0&&y0(a,Pd,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Wd(s,a),s=a.pendingProps;var m=ja(a,tn.current);za(a,u),m=rm(null,a,f,s,m,u);var _=im();return a.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,xn(f)?(_=!0,xd(a)):_=!1,a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Yp(a),m.updater=Bd,a.stateNode=m,m._reactInternals=a,cm(a,f,s,u),a=pm(null,a,f,!0,_,u)):(a.tag=0,mt&&_&&Up(a),yn(null,a,m,u),a=a.child),a;case 16:f=a.elementType;e:{switch(Wd(s,a),s=a.pendingProps,m=f._init,f=m(f._payload),a.type=f,m=a.tag=v2(f),s=Ar(f,s),m){case 0:a=fm(null,a,f,s,u);break e;case 1:a=cw(null,a,f,s,u);break e;case 11:a=sw(null,a,f,s,u);break e;case 14:a=ow(null,a,f,Ar(f.type,s),u);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:Ar(f,m),fm(s,a,f,m,u);case 1:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:Ar(f,m),cw(s,a,f,m,u);case 3:e:{if(dw(a),s===null)throw Error(t(387));f=a.pendingProps,_=a.memoizedState,m=_.element,x0(s,a),Ld(a,f,null,u);var C=a.memoizedState;if(f=C.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){m=Ha(Error(t(423)),a),a=hw(s,a,f,u,m);break e}else if(f!==m){m=Ha(Error(t(424)),a),a=hw(s,a,f,u,m);break e}else for(zn=ps(a.stateNode.containerInfo.firstChild),Bn=a,mt=!0,Rr=null,u=C0(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ua(),f===m){a=xi(s,a,u);break e}yn(s,a,f,u)}a=a.child}return a;case 5:return P0(a),s===null&&zp(a),f=a.type,m=a.pendingProps,_=s!==null?s.memoizedProps:null,C=m.children,Op(f,m)?C=null:_!==null&&Op(f,_)&&(a.flags|=32),uw(s,a),yn(s,a,C,u),a.child;case 6:return s===null&&zp(a),null;case 13:return fw(s,a,u);case 4:return Xp(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=$a(a,null,f,u):yn(s,a,f,u),a.child;case 11:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:Ar(f,m),sw(s,a,f,m,u);case 7:return yn(s,a,a.pendingProps,u),a.child;case 8:return yn(s,a,a.pendingProps.children,u),a.child;case 12:return yn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(f=a.type._context,m=a.pendingProps,_=a.memoizedProps,C=m.value,st(Nd,f._currentValue),f._currentValue=C,_!==null)if(xr(_.value,C)){if(_.children===m.children&&!Sn.current){a=xi(s,a,u);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var O=_.dependencies;if(O!==null){C=_.child;for(var F=O.firstContext;F!==null;){if(F.context===f){if(_.tag===1){F=Si(-1,u&-u),F.tag=2;var G=_.updateQueue;if(G!==null){G=G.shared;var ne=G.pending;ne===null?F.next=F:(F.next=ne.next,ne.next=F),G.pending=F}}_.lanes|=u,F=_.alternate,F!==null&&(F.lanes|=u),Gp(_.return,u,a),O.lanes|=u;break}F=F.next}}else if(_.tag===10)C=_.type===a.type?null:_.child;else if(_.tag===18){if(C=_.return,C===null)throw Error(t(341));C.lanes|=u,O=C.alternate,O!==null&&(O.lanes|=u),Gp(C,u,a),C=_.sibling}else C=_.child;if(C!==null)C.return=_;else for(C=_;C!==null;){if(C===a){C=null;break}if(_=C.sibling,_!==null){_.return=C.return,C=_;break}C=C.return}_=C}yn(s,a,m.children,u),a=a.child}return a;case 9:return m=a.type,f=a.pendingProps.children,za(a,u),m=ir(m),f=f(m),a.flags|=1,yn(s,a,f,u),a.child;case 14:return f=a.type,m=Ar(f,a.pendingProps),m=Ar(f.type,m),ow(s,a,f,m,u);case 15:return aw(s,a,a.type,a.pendingProps,u);case 17:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:Ar(f,m),Wd(s,a),a.tag=1,xn(f)?(s=!0,xd(a)):s=!1,za(a,u),J0(a,f,m),cm(a,f,m,u),pm(null,a,f,!0,s,u);case 19:return mw(s,a,u);case 22:return lw(s,a,u)}throw Error(t(156,a.tag))};function Fw(s,a){return ga(s,a)}function y2(s,a,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(s,a,u,f){return new y2(s,a,u,f)}function Om(s){return s=s.prototype,!(!s||!s.isReactComponent)}function v2(s){if(typeof s=="function")return Om(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===Se)return 14}return 2}function Ss(s,a){var u=s.alternate;return u===null?(u=ar(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function th(s,a,u,f,m,_){var C=2;if(f=s,typeof s=="function")Om(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case N:return Vo(u.children,m,_,a);case P:C=8,m|=8;break;case b:return s=ar(12,u,a,m|2),s.elementType=b,s.lanes=_,s;case D:return s=ar(13,u,a,m),s.elementType=D,s.lanes=_,s;case le:return s=ar(19,u,a,m),s.elementType=le,s.lanes=_,s;case Te:return nh(u,m,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:C=10;break e;case j:C=9;break e;case V:C=11;break e;case Se:C=14;break e;case Re:C=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=ar(C,u,a,m),a.elementType=s,a.type=f,a.lanes=_,a}function Vo(s,a,u,f){return s=ar(7,s,f,a),s.lanes=u,s}function nh(s,a,u,f){return s=ar(22,s,f,a),s.elementType=Te,s.lanes=u,s.stateNode={isHidden:!1},s}function Lm(s,a,u){return s=ar(6,s,null,a),s.lanes=u,s}function Mm(s,a,u){return a=ar(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function _2(s,a,u,f,m){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=os(0),this.expirationTimes=os(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=os(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function jm(s,a,u,f,m,_,C,O,F){return s=new _2(s,a,u,O,F),a===1?(a=1,_===!0&&(a|=8)):a=0,_=ar(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yp(_),s}function w2(s,a,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:f==null?null:""+f,children:s,containerInfo:a,implementation:u}}function Uw(s){if(!s)return gs;s=s._reactInternals;e:{if(_r(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(xn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(xn(u))return p0(s,u,a)}return a}function $w(s,a,u,f,m,_,C,O,F){return s=jm(u,f,!0,s,m,_,C,O,F),s.context=Uw(null),u=s.current,f=vn(),m=Is(u),_=Si(f,m),_.callback=a??null,_s(u,_,m),s.current.lanes=m,as(s,m,f),Pn(s,f),s}function rh(s,a,u,f){var m=a.current,_=vn(),C=Is(m);return u=Uw(u),a.context===null?a.context=u:a.pendingContext=u,a=Si(_,C),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=_s(m,a,C),s!==null&&(br(s,m,C,_),Od(s,m,C)),C}function ih(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Bw(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Vm(s,a){Bw(s,a),(s=s.alternate)&&Bw(s,a)}function E2(){return null}var zw=typeof reportError=="function"?reportError:function(s){console.error(s)};function Fm(s){this._internalRoot=s}sh.prototype.render=Fm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));rh(s,a,null,null)},sh.prototype.unmount=Fm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Lo(function(){rh(null,s,null,null)}),a[wi]=null}};function sh(s){this._internalRoot=s}sh.prototype.unstable_scheduleHydration=function(s){if(s){var a=sd();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Wr.length&&a!==0&&a<Wr[u].priority;u++);Wr.splice(u,0,s),u===0&&ld(s)}};function Um(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function oh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Ww(){}function T2(s,a,u,f,m){if(m){if(typeof f=="function"){var _=f;f=function(){var G=ih(C);_.call(G)}}var C=$w(a,f,s,0,null,!1,!1,"",Ww);return s._reactRootContainer=C,s[wi]=C.current,hu(s.nodeType===8?s.parentNode:s),Lo(),C}for(;m=s.lastChild;)s.removeChild(m);if(typeof f=="function"){var O=f;f=function(){var G=ih(F);O.call(G)}}var F=jm(s,0,!1,null,null,!1,!1,"",Ww);return s._reactRootContainer=F,s[wi]=F.current,hu(s.nodeType===8?s.parentNode:s),Lo(function(){rh(a,F,u,f)}),F}function ah(s,a,u,f,m){var _=u._reactRootContainer;if(_){var C=_;if(typeof m=="function"){var O=m;m=function(){var F=ih(C);O.call(F)}}rh(a,C,s,m)}else C=T2(u,a,s,m,f);return ih(C)}rd=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=ss(a.pendingLanes);u!==0&&(ls(a,u|1),Pn(a,it()),(Ke&6)===0&&(Ga=it()+500,ys()))}break;case 13:Lo(function(){var f=Ci(s,1);if(f!==null){var m=vn();br(f,s,1,m)}}),Vm(s,1)}},_a=function(s){if(s.tag===13){var a=Ci(s,134217728);if(a!==null){var u=vn();br(a,s,134217728,u)}Vm(s,134217728)}},id=function(s){if(s.tag===13){var a=Is(s),u=Ci(s,a);if(u!==null){var f=vn();br(u,s,a,f)}Vm(s,a)}},sd=function(){return Fe},od=function(s,a){var u=Fe;try{return Fe=s,a()}finally{Fe=u}},ca=function(s,a,u){switch(a){case"input":if(Zi(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==s&&f.form===s.form){var m=Cd(f);if(!m)throw Error(t(90));Yi(f),Zi(f,m)}}}break;case"textarea":Ur(s,u);break;case"select":a=u.value,a!=null&&Tn(s,!!u.multiple,a,!1)}},mo=bm,Kl=Lo;var I2={usingClientEntryPoint:!1,Events:[mu,La,Cd,Br,ql,bm]},Pu={findFiberByHostInstance:Ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C2={bundleType:Pu.bundleType,version:Pu.version,rendererPackageName:Pu.rendererPackageName,rendererConfig:Pu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Yl(s),s===null?null:s.stateNode},findFiberByHostInstance:Pu.findFiberByHostInstance||E2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{wo=lh.inject(C2),Vn=lh}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I2,kn.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Um(a))throw Error(t(200));return w2(s,a,null,u)},kn.createRoot=function(s,a){if(!Um(s))throw Error(t(299));var u=!1,f="",m=zw;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=jm(s,1,!1,null,null,u,!1,f,m),s[wi]=a.current,hu(s.nodeType===8?s.parentNode:s),new Fm(a)},kn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Yl(a),s=s===null?null:s.stateNode,s},kn.flushSync=function(s){return Lo(s)},kn.hydrate=function(s,a,u){if(!oh(a))throw Error(t(200));return ah(null,s,a,!0,u)},kn.hydrateRoot=function(s,a,u){if(!Um(s))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,m=!1,_="",C=zw;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),a=$w(a,null,s,1,u??null,m,!1,_,C),s[wi]=a.current,hu(s),f)for(s=0;s<f.length;s++)u=f[s],m=u._getVersion,m=m(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,m]:a.mutableSourceEagerHydrationData.push(u,m);return new sh(a)},kn.render=function(s,a,u){if(!oh(a))throw Error(t(200));return ah(null,s,a,!1,u)},kn.unmountComponentAtNode=function(s){if(!oh(s))throw Error(t(40));return s._reactRootContainer?(Lo(function(){ah(null,null,s,!1,function(){s._reactRootContainer=null,s[wi]=null})}),!0):!1},kn.unstable_batchedUpdates=bm,kn.unstable_renderSubtreeIntoContainer=function(s,a,u,f){if(!oh(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return ah(s,a,u,!1,f)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var Jw;function oC(){if(Jw)return zm.exports;Jw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zm.exports=b2(),zm.exports}var Zw;function N2(){if(Zw)return uh;Zw=1;var n=oC();return uh.createRoot=n.createRoot,uh.hydrateRoot=n.hydrateRoot,uh}var D2=N2(),bu={},eE;function O2(){if(eE)return bu;eE=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.parse=l,bu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function l(E,S){const R=new o,k=E.length;if(k<2)return R;const x=(S==null?void 0:S.decode)||g;let L=0;do{const U=E.indexOf("=",L);if(U===-1)break;const B=E.indexOf(";",L),q=B===-1?k:B;if(U>q){L=E.lastIndexOf(";",U-1)+1;continue}const X=c(E,L,U),J=h(E,U,X),N=E.slice(X,J);if(R[N]===void 0){let P=c(E,U+1,q),b=h(E,q,P);const M=x(E.slice(P,b));R[N]=M}L=q+1}while(L<k);return R}function c(E,S,R){do{const k=E.charCodeAt(S);if(k!==32&&k!==9)return S}while(++S<R);return R}function h(E,S,R){for(;S>R;){const k=E.charCodeAt(--S);if(k!==32&&k!==9)return S+1}return R}function p(E,S,R){const k=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const x=k(S);if(!e.test(x))throw new TypeError(`argument val is invalid: ${S}`);let L=E+"="+x;if(!R)return L;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);L+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);L+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);L+="; Path="+R.path}if(R.expires){if(!w(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);L+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(L+="; HttpOnly"),R.secure&&(L+="; Secure"),R.partitioned&&(L+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return L}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function w(E){return i.call(E)==="[object Date]"}return bu}O2();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tE="popstate";function L2(n={}){function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return Rg("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:ac(i)}return j2(e,t,null,n)}function gt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Mr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function M2(){return Math.random().toString(36).substring(2,10)}function nE(n,e){return{usr:n.state,key:n.key,idx:e}}function Rg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?xl(e):e,state:t,key:e&&e.key||r||M2()}}function ac({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function xl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function j2(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",h=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function w(){c="POP";let x=g(),L=x==null?null:x-p;p=x,h&&h({action:c,location:k.location,delta:L})}function E(x,L){c="PUSH";let U=Rg(k.location,x,L);p=g()+1;let B=nE(U,p),q=k.createHref(U);try{l.pushState(B,"",q)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(q)}o&&h&&h({action:c,location:k.location,delta:1})}function S(x,L){c="REPLACE";let U=Rg(k.location,x,L);p=g();let B=nE(U,p),q=k.createHref(U);l.replaceState(B,"",q),o&&h&&h({action:c,location:k.location,delta:0})}function R(x){let L=i.location.origin!=="null"?i.location.origin:i.location.href,U=typeof x=="string"?x:ac(x);return U=U.replace(/ $/,"%20"),gt(L,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,L)}let k={get action(){return c},get location(){return n(i,l)},listen(x){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(tE,w),h=x,()=>{i.removeEventListener(tE,w),h=null}},createHref(x){return e(i,x)},createURL:R,encodeLocation(x){let L=R(x);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:E,replace:S,go(x){return l.go(x)}};return k}function aC(n,e,t="/"){return V2(n,e,t,!1)}function V2(n,e,t,r){let i=typeof e=="string"?xl(e):e,o=ji(i.pathname||"/",t);if(o==null)return null;let l=lC(n);F2(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=Y2(o);c=G2(l[h],p,r)}return c}function lC(n,e=[],t=[],r=""){let i=(o,l,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(gt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=Oi([r,h.relativePath]),g=t.concat(h);o.children&&o.children.length>0&&(gt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),lC(o.children,e,g,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:q2(p,o.index),routesMeta:g})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let h of uC(o.path))i(o,l,h)}),e}function uC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=uC(r.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function F2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:K2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var U2=/^:[\w-]+$/,$2=3,B2=2,z2=1,W2=10,H2=-2,rE=n=>n==="*";function q2(n,e){let t=n.split("/"),r=t.length;return t.some(rE)&&(r+=H2),e&&(r+=B2),t.filter(i=>!rE(i)).reduce((i,o)=>i+(U2.test(o)?$2:o===""?z2:W2),r)}function K2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function G2(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",w=$h({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),E=h.route;if(!w&&p&&t&&!r[r.length-1].route.index&&(w=$h({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!w)return null;Object.assign(i,w.params),l.push({params:i,pathname:Oi([o,w.pathname]),pathnameBase:ek(Oi([o,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(o=Oi([o,w.pathnameBase]))}return l}function $h(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Q2(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:w},E)=>{if(g==="*"){let R=c[E]||"";l=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const S=c[E];return w&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:n}}function Q2(n,e=!1,t=!0){Mr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Y2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ji(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function X2(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?xl(n):n;return{pathname:t?t.startsWith("/")?t:J2(t,e):e,search:tk(r),hash:nk(i)}}function J2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function qm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Z2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Dy(n){let e=Z2(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Oy(n,e,t,r=!1){let i;typeof n=="string"?i=xl(n):(i={...n},gt(!i.pathname||!i.pathname.includes("?"),qm("?","pathname","search",i)),gt(!i.pathname||!i.pathname.includes("#"),qm("#","pathname","hash",i)),gt(!i.search||!i.search.includes("#"),qm("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let w=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),w-=1;i.pathname=E.join("/")}c=w>=0?e[w]:"/"}let h=X2(i,c),p=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var Oi=n=>n.join("/").replace(/\/\/+/g,"/"),ek=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),tk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function rk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var cC=["POST","PUT","PATCH","DELETE"];new Set(cC);var ik=["GET",...cC];new Set(ik);var Rl=I.createContext(null);Rl.displayName="DataRouter";var Sf=I.createContext(null);Sf.displayName="DataRouterState";var dC=I.createContext({isTransitioning:!1});dC.displayName="ViewTransition";var sk=I.createContext(new Map);sk.displayName="Fetchers";var ok=I.createContext(null);ok.displayName="Await";var Vr=I.createContext(null);Vr.displayName="Navigation";var Cc=I.createContext(null);Cc.displayName="Location";var Fr=I.createContext({outlet:null,matches:[],isDataRoute:!1});Fr.displayName="Route";var Ly=I.createContext(null);Ly.displayName="RouteError";function ak(n,{relative:e}={}){gt(Al(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=I.useContext(Vr),{hash:i,pathname:o,search:l}=Sc(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Oi([t,o])),r.createHref({pathname:c,search:l,hash:i})}function Al(){return I.useContext(Cc)!=null}function ro(){return gt(Al(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Cc).location}var hC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fC(n){I.useContext(Vr).static||I.useLayoutEffect(n)}function mr(){let{isDataRoute:n}=I.useContext(Fr);return n?Ek():lk()}function lk(){gt(Al(),"useNavigate() may be used only in the context of a <Router> component.");let n=I.useContext(Rl),{basename:e,navigator:t}=I.useContext(Vr),{matches:r}=I.useContext(Fr),{pathname:i}=ro(),o=JSON.stringify(Dy(r)),l=I.useRef(!1);return fC(()=>{l.current=!0}),I.useCallback((h,p={})=>{if(Mr(l.current,hC),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=Oy(h,JSON.parse(o),i,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Oi([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,o,i,n])}I.createContext(null);function uk(){let{matches:n}=I.useContext(Fr),e=n[n.length-1];return e?e.params:{}}function Sc(n,{relative:e}={}){let{matches:t}=I.useContext(Fr),{pathname:r}=ro(),i=JSON.stringify(Dy(t));return I.useMemo(()=>Oy(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function ck(n,e){return pC(n,e)}function pC(n,e,t,r){var U;gt(Al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=I.useContext(Vr),{matches:l}=I.useContext(Fr),c=l[l.length-1],h=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",w=c&&c.route;{let B=w&&w.path||"";mC(p,!w||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let E=ro(),S;if(e){let B=typeof e=="string"?xl(e):e;gt(g==="/"||((U=B.pathname)==null?void 0:U.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=E;let R=S.pathname||"/",k=R;if(g!=="/"){let B=g.replace(/^\//,"").split("/");k="/"+R.replace(/^\//,"").split("/").slice(B.length).join("/")}let x=!o&&t&&t.matches&&t.matches.length>0?t.matches:aC(n,{pathname:k});Mr(w||x!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Mr(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=mk(x&&x.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:Oi([g,i.encodeLocation?i.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:Oi([g,i.encodeLocation?i.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,t,r);return e&&L?I.createElement(Cc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},L):L}function dk(){let n=wk(),e=rk(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:o},"ErrorBoundary")," or"," ",I.createElement("code",{style:o},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:i},t):null,l)}var hk=I.createElement(dk,null),fk=class extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?I.createElement(Fr.Provider,{value:this.props.routeContext},I.createElement(Ly.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pk({routeContext:n,match:e,children:t}){let r=I.useContext(Rl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Fr.Provider,{value:n},t)}function mk(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let h=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);gt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:g,errors:w}=t,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||E){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,p,g)=>{let w,E=!1,S=null,R=null;t&&(w=o&&p.route.id?o[p.route.id]:void 0,S=p.route.errorElement||hk,l&&(c<0&&g===0?(mC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):c===g&&(E=!0,R=p.route.hydrateFallbackElement||null)));let k=e.concat(i.slice(0,g+1)),x=()=>{let L;return w?L=S:E?L=R:p.route.Component?L=I.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=h,I.createElement(pk,{match:p,routeContext:{outlet:h,matches:k,isDataRoute:t!=null},children:L})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?I.createElement(fk,{location:t.location,revalidation:t.revalidation,component:S,error:w,children:x(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):x()},null)}function My(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gk(n){let e=I.useContext(Rl);return gt(e,My(n)),e}function yk(n){let e=I.useContext(Sf);return gt(e,My(n)),e}function vk(n){let e=I.useContext(Fr);return gt(e,My(n)),e}function jy(n){let e=vk(n),t=e.matches[e.matches.length-1];return gt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function _k(){return jy("useRouteId")}function wk(){var r;let n=I.useContext(Ly),e=yk("useRouteError"),t=jy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Ek(){let{router:n}=gk("useNavigate"),e=jy("useNavigate"),t=I.useRef(!1);return fC(()=>{t.current=!0}),I.useCallback(async(i,o={})=>{Mr(t.current,hC),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var iE={};function mC(n,e,t){!e&&!iE[n]&&(iE[n]=!0,Mr(!1,t))}I.memo(Tk);function Tk({routes:n,future:e,state:t}){return pC(n,void 0,t,e)}function Ik({to:n,replace:e,state:t,relative:r}){gt(Al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=I.useContext(Vr);Mr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=I.useContext(Fr),{pathname:l}=ro(),c=mr(),h=Oy(n,Dy(o),l,r==="path"),p=JSON.stringify(h);return I.useEffect(()=>{c(JSON.parse(p),{replace:e,state:t,relative:r})},[c,p,r,e,t]),null}function wn(n){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ck({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){gt(!Al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=xl(t));let{pathname:h="/",search:p="",hash:g="",state:w=null,key:E="default"}=t,S=I.useMemo(()=>{let R=ji(h,l);return R==null?null:{location:{pathname:R,search:p,hash:g,state:w,key:E},navigationType:r}},[l,h,p,g,w,E,r]);return Mr(S!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:I.createElement(Vr.Provider,{value:c},I.createElement(Cc.Provider,{children:e,value:S}))}function Sk({children:n,location:e}){return ck(Ag(n),e)}function Ag(n,e=[]){let t=[];return I.Children.forEach(n,(r,i)=>{if(!I.isValidElement(r))return;let o=[...e,i];if(r.type===I.Fragment){t.push.apply(t,Ag(r.props.children,o));return}gt(r.type===wn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Ag(r.props.children,o)),t.push(l)}),t}var Sh="get",xh="application/x-www-form-urlencoded";function xf(n){return n!=null&&typeof n.tagName=="string"}function xk(n){return xf(n)&&n.tagName.toLowerCase()==="button"}function Rk(n){return xf(n)&&n.tagName.toLowerCase()==="form"}function Ak(n){return xf(n)&&n.tagName.toLowerCase()==="input"}function Pk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function kk(n,e){return n.button===0&&(!e||e==="_self")&&!Pk(n)}var ch=null;function bk(){if(ch===null)try{new FormData(document.createElement("form"),0),ch=!1}catch{ch=!0}return ch}var Nk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Km(n){return n!=null&&!Nk.has(n)?(Mr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xh}"`),null):n}function Dk(n,e){let t,r,i,o,l;if(Rk(n)){let c=n.getAttribute("action");r=c?ji(c,e):null,t=n.getAttribute("method")||Sh,i=Km(n.getAttribute("enctype"))||xh,o=new FormData(n)}else if(xk(n)||Ak(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(r=h?ji(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Sh,i=Km(n.getAttribute("formenctype"))||Km(c.getAttribute("enctype"))||xh,o=new FormData(c,n),!bk()){let{name:p,type:g,value:w}=n;if(g==="image"){let E=p?`${p}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else p&&o.append(p,w)}}else{if(xf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sh,r=null,i=xh,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}function Vy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Ok(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Mk(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await Ok(o,t);return l.links?l.links():[]}return[]}));return Uk(r.flat(1).filter(Lk).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function sE(n,e,t,r,i,o){let l=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,c=(h,p)=>{var g;return t[p].pathname!==h.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>l(h,p)||c(h,p)):o==="data"?e.filter((h,p)=>{var w;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let E=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function jk(n,e,{includeHydrateFallback:t}={}){return Vk(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function Vk(n){return[...new Set(n)]}function Fk(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Uk(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(Fk(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function $k(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ji(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function gC(){let n=I.useContext(Rl);return Vy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Bk(){let n=I.useContext(Sf);return Vy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Fy=I.createContext(void 0);Fy.displayName="FrameworkContext";function yC(){let n=I.useContext(Fy);return Vy(n,"You must render this element inside a <HydratedRouter> element"),n}function zk(n,e){let t=I.useContext(Fy),[r,i]=I.useState(!1),[o,l]=I.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:w}=e,E=I.useRef(null);I.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let k=L=>{L.forEach(U=>{l(U.isIntersecting)})},x=new IntersectionObserver(k,{threshold:.5});return E.current&&x.observe(E.current),()=>{x.disconnect()}}},[n]),I.useEffect(()=>{if(r){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[r]);let S=()=>{i(!0)},R=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:Nu(c,S),onBlur:Nu(h,R),onMouseEnter:Nu(p,S),onMouseLeave:Nu(g,R),onTouchStart:Nu(w,S)}]:[!1,E,{}]}function Nu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Wk({page:n,...e}){let{router:t}=gC(),r=I.useMemo(()=>aC(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?I.createElement(qk,{page:n,matches:r,...e}):null}function Hk(n){let{manifest:e,routeModules:t}=yC(),[r,i]=I.useState([]);return I.useEffect(()=>{let o=!1;return Mk(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function qk({page:n,matches:e,...t}){let r=ro(),{manifest:i,routeModules:o}=yC(),{basename:l}=gC(),{loaderData:c,matches:h}=Bk(),p=I.useMemo(()=>sE(n,e,h,i,r,"data"),[n,e,h,i,r]),g=I.useMemo(()=>sE(n,e,h,i,r,"assets"),[n,e,h,i,r]),w=I.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let R=new Set,k=!1;if(e.forEach(L=>{var B;let U=i.routes[L.route.id];!U||!U.hasLoader||(!p.some(q=>q.route.id===L.route.id)&&L.route.id in c&&((B=o[L.route.id])!=null&&B.shouldRevalidate)||U.hasClientLoader?k=!0:R.add(L.route.id))}),R.size===0)return[];let x=$k(n,l);return k&&R.size>0&&x.searchParams.set("_routes",e.filter(L=>R.has(L.route.id)).map(L=>L.route.id).join(",")),[x.pathname+x.search]},[l,c,r,i,p,e,n,o]),E=I.useMemo(()=>jk(g,i),[g,i]),S=Hk(g);return I.createElement(I.Fragment,null,w.map(R=>I.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),E.map(R=>I.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),S.map(({key:R,link:k})=>I.createElement("link",{key:R,...k})))}function Kk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var vC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vC&&(window.__reactRouterVersion="7.3.0")}catch{}function Gk({basename:n,children:e,window:t}){let r=I.useRef();r.current==null&&(r.current=L2({window:t,v5Compat:!0}));let i=r.current,[o,l]=I.useState({action:i.action,location:i.location}),c=I.useCallback(h=>{I.startTransition(()=>l(h))},[l]);return I.useLayoutEffect(()=>i.listen(c),[i,c]),I.createElement(Ck,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var _C=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=I.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:h,to:p,preventScrollReset:g,viewTransition:w,...E},S){let{basename:R}=I.useContext(Vr),k=typeof p=="string"&&_C.test(p),x,L=!1;if(typeof p=="string"&&k&&(x=p,vC))try{let b=new URL(window.location.href),M=p.startsWith("//")?new URL(b.protocol+p):new URL(p),j=ji(M.pathname,R);M.origin===b.origin&&j!=null?p=j+M.search+M.hash:L=!0}catch{Mr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=ak(p,{relative:i}),[B,q,X]=zk(r,E),J=Jk(p,{replace:l,state:c,target:h,preventScrollReset:g,relative:i,viewTransition:w});function N(b){e&&e(b),b.defaultPrevented||J(b)}let P=I.createElement("a",{...E,...X,href:x||U,onClick:L||o?e:N,ref:Kk(S,q),target:h,"data-discover":!k&&t==="render"?"true":void 0});return B&&!k?I.createElement(I.Fragment,null,P,I.createElement(Wk,{page:U})):P});Tt.displayName="Link";var Qk=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:h,...p},g){let w=Sc(l,{relative:p.relative}),E=ro(),S=I.useContext(Sf),{navigator:R,basename:k}=I.useContext(Vr),x=S!=null&&rb(w)&&c===!0,L=R.encodeLocation?R.encodeLocation(w).pathname:w.pathname,U=E.pathname,B=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(U=U.toLowerCase(),B=B?B.toLowerCase():null,L=L.toLowerCase()),B&&k&&(B=ji(B,k)||B);const q=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let X=U===L||!i&&U.startsWith(L)&&U.charAt(q)==="/",J=B!=null&&(B===L||!i&&B.startsWith(L)&&B.charAt(L.length)==="/"),N={isActive:X,isPending:J,isTransitioning:x},P=X?e:void 0,b;typeof r=="function"?b=r(N):b=[r,X?"active":null,J?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(N):o;return I.createElement(Tt,{...p,"aria-current":P,className:b,ref:g,style:M,to:l,viewTransition:c},typeof h=="function"?h(N):h)});Qk.displayName="NavLink";var Yk=I.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=Sh,action:c,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:w,...E},S)=>{let R=tb(),k=nb(c,{relative:p}),x=l.toLowerCase()==="get"?"get":"post",L=typeof c=="string"&&_C.test(c),U=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let q=B.nativeEvent.submitter,X=(q==null?void 0:q.getAttribute("formmethod"))||l;R(q||B.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:i,state:o,relative:p,preventScrollReset:g,viewTransition:w})};return I.createElement("form",{ref:S,method:x,action:k,onSubmit:r?h:U,...E,"data-discover":!L&&n==="render"?"true":void 0})});Yk.displayName="Form";function Xk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wC(n){let e=I.useContext(Rl);return gt(e,Xk(n)),e}function Jk(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=mr(),h=ro(),p=Sc(n,{relative:o});return I.useCallback(g=>{if(kk(g,e)){g.preventDefault();let w=t!==void 0?t:ac(h)===ac(p);c(n,{replace:w,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[h,c,p,t,r,e,n,i,o,l])}var Zk=0,eb=()=>`__${String(++Zk)}__`;function tb(){let{router:n}=wC("useSubmit"),{basename:e}=I.useContext(Vr),t=_k();return I.useCallback(async(r,i={})=>{let{action:o,method:l,encType:c,formData:h,body:p}=Dk(r,e);if(i.navigate===!1){let g=i.fetcherKey||eb();await n.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function nb(n,{relative:e}={}){let{basename:t}=I.useContext(Vr),r=I.useContext(Fr);gt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Sc(n||".",{relative:e})},l=ro();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(w=>w).forEach(w=>c.append("index",w));let g=c.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Oi([t,o.pathname])),ac(o)}function rb(n,e={}){let t=I.useContext(dC);gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wC("useViewTransitionState"),i=Sc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ji(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=ji(t.nextLocation.pathname,r)||t.nextLocation.pathname;return $h(i.pathname,l)!=null||$h(i.pathname,o)!=null}new TextEncoder;var Uy=oC();const ib=Ic(Uy),sb=()=>{};var oE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce=function(n,e){if(!n)throw Pl(e)},Pl=function(n){return new Error("Firebase Database ("+EC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},ob=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],c=n[t++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},$y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,c=l?n[i+1]:0,h=i+2<n.length,p=h?n[i+2]:0,g=o>>2,w=(o&3)<<4|c>>4;let E=(c&15)<<2|p>>6,S=p&63;h||(S=64,l||(E=64)),r.push(t[g],t[w],t[E],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(TC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ob(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const w=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||p==null||w==null)throw new ab;const E=o<<2|c>>4;if(r.push(E),p!==64){const S=c<<4&240|p>>2;if(r.push(S),w!==64){const R=p<<6&192|w;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ab extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IC=function(n){const e=TC(n);return $y.encodeByteArray(e,!0)},Bh=function(n){return IC(n).replace(/\./g,"")},zh=function(n){try{return $y.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(n){return CC(void 0,n)}function CC(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!ub(t)||(n[t]=CC(n[t],e[t]));return n}function ub(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=()=>cb().__FIREBASE_DEFAULTS__,hb=()=>{if(typeof process>"u"||typeof oE>"u")return;const n=oE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},fb=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&zh(n[1]);return e&&JSON.parse(e)},Rf=()=>{try{return sb()||db()||hb()||fb()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},SC=n=>{var e,t;return(t=(e=Rf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},By=n=>{const e=SC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},xC=()=>{var n;return(n=Rf())===null||n===void 0?void 0:n.config},RC=n=>{var e;return(e=Rf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bh(JSON.stringify(t)),Bh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function pb(){var n;const e=(n=Rf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gb(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function AC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yb(){const n=pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vb(){return EC.NODE_ADMIN===!0}function _b(){return!pb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wb(){try{return typeof indexedDB=="object"}catch{return!1}}function Eb(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="FirebaseError";class ui extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Tb,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xc.prototype.create)}}class xc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?Ib(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new ui(i,c,r)}}function Ib(n,e){return n.replace(Cb,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Cb=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(n){return JSON.parse(n)}function Jt(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=function(n){let e={},t={},r={},i="";try{const o=n.split(".");e=lc(zh(o[0])||""),t=lc(zh(o[1])||""),i=o[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}},Sb=function(n){const e=PC(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},xb=function(n){const e=PC(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function dl(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Pg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Wh(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function Ws(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(aE(o)&&aE(l)){if(!Ws(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function aE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $u(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Bu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let w=0;w<16;w++)r[w]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let w=0;w<16;w++)r[w]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let w=16;w<80;w++){const E=r[w-3]^r[w-8]^r[w-14]^r[w-16];r[w]=(E<<1|E>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4],p,g;for(let w=0;w<80;w++){w<40?w<20?(p=c^o&(l^c),g=1518500249):(p=o^l^c,g=1859775393):w<60?(p=o&l|c&(o|l),g=2400959708):(p=o^l^c,g=3395469782);const E=(i<<5|i>>>27)+p+h+g+r[w]&4294967295;h=c,c=l,l=(o<<30|o>>>2)&4294967295,o=i,i=E}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let i=0;const o=this.buf_;let l=this.inbuf_;for(;i<t;){if(l===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(o[l]=e.charCodeAt(i),++l,++i,l===this.blockSize){this.compress_(o),l=0;break}}else for(;i<t;)if(o[l]=e[i],++l,++i,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function Ab(n,e){const t=new Pb(n,e);return t.subscribe.bind(t)}class Pb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");kb(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Gm),i.error===void 0&&(i.error=Gm),i.complete===void 0&&(i.complete=Gm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kb(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Gm(){}function bb(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,ce(r<n.length,"Surrogate pair missing trail surrogate.");const l=n.charCodeAt(r)-56320;i=65536+(o<<10)+l}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Af=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(n){return n&&n._delegate?n._delegate:n}class Vi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Db=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new zy;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Lb(e))try{this.getOrInitializeService({instanceIdentifier:Fo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fo){return this.instances.has(e)}getOptions(e=Fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ob(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fo){return this.component?this.component.multipleInstances?e:Fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Ob(n){return n===Fo?void 0:n}function Lb(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Db(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const jb={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Vb=Me.INFO,Fb={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Ub=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=Fb[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pf{constructor(e){this.name=e,this._logLevel=Vb,this._logHandler=Ub,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const $b=(n,e)=>e.some(t=>n instanceof t);let lE,uE;function Bb(){return lE||(lE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zb(){return uE||(uE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kC=new WeakMap,kg=new WeakMap,bC=new WeakMap,Qm=new WeakMap,qy=new WeakMap;function Wb(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(js(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&kC.set(t,n)}).catch(()=>{}),qy.set(e,n),e}function Hb(n){if(kg.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});kg.set(n,e)}let bg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return kg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||bC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return js(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function qb(n){bg=n(bg)}function Kb(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Ym(this),e,...t);return bC.set(r,e.sort?e.sort():[e]),js(r)}:zb().includes(n)?function(...e){return n.apply(Ym(this),e),js(kC.get(this))}:function(...e){return js(n.apply(Ym(this),e))}}function Gb(n){return typeof n=="function"?Kb(n):(n instanceof IDBTransaction&&Hb(n),$b(n,Bb())?new Proxy(n,bg):n)}function js(n){if(n instanceof IDBRequest)return Wb(n);if(Qm.has(n))return Qm.get(n);const e=Gb(n);return e!==n&&(Qm.set(n,e),qy.set(e,n)),e}const Ym=n=>qy.get(n);function Qb(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),c=js(l);return r&&l.addEventListener("upgradeneeded",h=>{r(js(l.result),h.oldVersion,h.newVersion,js(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const Yb=["get","getKey","getAll","getAllKeys","count"],Xb=["put","add","delete","clear"],Xm=new Map;function cE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Xm.get(e))return Xm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Xb.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Yb.includes(t)))return;const o=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&h.done]))[0]};return Xm.set(e,o),o}qb(n=>({...n,get:(e,t,r)=>cE(e,t)||n.get(e,t,r),has:(e,t)=>!!cE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Zb(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Zb(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ng="@firebase/app",dE="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Pf("@firebase/app"),eN="@firebase/app-compat",tN="@firebase/analytics-compat",nN="@firebase/analytics",rN="@firebase/app-check-compat",iN="@firebase/app-check",sN="@firebase/auth",oN="@firebase/auth-compat",aN="@firebase/database",lN="@firebase/data-connect",uN="@firebase/database-compat",cN="@firebase/functions",dN="@firebase/functions-compat",hN="@firebase/installations",fN="@firebase/installations-compat",pN="@firebase/messaging",mN="@firebase/messaging-compat",gN="@firebase/performance",yN="@firebase/performance-compat",vN="@firebase/remote-config",_N="@firebase/remote-config-compat",wN="@firebase/storage",EN="@firebase/storage-compat",TN="@firebase/firestore",IN="@firebase/vertexai",CN="@firebase/firestore-compat",SN="firebase",xN="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="[DEFAULT]",RN={[Ng]:"fire-core",[eN]:"fire-core-compat",[nN]:"fire-analytics",[tN]:"fire-analytics-compat",[iN]:"fire-app-check",[rN]:"fire-app-check-compat",[sN]:"fire-auth",[oN]:"fire-auth-compat",[aN]:"fire-rtdb",[lN]:"fire-data-connect",[uN]:"fire-rtdb-compat",[cN]:"fire-fn",[dN]:"fire-fn-compat",[hN]:"fire-iid",[fN]:"fire-iid-compat",[pN]:"fire-fcm",[mN]:"fire-fcm-compat",[gN]:"fire-perf",[yN]:"fire-perf-compat",[vN]:"fire-rc",[_N]:"fire-rc-compat",[wN]:"fire-gcs",[EN]:"fire-gcs-compat",[TN]:"fire-fst",[CN]:"fire-fst-compat",[IN]:"fire-vertex","fire-js":"fire-js",[SN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Map,AN=new Map,Og=new Map;function hE(n,e){try{n.container.addComponent(e)}catch(t){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hs(n){const e=n.name;if(Og.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;Og.set(e,n);for(const t of Hh.values())hE(t,n);for(const t of AN.values())hE(t,n);return!0}function Rc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function dn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new xc("app","Firebase",PN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=xN;function NC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vs.create("bad-app-name",{appName:String(i)});if(t||(t=xC()),!t)throw Vs.create("no-options");const o=Hh.get(i);if(o){if(Ws(t,o.options)&&Ws(r,o.config))return o;throw Vs.create("duplicate-app",{appName:i})}const l=new Mb(i);for(const h of Og.values())l.addComponent(h);const c=new kN(t,r,l);return Hh.set(i,c),c}function kf(n=Dg){const e=Hh.get(n);if(!e&&n===Dg&&xC())return NC();if(!e)throw Vs.create("no-app",{appName:n});return e}function ur(n,e,t){var r;let i=(r=RN[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(c.join(" "));return}Hs(new Vi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="firebase-heartbeat-database",NN=1,uc="firebase-heartbeat-store";let Jm=null;function DC(){return Jm||(Jm=Qb(bN,NN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(uc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Vs.create("idb-open",{originalErrorMessage:n.message})})),Jm}async function DN(n){try{const t=(await DC()).transaction(uc),r=await t.objectStore(uc).get(OC(n));return await t.done,r}catch(e){if(e instanceof ui)Fi.warn(e.message);else{const t=Vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fi.warn(t.message)}}}async function fE(n,e){try{const r=(await DC()).transaction(uc,"readwrite");await r.objectStore(uc).put(e,OC(n)),await r.done}catch(t){if(t instanceof ui)Fi.warn(t.message);else{const r=Vs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Fi.warn(r.message)}}}function OC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=1024,LN=30;class MN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new VN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=pE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>LN){const l=FN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pE(),{heartbeatsToSend:r,unsentEntries:i}=jN(this._heartbeatsCache.heartbeats),o=Bh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Fi.warn(t),""}}}function pE(){return new Date().toISOString().substring(0,10)}function jN(n,e=ON){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),mE(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),mE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class VN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wb()?Eb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return fE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return fE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mE(n){return Bh(JSON.stringify({version:2,heartbeats:n})).length}function FN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(n){Hs(new Vi("platform-logger",e=>new Jb(e),"PRIVATE")),Hs(new Vi("heartbeat",e=>new MN(e),"PRIVATE")),ur(Ng,dE,n),ur(Ng,dE,"esm2017"),ur("fire-js","")}UN("");function Ky(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function LC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $N=LC,MC=new xc("auth","Firebase",LC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Pf("@firebase/auth");function BN(n,...e){qh.logLevel<=Me.WARN&&qh.warn(`Auth (${io}): ${n}`,...e)}function Rh(n,...e){qh.logLevel<=Me.ERROR&&qh.error(`Auth (${io}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(n,...e){throw Qy(n,...e)}function Or(n,...e){return Qy(n,...e)}function Gy(n,e,t){const r=Object.assign(Object.assign({},$N()),{[e]:t});return new xc("auth","Firebase",r).create(e,{appName:n.name})}function ni(n){return Gy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zN(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&dr(n,"argument-error"),Gy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return MC.create(n,...e)}function Ce(n,e,...t){if(!n)throw Qy(e,...t)}function ki(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Rh(e),new Error(e)}function Ui(n,e){n||ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function WN(){return gE()==="http:"||gE()==="https:"}function gE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WN()||gb()||"connection"in navigator)?navigator.onLine:!0}function qN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ui(t>e,"Short delay should be less than long delay!"),this.isMobile=Hy()||AC()}get(){return HN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(n,e){Ui(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new Ac(3e4,6e4);function so(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ci(n,e,t,r,i={}){return VC(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=kl(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},o);return mb()||(p.referrerPolicy="no-referrer"),jC.fetch()(FC(n,n.config.apiHost,t,c),p)})}async function VC(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},KN),e);try{const i=new YN(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw dh(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,p]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw dh(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw dh(n,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Gy(n,g,p);dr(n,g)}}catch(i){if(i instanceof ui)throw i;dr(n,"network-request-failed",{message:String(i)})}}async function Pc(n,e,t,r,i={}){const o=await ci(n,e,t,r,i);return"mfaPendingCredential"in o&&dr(n,"multi-factor-auth-required",{_serverResponse:o}),o}function FC(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Yy(n.config,i):`${n.config.apiScheme}://${i}`}function QN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Or(this.auth,"network-request-failed")),GN.get())})}}function dh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Or(n,e,r);return i.customData._tokenResponse=t,i}function yE(n){return n!==void 0&&n.enterprise!==void 0}class XN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return QN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JN(n,e){return ci(n,"GET","/v2/recaptchaConfig",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(n,e){return ci(n,"POST","/v1/accounts:delete",e)}async function UC(n,e){return ci(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eD(n,e=!1){const t=ot(n),r=await t.getIdToken(e),i=Xy(r);Ce(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ku(Zm(i.auth_time)),issuedAtTime:Ku(Zm(i.iat)),expirationTime:Ku(Zm(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Zm(n){return Number(n)*1e3}function Xy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const i=zh(t);return i?JSON.parse(i):(Rh("Failed to decode base64 JWT payload"),null)}catch(i){return Rh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function vE(n){const e=Xy(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ui&&tD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function tD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ku(this.lastLoginAt),this.creationTime=Ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await qo(n,UC(t,{idToken:r}));Ce(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?$C(o.providerUserInfo):[],c=iD(n.providerData,l),h=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),g=h?p:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Mg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,w)}async function rD(n){const e=ot(n);await Kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iD(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $C(n){return n.map(e=>{var{providerId:t}=e,r=Ky(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(n,e){const t=await VC(n,{},async()=>{const r=kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=FC(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",jC.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function oD(n,e){return ci(n,"POST","/v2/accounts:revokeToken",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=vE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await sD(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new rl;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ce(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Ce(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rl,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class bi{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Ky(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Mg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await qo(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return eD(this,e)}reload(){return rD(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Kh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(ni(this.auth));const e=await this.getIdToken();return await qo(this,ZN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,c,h,p,g;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(i=t.email)!==null&&i!==void 0?i:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,R=(l=t.photoURL)!==null&&l!==void 0?l:void 0,k=(c=t.tenantId)!==null&&c!==void 0?c:void 0,x=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,L=(p=t.createdAt)!==null&&p!==void 0?p:void 0,U=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:B,emailVerified:q,isAnonymous:X,providerData:J,stsTokenManager:N}=t;Ce(B&&N,e,"internal-error");const P=rl.fromJSON(this.name,N);Ce(typeof B=="string",e,"internal-error"),Rs(w,e.name),Rs(E,e.name),Ce(typeof q=="boolean",e,"internal-error"),Ce(typeof X=="boolean",e,"internal-error"),Rs(S,e.name),Rs(R,e.name),Rs(k,e.name),Rs(x,e.name),Rs(L,e.name),Rs(U,e.name);const b=new bi({uid:B,auth:e,email:E,emailVerified:q,displayName:w,isAnonymous:X,photoURL:R,phoneNumber:S,tenantId:k,stsTokenManager:P,createdAt:L,lastLoginAt:U});return J&&Array.isArray(J)&&(b.providerData=J.map(M=>Object.assign({},M))),x&&(b._redirectEventId=x),b}static async _fromIdTokenResponse(e,t,r=!1){const i=new rl;i.updateFromServerResponse(t);const o=new bi({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Kh(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ce(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?$C(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new rl;c.updateFromIdToken(r);const h=new bi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Mg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;function Ni(n){Ui(n instanceof Function,"Expected a class definition");let e=_E.get(n);return e?(Ui(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_E.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}BC.type="NONE";const wE=BC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(n,e,t){return`firebase:${n}:${e}:${t}`}class il{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ah(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ah("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?bi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new il(Ni(wE),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||Ni(wE);const l=Ah(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=await p._get(l);if(g){const w=bi._fromJSON(e,g);p!==o&&(c=w),o=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new il(o,e,r):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new il(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GC(e))return"Blackberry";if(QC(e))return"Webos";if(WC(e))return"Safari";if((e.includes("chrome/")||HC(e))&&!e.includes("edge/"))return"Chrome";if(KC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zC(n=pn()){return/firefox\//i.test(n)}function WC(n=pn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HC(n=pn()){return/crios\//i.test(n)}function qC(n=pn()){return/iemobile/i.test(n)}function KC(n=pn()){return/android/i.test(n)}function GC(n=pn()){return/blackberry/i.test(n)}function QC(n=pn()){return/webos/i.test(n)}function Jy(n=pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function aD(n=pn()){var e;return Jy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lD(){return yb()&&document.documentMode===10}function YC(n=pn()){return Jy(n)||KC(n)||QC(n)||GC(n)||/windows phone/i.test(n)||qC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(n,e=[]){let t;switch(n){case"Browser":t=EE(pn());break;case"Worker":t=`${EE(pn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${io}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(n,e={}){return ci(n,"GET","/v2/passwordPolicy",so(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=6;class hD{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:dD,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TE(this),this.idTokenSubscription=new TE(this),this.beforeStateQueue=new uD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ni(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await il.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await UC(this,{idToken:e}),r=await bi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(dn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Kh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dn(this.app))return Promise.reject(ni(this));const t=e?ot(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dn(this.app)?Promise.reject(ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cD(this),t=new hD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await oD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ni(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await il.create(this,[Ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&BN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function oo(n){return ot(n)}class TE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ab(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pD(n){bf=n}function JC(n){return bf.loadJS(n)}function mD(){return bf.recaptchaEnterpriseScript}function gD(){return bf.gapiScript}function yD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class vD{constructor(){this.enterprise=new _D}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class _D{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const wD="recaptcha-enterprise",ZC="NO_RECAPTCHA";class ED{constructor(e){this.type=wD,this.auth=oo(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{JN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new XN(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(h=>{c(h)})})}function i(o,l,c){const h=window.grecaptcha;yE(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(ZC)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vD().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!t&&yE(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=mD();h.length!==0&&(h+=c),JC(h).then(()=>{i(c,o,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function IE(n,e,t,r=!1,i=!1){const o=new ED(n);let l;if(i)l=ZC;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function jg(n,e,t,r,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await IE(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await IE(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(n,e){const t=Rc(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Ws(o,e??{}))return i;dr(i,"already-initialized")}return t.initialize({options:e})}function ID(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ni);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function CD(n,e,t){const r=oo(n);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=eS(e),{host:l,port:c}=SD(e),h=c===null?"":`:${c}`,p={url:`${o}//${l}${h}/`},g=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(Ws(p,r.config.emulator)&&Ws(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,xD()}function eS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function SD(n){const e=eS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:CE(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:CE(l)}}}function CE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function xD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,t){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}async function RD(n,e){return ci(n,"POST","/v1/accounts:update",e)}async function AD(n,e){return ci(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(n,e){return Pc(n,"POST","/v1/accounts:signInWithPassword",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(n,e){return Pc(n,"POST","/v1/accounts:signInWithEmailLink",so(n,e))}async function bD(n,e){return Pc(n,"POST","/v1/accounts:signInWithEmailLink",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends Zy{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new cc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new cc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jg(e,t,"signInWithPassword",PD);case"emailLink":return kD(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jg(e,r,"signUpPassword",AD);case"emailLink":return bD(e,{idToken:t,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(n,e){return Pc(n,"POST","/v1/accounts:signInWithIdp",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="http://localhost";class Ko extends Zy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ko(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Ky(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Ko(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return sl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,sl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,sl(e,t)}buildRequest(){const e={requestUri:ND,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=kl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OD(n){const e=$u(Bu(n)).link,t=e?$u(Bu(e)).deep_link_id:null,r=$u(Bu(n)).deep_link_id;return(r?$u(Bu(r)).link:null)||r||t||e||n}class ev{constructor(e){var t,r,i,o,l,c;const h=$u(Bu(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,w=DD((i=h.mode)!==null&&i!==void 0?i:null);Ce(p&&g&&w,"argument-error"),this.apiKey=p,this.operation=w,this.code=g,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=OD(e);try{return new ev(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.providerId=bl.PROVIDER_ID}static credential(e,t){return cc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ev.parseLink(t);return Ce(r,"argument-error"),cc._fromEmailAndCode(e,r.code,r.tenantId)}}bl.PROVIDER_ID="password";bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends tv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends kc{constructor(){super("facebook.com")}static credential(e){return Ko._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ko._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Zr.credential(t,r)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends kc{constructor(){super("github.com")}static credential(e){return Ko._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.GITHUB_SIGN_IN_METHOD="github.com";Ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends kc{constructor(){super("twitter.com")}static credential(e,t){return Ko._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ds.credential(t,r)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(n,e){return Pc(n,"POST","/v1/accounts:signUp",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await bi._fromIdTokenResponse(e,r,i),l=SE(r);return new Go({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=SE(r);return new Go({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function SE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends ui{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Gh(e,t,r,i)}}function tS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Gh._fromErrorAndOperation(n,o,e,r):o})}async function MD(n,e,t=!1){const r=await qo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Go._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(n,e,t=!1){const{auth:r}=n;if(dn(r.app))return Promise.reject(ni(r));const i="reauthenticate";try{const o=await qo(n,tS(r,i,e,n),t);Ce(o.idToken,r,"internal-error");const l=Xy(o.idToken);Ce(l,r,"internal-error");const{sub:c}=l;return Ce(n.uid===c,r,"user-mismatch"),Go._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nS(n,e,t=!1){if(dn(n.app))return Promise.reject(ni(n));const r="signIn",i=await tS(n,r,e),o=await Go._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function VD(n,e){return nS(oo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rS(n){const e=oo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FD(n,e,t){if(dn(n.app))return Promise.reject(ni(n));const r=oo(n),l=await jg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LD).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&rS(n),h}),c=await Go._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function UD(n,e,t){return dn(n.app)?Promise.reject(ni(n)):VD(ot(n),bl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rS(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(n,e){return ci(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vg(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=ot(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await qo(r,$D(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function BD(n,e){const t=ot(n);return dn(t.auth.app)?Promise.reject(ni(t.auth)):zD(t,e)}async function zD(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e);const l=await qo(n,RD(r,o));await n._updateTokensIfNecessary(l,!0)}function WD(n,e,t,r){return ot(n).onIdTokenChanged(e,t,r)}function HD(n,e,t){return ot(n).beforeAuthStateChanged(e,t)}function iS(n,e,t,r){return ot(n).onAuthStateChanged(e,t,r)}const Qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=1e3,KD=10;class oS extends sS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);lD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,KD):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},qD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}oS.type="LOCAL";const GD=oS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS extends sS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}aS.type="SESSION";const lS=aS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Nf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,o)),h=await QD(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const p=nv("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(w){const E=w;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(E.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function XD(n){ri().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function JD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function eO(){return uS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="firebaseLocalStorageDb",tO=1,Yh="firebaseLocalStorage",dS="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Df(n,e){return n.transaction([Yh],e?"readwrite":"readonly").objectStore(Yh)}function nO(){const n=indexedDB.deleteDatabase(cS);return new bc(n).toPromise()}function Fg(){const n=indexedDB.open(cS,tO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Yh,{keyPath:dS})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Yh)?e(r):(r.close(),await nO(),e(await Fg()))})})}async function xE(n,e,t){const r=Df(n,!0).put({[dS]:e,value:t});return new bc(r).toPromise()}async function rO(n,e){const t=Df(n,!1).get(e),r=await new bc(t).toPromise();return r===void 0?null:r.value}function RE(n,e){const t=Df(n,!0).delete(e);return new bc(t).toPromise()}const iO=800,sO=3;class hS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>sO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nf._getInstance(eO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await JD(),!this.activeServiceWorker)return;this.sender=new YD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fg();return await xE(e,Qh,"1"),await RE(e,Qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>xE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>rO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>RE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Df(i,!1).getAll();return new bc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hS.type="LOCAL";const oO=hS;new Ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(n,e){return e?Ni(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv extends Zy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function aO(n){return nS(n.auth,new rv(n),n.bypassAuthState)}function lO(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),jD(t,new rv(n),n.bypassAuthState)}async function uO(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),MD(t,new rv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aO;case"linkViaPopup":case"linkViaRedirect":return uO;case"reauthViaPopup":case"reauthViaRedirect":return lO;default:dr(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=new Ac(2e3,1e4);async function dO(n,e,t){if(dn(n.app))return Promise.reject(Or(n,"operation-not-supported-in-this-environment"));const r=oo(n);zN(n,e,tv);const i=fS(r,t);return new $o(r,"signInViaPopup",e,i).executeNotNull()}class $o extends pS{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=nv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cO.get())};e()}}$o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="pendingRedirect",Ph=new Map;class fO extends pS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const r=await pO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pO(n,e){const t=yO(e),r=gO(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function mO(n,e){Ph.set(n._key(),e)}function gO(n){return Ni(n._redirectPersistence)}function yO(n){return Ah(hO,n.config.apiKey,n.name)}async function vO(n,e,t=!1){if(dn(n.app))return Promise.reject(ni(n));const r=oo(n),i=fS(r,e),l=await new fO(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=10*60*1e3;class wO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!mS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Or(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_O&&this.cachedEventUids.clear(),this.cachedEventUids.has(AE(e))}saveEventToCache(e){this.cachedEventUids.add(AE(e)),this.lastProcessedEventTime=Date.now()}}function AE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function mS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(n,e={}){return ci(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CO=/^https?/;async function SO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await TO(n);for(const t of e)try{if(xO(t))return}catch{}dr(n,"unauthorized-domain")}function xO(n){const e=Lg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!CO.test(t))return!1;if(IO.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=new Ac(3e4,6e4);function PE(){const n=ri().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function AO(n){return new Promise((e,t)=>{var r,i,o;function l(){PE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PE(),t(Or(n,"network-request-failed"))},timeout:RO.get()})}if(!((i=(r=ri().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ri().gapi)===null||o===void 0)&&o.load)l();else{const c=yD("iframefcb");return ri()[c]=()=>{gapi.load?l():t(Or(n,"network-request-failed"))},JC(`${gD()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw kh=null,e})}let kh=null;function PO(n){return kh=kh||AO(n),kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new Ac(5e3,15e3),bO="__/auth/iframe",NO="emulator/auth/iframe",DO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LO(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Yy(e,NO):`https://${n.config.authDomain}/${bO}`,r={apiKey:e.apiKey,appName:n.name,v:io},i=OO.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${kl(r).slice(1)}`}async function MO(n){const e=await PO(n),t=ri().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:LO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DO,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Or(n,"network-request-failed"),c=ri().setTimeout(()=>{o(l)},kO.get());function h(){ri().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VO=500,FO=600,UO="_blank",$O="http://localhost";class kE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BO(n,e,t,r=VO,i=FO){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},jO),{width:r.toString(),height:i.toString(),top:o,left:l}),p=pn().toLowerCase();t&&(c=HC(p)?UO:t),zC(p)&&(e=e||$O,h.scrollbars="yes");const g=Object.entries(h).reduce((E,[S,R])=>`${E}${S}=${R},`,"");if(aD(p)&&c!=="_self")return zO(e||"",c),new kE(null);const w=window.open(e||"",c,g);Ce(w,n,"popup-blocked");try{w.focus()}catch{}return new kE(w)}function zO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO="__/auth/handler",HO="emulator/auth/handler",qO=encodeURIComponent("fac");async function bE(n,e,t,r,i,o){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:io,eventId:i};if(e instanceof tv){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Pg(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,w]of Object.entries({}))l[g]=w}if(e instanceof kc){const g=e.getScopes().filter(w=>w!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await n._getAppCheckToken(),p=h?`#${qO}=${encodeURIComponent(h)}`:"";return`${KO(n)}?${kl(c).slice(1)}${p}`}function KO({config:n}){return n.emulator?Yy(n,HO):`https://${n.authDomain}/${WO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="webStorageSupport";class GO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lS,this._completeRedirectFn=vO,this._overrideRedirectResult=mO}async _openPopup(e,t,r,i){var o;Ui((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await bE(e,t,r,Lg(),i);return BO(e,l,nv())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await bE(e,t,r,Lg(),i);return XD(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ui(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await MO(e),r=new wO(e);return t.register("authEvent",i=>(Ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(eg,{type:eg},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[eg];l!==void 0&&t(!!l),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=SO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return YC()||WC()||Jy()}}const QO=GO;var NE="@firebase/auth",DE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JO(n){Hs(new Vi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XC(n)},p=new fD(r,i,o,h);return ID(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Hs(new Vi("auth-internal",e=>{const t=oo(e.getProvider("auth").getImmediate());return(r=>new YO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(NE,DE,XO(n)),ur(NE,DE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=5*60,eL=RC("authIdTokenMaxAge")||ZO;let OE=null;const tL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>eL)return;const i=t==null?void 0:t.token;OE!==i&&(OE=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Of(n=kf()){const e=Rc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=TD(n,{popupRedirectResolver:QO,persistence:[oO,GD,lS]}),r=RC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=tL(o.toString());HD(t,l,()=>l(t.currentUser)),WD(t,c=>l(c))}}const i=SC("auth");return i&&CD(t,`http://${i}`),t}function nL(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}pD({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Or("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",nL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JO("Browser");var rL="firebase",iL="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(rL,iL,"app");var LE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,gS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,P){function b(){}b.prototype=P.prototype,N.D=P.prototype,N.prototype=new b,N.prototype.constructor=N,N.C=function(M,j,V){for(var D=Array(arguments.length-2),le=2;le<arguments.length;le++)D[le-2]=arguments[le];return P.prototype[j].apply(M,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,P,b){b||(b=0);var M=Array(16);if(typeof P=="string")for(var j=0;16>j;++j)M[j]=P.charCodeAt(b++)|P.charCodeAt(b++)<<8|P.charCodeAt(b++)<<16|P.charCodeAt(b++)<<24;else for(j=0;16>j;++j)M[j]=P[b++]|P[b++]<<8|P[b++]<<16|P[b++]<<24;P=N.g[0],b=N.g[1],j=N.g[2];var V=N.g[3],D=P+(V^b&(j^V))+M[0]+3614090360&4294967295;P=b+(D<<7&4294967295|D>>>25),D=V+(j^P&(b^j))+M[1]+3905402710&4294967295,V=P+(D<<12&4294967295|D>>>20),D=j+(b^V&(P^b))+M[2]+606105819&4294967295,j=V+(D<<17&4294967295|D>>>15),D=b+(P^j&(V^P))+M[3]+3250441966&4294967295,b=j+(D<<22&4294967295|D>>>10),D=P+(V^b&(j^V))+M[4]+4118548399&4294967295,P=b+(D<<7&4294967295|D>>>25),D=V+(j^P&(b^j))+M[5]+1200080426&4294967295,V=P+(D<<12&4294967295|D>>>20),D=j+(b^V&(P^b))+M[6]+2821735955&4294967295,j=V+(D<<17&4294967295|D>>>15),D=b+(P^j&(V^P))+M[7]+4249261313&4294967295,b=j+(D<<22&4294967295|D>>>10),D=P+(V^b&(j^V))+M[8]+1770035416&4294967295,P=b+(D<<7&4294967295|D>>>25),D=V+(j^P&(b^j))+M[9]+2336552879&4294967295,V=P+(D<<12&4294967295|D>>>20),D=j+(b^V&(P^b))+M[10]+4294925233&4294967295,j=V+(D<<17&4294967295|D>>>15),D=b+(P^j&(V^P))+M[11]+2304563134&4294967295,b=j+(D<<22&4294967295|D>>>10),D=P+(V^b&(j^V))+M[12]+1804603682&4294967295,P=b+(D<<7&4294967295|D>>>25),D=V+(j^P&(b^j))+M[13]+4254626195&4294967295,V=P+(D<<12&4294967295|D>>>20),D=j+(b^V&(P^b))+M[14]+2792965006&4294967295,j=V+(D<<17&4294967295|D>>>15),D=b+(P^j&(V^P))+M[15]+1236535329&4294967295,b=j+(D<<22&4294967295|D>>>10),D=P+(j^V&(b^j))+M[1]+4129170786&4294967295,P=b+(D<<5&4294967295|D>>>27),D=V+(b^j&(P^b))+M[6]+3225465664&4294967295,V=P+(D<<9&4294967295|D>>>23),D=j+(P^b&(V^P))+M[11]+643717713&4294967295,j=V+(D<<14&4294967295|D>>>18),D=b+(V^P&(j^V))+M[0]+3921069994&4294967295,b=j+(D<<20&4294967295|D>>>12),D=P+(j^V&(b^j))+M[5]+3593408605&4294967295,P=b+(D<<5&4294967295|D>>>27),D=V+(b^j&(P^b))+M[10]+38016083&4294967295,V=P+(D<<9&4294967295|D>>>23),D=j+(P^b&(V^P))+M[15]+3634488961&4294967295,j=V+(D<<14&4294967295|D>>>18),D=b+(V^P&(j^V))+M[4]+3889429448&4294967295,b=j+(D<<20&4294967295|D>>>12),D=P+(j^V&(b^j))+M[9]+568446438&4294967295,P=b+(D<<5&4294967295|D>>>27),D=V+(b^j&(P^b))+M[14]+3275163606&4294967295,V=P+(D<<9&4294967295|D>>>23),D=j+(P^b&(V^P))+M[3]+4107603335&4294967295,j=V+(D<<14&4294967295|D>>>18),D=b+(V^P&(j^V))+M[8]+1163531501&4294967295,b=j+(D<<20&4294967295|D>>>12),D=P+(j^V&(b^j))+M[13]+2850285829&4294967295,P=b+(D<<5&4294967295|D>>>27),D=V+(b^j&(P^b))+M[2]+4243563512&4294967295,V=P+(D<<9&4294967295|D>>>23),D=j+(P^b&(V^P))+M[7]+1735328473&4294967295,j=V+(D<<14&4294967295|D>>>18),D=b+(V^P&(j^V))+M[12]+2368359562&4294967295,b=j+(D<<20&4294967295|D>>>12),D=P+(b^j^V)+M[5]+4294588738&4294967295,P=b+(D<<4&4294967295|D>>>28),D=V+(P^b^j)+M[8]+2272392833&4294967295,V=P+(D<<11&4294967295|D>>>21),D=j+(V^P^b)+M[11]+1839030562&4294967295,j=V+(D<<16&4294967295|D>>>16),D=b+(j^V^P)+M[14]+4259657740&4294967295,b=j+(D<<23&4294967295|D>>>9),D=P+(b^j^V)+M[1]+2763975236&4294967295,P=b+(D<<4&4294967295|D>>>28),D=V+(P^b^j)+M[4]+1272893353&4294967295,V=P+(D<<11&4294967295|D>>>21),D=j+(V^P^b)+M[7]+4139469664&4294967295,j=V+(D<<16&4294967295|D>>>16),D=b+(j^V^P)+M[10]+3200236656&4294967295,b=j+(D<<23&4294967295|D>>>9),D=P+(b^j^V)+M[13]+681279174&4294967295,P=b+(D<<4&4294967295|D>>>28),D=V+(P^b^j)+M[0]+3936430074&4294967295,V=P+(D<<11&4294967295|D>>>21),D=j+(V^P^b)+M[3]+3572445317&4294967295,j=V+(D<<16&4294967295|D>>>16),D=b+(j^V^P)+M[6]+76029189&4294967295,b=j+(D<<23&4294967295|D>>>9),D=P+(b^j^V)+M[9]+3654602809&4294967295,P=b+(D<<4&4294967295|D>>>28),D=V+(P^b^j)+M[12]+3873151461&4294967295,V=P+(D<<11&4294967295|D>>>21),D=j+(V^P^b)+M[15]+530742520&4294967295,j=V+(D<<16&4294967295|D>>>16),D=b+(j^V^P)+M[2]+3299628645&4294967295,b=j+(D<<23&4294967295|D>>>9),D=P+(j^(b|~V))+M[0]+4096336452&4294967295,P=b+(D<<6&4294967295|D>>>26),D=V+(b^(P|~j))+M[7]+1126891415&4294967295,V=P+(D<<10&4294967295|D>>>22),D=j+(P^(V|~b))+M[14]+2878612391&4294967295,j=V+(D<<15&4294967295|D>>>17),D=b+(V^(j|~P))+M[5]+4237533241&4294967295,b=j+(D<<21&4294967295|D>>>11),D=P+(j^(b|~V))+M[12]+1700485571&4294967295,P=b+(D<<6&4294967295|D>>>26),D=V+(b^(P|~j))+M[3]+2399980690&4294967295,V=P+(D<<10&4294967295|D>>>22),D=j+(P^(V|~b))+M[10]+4293915773&4294967295,j=V+(D<<15&4294967295|D>>>17),D=b+(V^(j|~P))+M[1]+2240044497&4294967295,b=j+(D<<21&4294967295|D>>>11),D=P+(j^(b|~V))+M[8]+1873313359&4294967295,P=b+(D<<6&4294967295|D>>>26),D=V+(b^(P|~j))+M[15]+4264355552&4294967295,V=P+(D<<10&4294967295|D>>>22),D=j+(P^(V|~b))+M[6]+2734768916&4294967295,j=V+(D<<15&4294967295|D>>>17),D=b+(V^(j|~P))+M[13]+1309151649&4294967295,b=j+(D<<21&4294967295|D>>>11),D=P+(j^(b|~V))+M[4]+4149444226&4294967295,P=b+(D<<6&4294967295|D>>>26),D=V+(b^(P|~j))+M[11]+3174756917&4294967295,V=P+(D<<10&4294967295|D>>>22),D=j+(P^(V|~b))+M[2]+718787259&4294967295,j=V+(D<<15&4294967295|D>>>17),D=b+(V^(j|~P))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+P&4294967295,N.g[1]=N.g[1]+(j+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+j&4294967295,N.g[3]=N.g[3]+V&4294967295}r.prototype.u=function(N,P){P===void 0&&(P=N.length);for(var b=P-this.blockSize,M=this.B,j=this.h,V=0;V<P;){if(j==0)for(;V<=b;)i(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<P;)if(M[j++]=N.charCodeAt(V++),j==this.blockSize){i(this,M),j=0;break}}else for(;V<P;)if(M[j++]=N[V++],j==this.blockSize){i(this,M),j=0;break}}this.h=j,this.o+=P},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var P=1;P<N.length-8;++P)N[P]=0;var b=8*this.o;for(P=N.length-8;P<N.length;++P)N[P]=b&255,b/=256;for(this.u(N),N=Array(16),P=b=0;4>P;++P)for(var M=0;32>M;M+=8)N[b++]=this.g[P]>>>M&255;return N};function o(N,P){var b=c;return Object.prototype.hasOwnProperty.call(b,N)?b[N]:b[N]=P(N)}function l(N,P){this.h=P;for(var b=[],M=!0,j=N.length-1;0<=j;j--){var V=N[j]|0;M&&V==P||(b[j]=V,M=!1)}this.g=b}var c={};function h(N){return-128<=N&&128>N?o(N,function(P){return new l([P|0],0>P?-1:0)}):new l([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return w;if(0>N)return x(p(-N));for(var P=[],b=1,M=0;N>=b;M++)P[M]=N/b|0,b*=4294967296;return new l(P,0)}function g(N,P){if(N.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(N.charAt(0)=="-")return x(g(N.substring(1),P));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=p(Math.pow(P,8)),M=w,j=0;j<N.length;j+=8){var V=Math.min(8,N.length-j),D=parseInt(N.substring(j,j+V),P);8>V?(V=p(Math.pow(P,V)),M=M.j(V).add(p(D))):(M=M.j(b),M=M.add(p(D)))}return M}var w=h(0),E=h(1),S=h(16777216);n=l.prototype,n.m=function(){if(k(this))return-x(this).m();for(var N=0,P=1,b=0;b<this.g.length;b++){var M=this.i(b);N+=(0<=M?M:4294967296+M)*P,P*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(R(this))return"0";if(k(this))return"-"+x(this).toString(N);for(var P=p(Math.pow(N,6)),b=this,M="";;){var j=q(b,P).g;b=L(b,j.j(P));var V=((0<b.g.length?b.g[0]:b.h)>>>0).toString(N);if(b=j,R(b))return V+M;for(;6>V.length;)V="0"+V;M=V+M}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function R(N){if(N.h!=0)return!1;for(var P=0;P<N.g.length;P++)if(N.g[P]!=0)return!1;return!0}function k(N){return N.h==-1}n.l=function(N){return N=L(this,N),k(N)?-1:R(N)?0:1};function x(N){for(var P=N.g.length,b=[],M=0;M<P;M++)b[M]=~N.g[M];return new l(b,~N.h).add(E)}n.abs=function(){return k(this)?x(this):this},n.add=function(N){for(var P=Math.max(this.g.length,N.g.length),b=[],M=0,j=0;j<=P;j++){var V=M+(this.i(j)&65535)+(N.i(j)&65535),D=(V>>>16)+(this.i(j)>>>16)+(N.i(j)>>>16);M=D>>>16,V&=65535,D&=65535,b[j]=D<<16|V}return new l(b,b[b.length-1]&-2147483648?-1:0)};function L(N,P){return N.add(x(P))}n.j=function(N){if(R(this)||R(N))return w;if(k(this))return k(N)?x(this).j(x(N)):x(x(this).j(N));if(k(N))return x(this.j(x(N)));if(0>this.l(S)&&0>N.l(S))return p(this.m()*N.m());for(var P=this.g.length+N.g.length,b=[],M=0;M<2*P;M++)b[M]=0;for(M=0;M<this.g.length;M++)for(var j=0;j<N.g.length;j++){var V=this.i(M)>>>16,D=this.i(M)&65535,le=N.i(j)>>>16,Se=N.i(j)&65535;b[2*M+2*j]+=D*Se,U(b,2*M+2*j),b[2*M+2*j+1]+=V*Se,U(b,2*M+2*j+1),b[2*M+2*j+1]+=D*le,U(b,2*M+2*j+1),b[2*M+2*j+2]+=V*le,U(b,2*M+2*j+2)}for(M=0;M<P;M++)b[M]=b[2*M+1]<<16|b[2*M];for(M=P;M<2*P;M++)b[M]=0;return new l(b,0)};function U(N,P){for(;(N[P]&65535)!=N[P];)N[P+1]+=N[P]>>>16,N[P]&=65535,P++}function B(N,P){this.g=N,this.h=P}function q(N,P){if(R(P))throw Error("division by zero");if(R(N))return new B(w,w);if(k(N))return P=q(x(N),P),new B(x(P.g),x(P.h));if(k(P))return P=q(N,x(P)),new B(x(P.g),P.h);if(30<N.g.length){if(k(N)||k(P))throw Error("slowDivide_ only works with positive integers.");for(var b=E,M=P;0>=M.l(N);)b=X(b),M=X(M);var j=J(b,1),V=J(M,1);for(M=J(M,2),b=J(b,2);!R(M);){var D=V.add(M);0>=D.l(N)&&(j=j.add(b),V=D),M=J(M,1),b=J(b,1)}return P=L(N,j.j(P)),new B(j,P)}for(j=w;0<=N.l(P);){for(b=Math.max(1,Math.floor(N.m()/P.m())),M=Math.ceil(Math.log(b)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),V=p(b),D=V.j(P);k(D)||0<D.l(N);)b-=M,V=p(b),D=V.j(P);R(V)&&(V=E),j=j.add(V),N=L(N,D)}return new B(j,N)}n.A=function(N){return q(this,N).h},n.and=function(N){for(var P=Math.max(this.g.length,N.g.length),b=[],M=0;M<P;M++)b[M]=this.i(M)&N.i(M);return new l(b,this.h&N.h)},n.or=function(N){for(var P=Math.max(this.g.length,N.g.length),b=[],M=0;M<P;M++)b[M]=this.i(M)|N.i(M);return new l(b,this.h|N.h)},n.xor=function(N){for(var P=Math.max(this.g.length,N.g.length),b=[],M=0;M<P;M++)b[M]=this.i(M)^N.i(M);return new l(b,this.h^N.h)};function X(N){for(var P=N.g.length+1,b=[],M=0;M<P;M++)b[M]=N.i(M)<<1|N.i(M-1)>>>31;return new l(b,N.h)}function J(N,P){var b=P>>5;P%=32;for(var M=N.g.length-b,j=[],V=0;V<M;V++)j[V]=0<P?N.i(V+b)>>>P|N.i(V+b+1)<<32-P:N.i(V+b);return new l(j,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Fs=l}).apply(typeof LE<"u"?LE:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yS,zu,vS,bh,Ug,_S,wS,ES;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,T){return d==Array.prototype||d==Object.prototype||(d[v]=T.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var v=0;v<d.length;++v){var T=d[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function i(d,v){if(v)e:{var T=r;d=d.split(".");for(var A=0;A<d.length-1;A++){var W=d[A];if(!(W in T))break e;T=T[W]}d=d[d.length-1],A=T[d],v=v(A),v!=A&&v!=null&&e(T,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var T=0,A=!1,W={next:function(){if(!A&&T<d.length){var Q=T++;return{value:v(Q,d[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(d){return d||function(){return o(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function g(d,v,T){return d.call.apply(d.bind,arguments)}function w(d,v,T){if(!d)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,A),d.apply(v,W)}}return function(){return d.apply(v,arguments)}}function E(d,v,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:w,E.apply(null,arguments)}function S(d,v){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function R(d,v){function T(){}T.prototype=v.prototype,d.aa=v.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(A,W,Q){for(var ae=Array(arguments.length-2),et=2;et<arguments.length;et++)ae[et-2]=arguments[et];return v.prototype[W].apply(A,ae)}}function k(d){const v=d.length;if(0<v){const T=Array(v);for(let A=0;A<v;A++)T[A]=d[A];return T}return[]}function x(d,v){for(let T=1;T<arguments.length;T++){const A=arguments[T];if(h(A)){const W=d.length||0,Q=A.length||0;d.length=W+Q;for(let ae=0;ae<Q;ae++)d[W+ae]=A[ae]}else d.push(A)}}class L{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function U(d){return/^[\s\xa0]*$/.test(d)}function B(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function q(d){return q[" "](d),d}q[" "]=function(){};var X=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function J(d,v,T){for(const A in d)v.call(T,d[A],A,d)}function N(d,v){for(const T in d)v.call(void 0,d[T],T,d)}function P(d){const v={};for(const T in d)v[T]=d[T];return v}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(d,v){let T,A;for(let W=1;W<arguments.length;W++){A=arguments[W];for(T in A)d[T]=A[T];for(let Q=0;Q<b.length;Q++)T=b[Q],Object.prototype.hasOwnProperty.call(A,T)&&(d[T]=A[T])}}function j(d){var v=1;d=d.split(":");const T=[];for(;0<v&&d.length;)T.push(d.shift()),v--;return d.length&&T.push(d.join(":")),T}function V(d){c.setTimeout(()=>{throw d},0)}function D(){var d=ue;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class le{constructor(){this.h=this.g=null}add(v,T){const A=Se.get();A.set(v,T),this.h?this.h.next=A:this.g=A,this.h=A}}var Se=new L(()=>new Re,d=>d.reset());class Re{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ie=!1,ue=new le,se=()=>{const d=c.Promise.resolve(void 0);Te=()=>{d.then(z)}};var z=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(T){V(T)}var v=Se;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}ie=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return d}();function Ae(d,v){if(fe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(X){e:{try{q(v.nodeName);var W=!0;break e}catch{}W=!1}W||(v=null)}}else T=="mouseover"?v=d.fromElement:T=="mouseout"&&(v=d.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:De[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ae.aa.h.call(this)}}R(Ae,fe);var De={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Ye(d,v,T,A,W){this.listener=d,this.proxy=null,this.src=v,this.type=T,this.capture=!!A,this.ha=W,this.key=++Oe,this.da=this.fa=!1}function At(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function jn(d){this.src=d,this.g={},this.h=0}jn.prototype.add=function(d,v,T,A,W){var Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);var ae=gr(d,v,A,W);return-1<ae?(v=d[ae],T||(v.fa=!1)):(v=new Ye(v,this.src,Q,!!A,W),v.fa=T,d.push(v)),v};function Yi(d,v){var T=v.type;if(T in d.g){var A=d.g[T],W=Array.prototype.indexOf.call(A,v,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(A,W,1),Q&&(At(v),d.g[T].length==0&&(delete d.g[T],d.h--))}}function gr(d,v,T,A){for(var W=0;W<d.length;++W){var Q=d[W];if(!Q.da&&Q.listener==v&&Q.capture==!!T&&Q.ha==A)return W}return-1}var hi="closure_lm_"+(1e6*Math.random()|0),Xi={};function Ji(d,v,T,A,W){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)Ji(d,v[Q],T,A,W);return null}return T=ns(T),d&&d[je]?d.K(v,T,p(A)?!!A.capture:!1,W):Zi(d,v,T,!1,A,W)}function Zi(d,v,T,A,W,Q){if(!v)throw Error("Invalid event type");var ae=p(W)?!!W.capture:!!W,et=fi(d);if(et||(d[hi]=et=new jn(d)),T=et.add(v,T,A,ae,Q),T.proxy)return T;if(A=la(),T.proxy=A,A.src=d,A.listener=T,d.addEventListener)Ie||(W=ae),W===void 0&&(W=!1),d.addEventListener(v.toString(),A,W);else if(d.attachEvent)d.attachEvent(Tn(v.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function la(){function d(T){return v.call(d.src,d.listener,T)}const v=ts;return d}function es(d,v,T,A,W){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)es(d,v[Q],T,A,W);else A=p(A)?!!A.capture:!!A,T=ns(T),d&&d[je]?(d=d.i,v=String(v).toString(),v in d.g&&(Q=d.g[v],T=gr(Q,T,A,W),-1<T&&(At(Q[T]),Array.prototype.splice.call(Q,T,1),Q.length==0&&(delete d.g[v],d.h--)))):d&&(d=fi(d))&&(v=d.g[v.toString()],d=-1,v&&(d=gr(v,T,A,W)),(T=-1<d?v[d]:null)&&Kt(T))}function Kt(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[je])Yi(v.i,d);else{var T=d.type,A=d.proxy;v.removeEventListener?v.removeEventListener(T,A,d.capture):v.detachEvent?v.detachEvent(Tn(T),A):v.addListener&&v.removeListener&&v.removeListener(A),(T=fi(v))?(Yi(T,d),T.h==0&&(T.src=null,v[hi]=null)):At(d)}}}function Tn(d){return d in Xi?Xi[d]:Xi[d]="on"+d}function ts(d,v){if(d.da)d=!0;else{v=new Ae(v,this);var T=d.listener,A=d.ha||d.src;d.fa&&Kt(d),d=T.call(A,v)}return d}function fi(d){return d=d[hi],d instanceof jn?d:null}var Ur="__closure_events_fn_"+(1e9*Math.random()>>>0);function ns(d){return typeof d=="function"?d:(d[Ur]||(d[Ur]=function(v){return d.handleEvent(v)}),d[Ur])}function _t(){Y.call(this),this.i=new jn(this),this.M=this,this.F=null}R(_t,Y),_t.prototype[je]=!0,_t.prototype.removeEventListener=function(d,v,T,A){es(this,d,v,T,A)};function wt(d,v){var T,A=d.F;if(A)for(T=[];A;A=A.F)T.push(A);if(d=d.M,A=v.type||v,typeof v=="string")v=new fe(v,d);else if(v instanceof fe)v.target=v.target||d;else{var W=v;v=new fe(A,d),M(v,W)}if(W=!0,T)for(var Q=T.length-1;0<=Q;Q--){var ae=v.g=T[Q];W=Xn(ae,A,!0,v)&&W}if(ae=v.g=d,W=Xn(ae,A,!0,v)&&W,W=Xn(ae,A,!1,v)&&W,T)for(Q=0;Q<T.length;Q++)ae=v.g=T[Q],W=Xn(ae,A,!1,v)&&W}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var T=d.g[v],A=0;A<T.length;A++)At(T[A]);delete d.g[v],d.h--}}this.F=null},_t.prototype.K=function(d,v,T,A){return this.i.add(String(d),v,!1,T,A)},_t.prototype.L=function(d,v,T,A){return this.i.add(String(d),v,!0,T,A)};function Xn(d,v,T,A){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,Q=0;Q<v.length;++Q){var ae=v[Q];if(ae&&!ae.da&&ae.capture==T){var et=ae.listener,Ot=ae.ha||ae.src;ae.fa&&Yi(d.i,ae),W=et.call(Ot,A)!==!1&&W}}return W&&!A.defaultPrevented}function Ul(d,v,T){if(typeof d=="function")T&&(d=E(d,T));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(d,v||0)}function rs(d){d.g=Ul(()=>{d.g=null,d.i&&(d.i=!1,rs(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class ho extends Y{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:rs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fo(d){Y.call(this),this.h=d,this.g={}}R(fo,Y);var $l=[];function Bl(d){J(d.g,function(v,T){this.g.hasOwnProperty(T)&&Kt(v)},d),d.g={}}fo.prototype.N=function(){fo.aa.N.call(this),Bl(this)},fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zl=c.JSON.stringify,Wl=c.JSON.parse,Hl=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function po(){}po.prototype.h=null;function ua(d){return d.h||(d.h=d.i())}function ca(){}var Jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $r(){fe.call(this,"d")}R($r,fe);function da(){fe.call(this,"c")}R(da,fe);var Br={},ql=null;function mo(){return ql=ql||new _t}Br.La="serverreachability";function Kl(d){fe.call(this,Br.La,d)}R(Kl,fe);function pi(d){const v=mo();wt(v,new Kl(v))}Br.STAT_EVENT="statevent";function Gl(d,v){fe.call(this,Br.STAT_EVENT,d),this.stat=v}R(Gl,fe);function St(d){const v=mo();wt(v,new Gl(v,d))}Br.Ma="timingevent";function ha(d,v){fe.call(this,Br.Ma,d),this.size=v}R(ha,fe);function yr(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},v)}function go(){this.g=!0}go.prototype.xa=function(){this.g=!1};function yo(d,v,T,A,W,Q){d.info(function(){if(d.g)if(Q)for(var ae="",et=Q.split("&"),Ot=0;Ot<et.length;Ot++){var Be=et[Ot].split("=");if(1<Be.length){var Ft=Be[0];Be=Be[1];var Pt=Ft.split("_");ae=2<=Pt.length&&Pt[1]=="type"?ae+(Ft+"="+Be+"&"):ae+(Ft+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+A+") [attempt "+W+"]: "+v+`
`+T+`
`+ae})}function fa(d,v,T,A,W,Q,ae){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+W+"]: "+v+`
`+T+`
`+Q+" "+ae})}function vr(d,v,T,A){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+mp(d,T)+(A?" "+A:"")})}function Ql(d,v){d.info(function(){return"TIMEOUT: "+v})}go.prototype.info=function(){};function mp(d,v){if(!d.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var A=T[d];if(!(2>A.length)){var W=A[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<W.length;ae++)W[ae]=""}}}}return zl(T)}catch{return v}}var pa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_r;function vo(){}R(vo,po),vo.prototype.g=function(){return new XMLHttpRequest},vo.prototype.i=function(){return{}},_r=new vo;function wr(d,v,T,A){this.j=d,this.i=v,this.l=T,this.R=A||1,this.U=new fo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yc}function Yc(){this.i=null,this.g="",this.h=!1}var Yl={},ma={};function ga(d,v,T){d.L=1,d.v=ls(Fn(v)),d.m=T,d.P=!0,Xl(d,null)}function Xl(d,v){d.F=Date.now(),it(d),d.A=Fn(d.v);var T=d.A,A=d.R;Array.isArray(A)||(A=[String(A)]),cs(T.i,"t",A),d.C=0,T=d.j.J,d.h=new Yc,d.g=pd(d.j,T?v:null,!d.m),0<d.O&&(d.M=new ho(E(d.Y,d,d.g),d.O)),v=d.U,T=d.g,A=d.ca;var W="readystatechange";Array.isArray(W)||(W&&($l[0]=W.toString()),W=$l);for(var Q=0;Q<W.length;Q++){var ae=Ji(T,W[Q],A||v.handleEvent,!1,v.h||v);if(!ae)break;v.g[ae.key]=ae}v=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),pi(),yo(d.i,d.u,d.A,d.l,d.R,d.m)}wr.prototype.ca=function(d){d=d.target;const v=this.M;v&&Cn(d)==3?v.j():this.Y(d)},wr.prototype.Y=function(d){try{if(d==this.g)e:{const Pt=Cn(this.g);var v=this.g.Ba();const tr=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||ru(this.g)))){this.J||Pt!=4||v==7||(v==8||0>=tr?pi(3):pi(2)),_o(this);var T=this.g.Z();this.X=T;t:if(Xc(this)){var A=ru(this.g);d="";var W=A.length,Q=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zn(this),is(this);var ae="";break t}this.h.i=new c.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,d+=this.h.i.decode(A[v],{stream:!(Q&&v==W-1)});A.length=0,this.h.g+=d,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=T==200,fa(this.i,this.u,this.A,this.l,this.R,Pt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Ot=this.g;if((et=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(et)){var Be=et;break t}}Be=null}if(T=Be)vr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jl(this,T);else{this.o=!1,this.s=3,St(12),Zn(this),is(this);break e}}if(this.P){T=!0;let $n;for(;!this.J&&this.C<ae.length;)if($n=gp(this,ae),$n==ma){Pt==4&&(this.s=4,St(14),T=!1),vr(this.i,this.l,null,"[Incomplete Response]");break}else if($n==Yl){this.s=4,St(15),vr(this.i,this.l,ae,"[Invalid Chunk]"),T=!1;break}else vr(this.i,this.l,$n,null),Jl(this,$n);if(Xc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||ae.length!=0||this.h.h||(this.s=1,St(16),T=!1),this.o=this.o&&T,!T)vr(this.i,this.l,ae,"[Invalid Chunked Response]"),Zn(this),is(this);else if(0<ae.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),su(Ft),Ft.M=!0,St(11))}}else vr(this.i,this.l,ae,null),Jl(this,ae);Pt==4&&Zn(this),this.o&&!this.J&&(Pt==4?Ra(this.j,this):(this.o=!1,it(this)))}else Ta(this.g),T==400&&0<ae.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),Zn(this),is(this)}}}catch{}finally{}};function Xc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function gp(d,v){var T=d.C,A=v.indexOf(`
`,T);return A==-1?ma:(T=Number(v.substring(T,A)),isNaN(T)?Yl:(A+=1,A+T>v.length?ma:(v=v.slice(A,A+T),d.C=A+T,v)))}wr.prototype.cancel=function(){this.J=!0,Zn(this)};function it(d){d.S=Date.now()+d.I,Jc(d,d.I)}function Jc(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=yr(E(d.ba,d),v)}function _o(d){d.B&&(c.clearTimeout(d.B),d.B=null)}wr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ql(this.i,this.A),this.L!=2&&(pi(),St(17)),Zn(this),this.s=2,is(this)):Jc(this,this.S-d)};function is(d){d.j.G==0||d.J||Ra(d.j,d)}function Zn(d){_o(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Bl(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Jl(d,v){try{var T=d.j;if(T.G!=0&&(T.g==d||mn(T.h,d))){if(!d.K&&mn(T.h,d)&&T.G==3){try{var A=T.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var W=A;if(W[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)xa(T),Sr(T);else break e;Sa(T),St(18)}}else T.za=W[1],0<T.za-T.T&&37500>W[2]&&T.F&&T.v==0&&!T.C&&(T.C=yr(E(T.Za,T),6e3));if(1>=ed(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else _i(T,11)}else if((d.K||T.g==d)&&xa(T),!U(v))for(W=T.Da.g.parse(v),v=0;v<W.length;v++){let Be=W[v];if(T.T=Be[0],Be=Be[1],T.G==2)if(Be[0]=="c"){T.K=Be[1],T.ia=Be[2];const Ft=Be[3];Ft!=null&&(T.la=Ft,T.j.info("VER="+T.la));const Pt=Be[4];Pt!=null&&(T.Aa=Pt,T.j.info("SVER="+T.Aa));const tr=Be[5];tr!=null&&typeof tr=="number"&&0<tr&&(A=1.5*tr,T.L=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const $n=d.g;if($n){const xo=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xo){var Q=A.h;Q.g||xo.indexOf("spdy")==-1&&xo.indexOf("quic")==-1&&xo.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Zl(Q,Q.h),Q.h=null))}if(A.D){const Pa=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;Pa&&(A.ya=Pa,rt(A.I,A.D,Pa))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),A=T;var ae=d;if(A.qa=fd(A,A.J?A.ia:null,A.W),ae.K){td(A.h,ae);var et=ae,Ot=A.L;Ot&&(et.I=Ot),et.B&&(_o(et),it(et)),A.g=ae}else So(A);0<T.i.length&&qr(T)}else Be[0]!="stop"&&Be[0]!="close"||_i(T,7);else T.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?_i(T,7):Qt(T):Be[0]!="noop"&&T.l&&T.l.ta(Be),T.v=0)}}pi(4)}catch{}}var Zc=class{constructor(d,v){this.g=d,this.map=v}};function wo(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ed(d){return d.h?1:d.g?d.g.size:0}function mn(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Zl(d,v){d.g?d.g.add(v):d.h=v}function td(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}wo.prototype.cancel=function(){if(this.i=nd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function nd(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const T of d.g.values())v=v.concat(T.D);return v}return k(d.i)}function ya(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var v=[],T=d.length,A=0;A<T;A++)v.push(d[A]);return v}v=[],T=0;for(A in d)v[T++]=d[A];return v}function va(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var v=[];d=d.length;for(var T=0;T<d;T++)v.push(T);return v}v=[],T=0;for(const A in d)v[T++]=A;return v}}}function ss(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var T=va(d),A=ya(d),W=A.length,Q=0;Q<W;Q++)v.call(void 0,A[Q],T&&T[Q],d)}var Eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yp(d,v){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var A=d[T].indexOf("="),W=null;if(0<=A){var Q=d[T].substring(0,A);W=d[T].substring(A+1)}else Q=d[T];v(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function mi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof mi){this.h=d.h,To(this,d.j),this.o=d.o,this.g=d.g,os(this,d.s),this.l=d.l;var v=d.i,T=new zr;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),as(this,T),this.m=d.m}else d&&(v=String(d).match(Eo))?(this.h=!1,To(this,v[1]||"",!0),this.o=Fe(v[2]||""),this.g=Fe(v[3]||"",!0),os(this,v[4]),this.l=Fe(v[5]||"",!0),as(this,v[6]||"",!0),this.m=Fe(v[7]||"")):(this.h=!1,this.i=new zr(null,this.h))}mi.prototype.toString=function(){var d=[],v=this.j;v&&d.push(us(v,_a,!0),":");var T=this.g;return(T||v=="file")&&(d.push("//"),(v=this.o)&&d.push(us(v,_a,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(us(T,T.charAt(0)=="/"?sd:id,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",us(T,eu)),d.join("")};function Fn(d){return new mi(d)}function To(d,v,T){d.j=T?Fe(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function os(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function as(d,v,T){v instanceof zr?(d.i=v,Wr(d.i,d.h)):(T||(v=us(v,od)),d.i=new zr(v,d.h))}function rt(d,v,T){d.i.set(v,T)}function ls(d){return rt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Fe(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function us(d,v,T){return typeof d=="string"?(d=encodeURI(d).replace(v,rd),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function rd(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var _a=/[#\/\?@]/g,id=/[#\?:]/g,sd=/[#\?]/g,od=/[#\?@]/g,eu=/#/g;function zr(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Gt(d){d.g||(d.g=new Map,d.h=0,d.i&&yp(d.i,function(v,T){d.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=zr.prototype,n.add=function(d,v){Gt(this),this.i=null,d=er(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(v),this.h+=1,this};function Er(d,v){Gt(d),v=er(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Tr(d,v){return Gt(d),v=er(d,v),d.g.has(v)}n.forEach=function(d,v){Gt(this),this.g.forEach(function(T,A){T.forEach(function(W){d.call(v,W,A,this)},this)},this)},n.na=function(){Gt(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let A=0;A<v.length;A++){const W=d[A];for(let Q=0;Q<W.length;Q++)T.push(v[A])}return T},n.V=function(d){Gt(this);let v=[];if(typeof d=="string")Tr(this,d)&&(v=v.concat(this.g.get(er(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)v=v.concat(d[T])}return v},n.set=function(d,v){return Gt(this),this.i=null,d=er(this,d),Tr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function cs(d,v,T){Er(d,v),0<T.length&&(d.i=null,d.g.set(er(d,v),k(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var A=v[T];const Q=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var W=Q;ae[A]!==""&&(W+="="+encodeURIComponent(String(ae[A]))),d.push(W)}}return this.i=d.join("&")};function er(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Wr(d,v){v&&!d.j&&(Gt(d),d.i=null,d.g.forEach(function(T,A){var W=A.toLowerCase();A!=W&&(Er(this,A),cs(this,W,T))},d)),d.j=v}function vp(d,v){const T=new go;if(c.Image){const A=new Image;A.onload=S(In,T,"TestLoadImage: loaded",!0,v,A),A.onerror=S(In,T,"TestLoadImage: error",!1,v,A),A.onabort=S(In,T,"TestLoadImage: abort",!1,v,A),A.ontimeout=S(In,T,"TestLoadImage: timeout",!1,v,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else v(!1)}function ad(d,v){const T=new go,A=new AbortController,W=setTimeout(()=>{A.abort(),In(T,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:A.signal}).then(Q=>{clearTimeout(W),Q.ok?In(T,"TestPingServer: ok",!0,v):In(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),In(T,"TestPingServer: error",!1,v)})}function In(d,v,T,A,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),A(T)}catch{}}function _p(){this.g=new Hl}function ld(d,v,T){const A=T||"";try{ss(d,function(W,Q){let ae=W;p(W)&&(ae=zl(W)),v.push(A+Q+"="+encodeURIComponent(ae))})}catch(W){throw v.push(A+"type="+encodeURIComponent("_badmap")),W}}function gi(d){this.l=d.Ub||null,this.j=d.eb||!1}R(gi,po),gi.prototype.g=function(){return new Io(this.l,this.j)},gi.prototype.i=function(d){return function(){return d}}({});function Io(d,v){_t.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Io,_t),n=Io.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Cr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Cr(this)),this.g&&(this.readyState=3,Cr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ud(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function ud(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Ir(this):Cr(this),this.readyState==3&&ud(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Ir(this))},n.Qa=function(d){this.g&&(this.response=d,Ir(this))},n.ga=function(){this.g&&Ir(this)};function Ir(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Cr(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=v.next();return d.join(`\r
`)};function Cr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Io.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function yi(d){let v="";return J(d,function(T,A){v+=A,v+=":",v+=T,v+=`\r
`}),v}function ds(d,v,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=yi(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):rt(d,v,T))}function pt(d){_t.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(pt,_t);var wp=/^https?$/i,tu=["POST","PUT"];n=pt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_r.g(),this.v=this.o?ua(this.o):ua(_r),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Q){Co(this,Q);return}if(d=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var W in A)T.set(W,A[W]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())T.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(tu,v,void 0))||A||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of T)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ea(this),this.u=!0,this.g.send(d),this.u=!1}catch(Q){Co(this,Q)}};function Co(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,wa(d),Un(d)}function wa(d){d.A||(d.A=!0,wt(d,"complete"),wt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,wt(this,"complete"),wt(this,"abort"),Un(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Un(this,!0)),pt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?nu(this):this.bb())},n.bb=function(){nu(this)};function nu(d){if(d.h&&typeof l<"u"&&(!d.v[1]||Cn(d)!=4||d.Z()!=2)){if(d.u&&Cn(d)==4)Ul(d.Ea,0,d);else if(wt(d,"readystatechange"),Cn(d)==4){d.h=!1;try{const ae=d.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var A;if(A=ae===0){var W=String(d.D).match(Eo)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),A=!wp.test(W?W.toLowerCase():"")}T=A}if(T)wt(d,"complete"),wt(d,"success");else{d.m=6;try{var Q=2<Cn(d)?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.Z()+"]",wa(d)}}finally{Un(d)}}}}function Un(d,v){if(d.g){Ea(d);const T=d.g,A=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||wt(d,"ready");try{T.onreadystatechange=A}catch{}}}function Ea(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Cn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Wl(v)}};function ru(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ta(d){const v={};d=(d.g&&2<=Cn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(U(d[A]))continue;var T=j(d[A]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=v[W]||[];v[W]=Q,Q.push(T)}N(v,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(d,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||v}function iu(d){this.Aa=0,this.i=[],this.j=new go,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hr("baseRetryDelayMs",5e3,d),this.cb=Hr("retryDelaySeedMs",1e4,d),this.Wa=Hr("forwardChannelMaxRetries",2,d),this.wa=Hr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new wo(d&&d.concurrentRequestLimit),this.Da=new _p,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=iu.prototype,n.la=8,n.G=1,n.connect=function(d,v,T,A){St(0),this.W=d,this.H=v||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.I=fd(this,null,this.W),qr(this)};function Qt(d){if(Ia(d),d.G==3){var v=d.U++,T=Fn(d.I);if(rt(T,"SID",d.K),rt(T,"RID",v),rt(T,"TYPE","terminate"),vi(d,T),v=new wr(d,d.j,v),v.L=2,v.v=ls(Fn(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.v,T=!0),T||(v.g=pd(v.j,null),v.g.ea(v.v)),v.F=Date.now(),it(v)}hd(d)}function Sr(d){d.g&&(su(d),d.g.cancel(),d.g=null)}function Ia(d){Sr(d),d.u&&(c.clearTimeout(d.u),d.u=null),xa(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function qr(d){if(!Vn(d.h)&&!d.s){d.s=!0;var v=d.Ga;Te||se(),ie||(Te(),ie=!0),ue.add(v,d),d.B=0}}function Ep(d,v){return ed(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=yr(E(d.Ga,d,v),dd(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new wr(this,this.j,d);let Q=this.o;if(this.S&&(Q?(Q=P(Q),M(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=hs(this,W,v),T=Fn(this.I),rt(T,"RID",d),rt(T,"CVER",22),this.D&&rt(T,"X-HTTP-Session-Id",this.D),vi(this,T),Q&&(this.O?v="headers="+encodeURIComponent(String(yi(Q)))+"&"+v:this.m&&ds(T,this.m,Q)),Zl(this.h,W),this.Ua&&rt(T,"TYPE","init"),this.P?(rt(T,"$req",v),rt(T,"SID","null"),W.T=!0,ga(W,T,null)):ga(W,T,v),this.G=2}}else this.G==3&&(d?Ca(this,d):this.i.length==0||Vn(this.h)||Ca(this))};function Ca(d,v){var T;v?T=v.l:T=d.U++;const A=Fn(d.I);rt(A,"SID",d.K),rt(A,"RID",T),rt(A,"AID",d.T),vi(d,A),d.m&&d.o&&ds(A,d.m,d.o),T=new wr(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),v&&(d.i=v.D.concat(d.i)),v=hs(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Zl(d.h,T),ga(T,A,v)}function vi(d,v){d.H&&J(d.H,function(T,A){rt(v,A,T)}),d.l&&ss({},function(T,A){rt(v,A,T)})}function hs(d,v,T){T=Math.min(d.i.length,T);var A=d.l?E(d.l.Na,d.l,d):null;e:{var W=d.i;let Q=-1;for(;;){const ae=["count="+T];Q==-1?0<T?(Q=W[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let et=!0;for(let Ot=0;Ot<T;Ot++){let Be=W[Ot].g;const Ft=W[Ot].map;if(Be-=Q,0>Be)Q=Math.max(0,W[Ot].g-100),et=!1;else try{ld(Ft,ae,"req"+Be+"_")}catch{A&&A(Ft)}}if(et){A=ae.join("&");break e}}}return d=d.i.splice(0,T),v.D=d,A}function So(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;Te||se(),ie||(Te(),ie=!0),ue.add(v,d),d.v=0}}function Sa(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=yr(E(d.Fa,d),dd(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,cd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=yr(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),Sr(this),cd(this))};function su(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function cd(d){d.g=new wr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Fn(d.qa);rt(v,"RID","rpc"),rt(v,"SID",d.K),rt(v,"AID",d.T),rt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&rt(v,"TO",d.ja),rt(v,"TYPE","xmlhttp"),vi(d,v),d.m&&d.o&&ds(v,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=ls(Fn(v)),T.m=null,T.P=!0,Xl(T,d)}n.Za=function(){this.C!=null&&(this.C=null,Sr(this),Sa(this),St(19))};function xa(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Ra(d,v){var T=null;if(d.g==v){xa(d),su(d),d.g=null;var A=2}else if(mn(d.h,v))T=v.D,td(d.h,v),A=1;else return;if(d.G!=0){if(v.o)if(A==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var W=d.B;A=mo(),wt(A,new ha(A,T)),qr(d)}else So(d);else if(W=v.s,W==3||W==0&&0<v.X||!(A==1&&Ep(d,v)||A==2&&Sa(d)))switch(T&&0<T.length&&(v=d.h,v.i=v.i.concat(T)),W){case 1:_i(d,5);break;case 4:_i(d,10);break;case 3:_i(d,6);break;default:_i(d,2)}}}function dd(d,v){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*v}function _i(d,v){if(d.j.info("Error code "+v),v==2){var T=E(d.fb,d),A=d.Xa;const W=!A;A=new mi(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||To(A,"https"),ls(A),W?vp(A.toString(),T):ad(A.toString(),T)}else St(2);d.G=0,d.l&&d.l.sa(v),hd(d),Ia(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function hd(d){if(d.G=0,d.ka=[],d.l){const v=nd(d.h);(v.length!=0||d.i.length!=0)&&(x(d.ka,v),x(d.ka,d.i),d.h.i.length=0,k(d.i),d.i.length=0),d.l.ra()}}function fd(d,v,T){var A=T instanceof mi?Fn(T):new mi(T);if(A.g!="")v&&(A.g=v+"."+A.g),os(A,A.s);else{var W=c.location;A=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var Q=new mi(null);A&&To(Q,A),v&&(Q.g=v),W&&os(Q,W),T&&(Q.l=T),A=Q}return T=d.D,v=d.ya,T&&v&&rt(A,T,v),rt(A,"VER",d.la),vi(d,A),A}function pd(d,v,T){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new pt(new gi({eb:T})):new pt(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ou(){}n=ou.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Aa(){}Aa.prototype.g=function(d,v){return new gn(d,v)};function gn(d,v){_t.call(this),this.g=new iu(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!U(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!U(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Kr(this)}R(gn,_t),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=zl(d),d=T);v.i.push(new Zc(v.Ya++,d)),v.G==3&&qr(v)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)};function md(d){$r.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const T in v){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}R(md,$r);function gd(){da.call(this),this.status=1}R(gd,da);function Kr(d){this.g=d}R(Kr,ou),Kr.prototype.ua=function(){wt(this.g,"a")},Kr.prototype.ta=function(d){wt(this.g,new md(d))},Kr.prototype.sa=function(d){wt(this.g,new gd)},Kr.prototype.ra=function(){wt(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,ES=function(){return new Aa},wS=function(){return mo()},_S=Br,Ug={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pa.NO_ERROR=0,pa.TIMEOUT=8,pa.HTTP_ERROR=6,bh=pa,Qc.COMPLETE="complete",vS=Qc,ca.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",_t.prototype.listen=_t.prototype.K,zu=ca,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,yS=pt}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const ME="@firebase/firestore",jE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Pf("@firebase/firestore");function Xa(){return qs.logLevel}function sL(n){qs.setLogLevel(n)}function he(n,...e){if(qs.logLevel<=Me.DEBUG){const t=e.map(iv);qs.debug(`Firestore (${Nl}): ${n}`,...t)}}function $i(n,...e){if(qs.logLevel<=Me.ERROR){const t=e.map(iv);qs.error(`Firestore (${Nl}): ${n}`,...t)}}function hl(n,...e){if(qs.logLevel<=Me.WARN){const t=e.map(iv);qs.warn(`Firestore (${Nl}): ${n}`,...t)}}function iv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n="Unexpected state"){const e=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: `+n;throw $i(e),new Error(e)}function Je(n,e){n||xe()}function be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(an.UNAUTHENTICATED))}shutdown(){}}class aL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lL{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Li,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Li)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string"),new TS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new an(e)}}class uL{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class cL{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new uL(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dL{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,dn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Je(this.o===void 0);const r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new VE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Je(typeof t.token=="string"),this.R=t.token,new VE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=hL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Ue(n,e){return n<e?-1:n>e?1:0}function fl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=-62135596800,UE=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*UE);return new jt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<FE)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-FE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new jt(0,0))}static max(){return new ke(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="__name__";class Jr{constructor(e,t,r){t===void 0?t=0:t>e.length&&xe(),r===void 0?r=e.length-t:r>e.length-t&&xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Jr.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Jr.isNumericId(e),i=Jr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Jr.extractNumericId(e).compare(Jr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fs.fromString(e.substring(4,e.length-2))}}class ht extends Jr{construct(e,t,r){return new ht(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const fL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Jr{construct(e,t,r){return new Zt(e,t,r)}static isValidIdentifier(e){return fL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$E}static keyField(){return new Zt([$E])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new me(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new me(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new me(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(t)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ht.fromString(e))}static fromName(e){return new _e(ht.fromString(e).popFirst(5))}static empty(){return new _e(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=-1;function pL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new jt(t+1,0):new jt(t,r));return new Ks(i,_e.empty(),e)}function mL(n){return new Ks(n.readTime,n.key,dc)}class Ks{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ks(ke.min(),_e.empty(),dc)}static max(){return new Ks(ke.max(),_e.empty(),dc)}}function gL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==yL)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,r)=>{t(e)})}static reject(e){return new Z((t,r)=>{r(e)})}static waitFor(e){return new Z((t,r)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&t()},h=>r(h))}),l=!0,o===i&&t()})}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next(i=>i?Z.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new Z((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const p=h;t(e[p]).next(g=>{l[p]=g,++c,c===o&&r(l)},g=>i(g))}})}static doWhile(e,t){return new Z((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}function _L(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ol(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Lf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=-1;function Mf(n){return n==null}function Xh(n){return n===0&&1/n==-1/0}function wL(n){return typeof n=="number"&&Number.isInteger(n)&&!Xh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="";function EL(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=BE(e)),e=TL(n.get(t),e);return BE(e)}function TL(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case CS:t+="";break;default:t+=o}}return t}function BE(n){return n+CS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ao(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function SS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dt=class $g{constructor(e,t){this.comparator=e,this.root=t||Us.EMPTY}insert(e,t){return new $g(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Us.BLACK,null,null))}remove(e){return new $g(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Us.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}},fh=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Us=class Pi{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Pi.RED,this.left=i??Pi.EMPTY,this.right=o??Pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Pi(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Pi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}};Us.EMPTY=null,Us.RED=!0,Us.BLACK=!1;Us.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Us(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new WE(this.data.getIterator())}getIteratorFrom(e){return new WE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class WE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Kn([])}unionWith(e){let t=new Vt(Zt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new xS("Invalid base64 string: "+o):o}}(e);return new en(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new en(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const IL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(n){if(Je(!!n),typeof n=="string"){let e=0;const t=IL.exec(n);if(Je(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qs(n){return typeof n=="string"?en.fromBase64String(n):en.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="server_timestamp",AS="__type__",PS="__previous_value__",kS="__local_write_time__";function ov(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[AS])===null||t===void 0?void 0:t.stringValue)===RS}function jf(n){const e=n.mapValue.fields[PS];return ov(e)?jf(e):e}function hc(n){const e=Gs(n.mapValue.fields[kS].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,t,r,i,o,l,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}const Jh="(default)";class fc{constructor(e,t){this.projectId=e,this.database=t||Jh}static empty(){return new fc("","")}get isDefaultDatabase(){return this.database===Jh}isEqual(e){return e instanceof fc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="__type__",SL="__max__",ph={mapValue:{}},NS="__vector__",Zh="value";function Ys(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ov(n)?4:RL(n)?9007199254740991:xL(n)?10:11:xe()}function li(n,e){if(n===e)return!0;const t=Ys(n);if(t!==Ys(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hc(n).isEqual(hc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Gs(i.timestampValue),c=Gs(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Qs(i.bytesValue).isEqual(Qs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Rt(i.geoPointValue.latitude)===Rt(o.geoPointValue.latitude)&&Rt(i.geoPointValue.longitude)===Rt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Rt(i.integerValue)===Rt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Rt(i.doubleValue),c=Rt(o.doubleValue);return l===c?Xh(l)===Xh(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return fl(n.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(zE(l)!==zE(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!li(l[h],c[h])))return!1;return!0}(n,e);default:return xe()}}function pc(n,e){return(n.values||[]).find(t=>li(t,e))!==void 0}function pl(n,e){if(n===e)return 0;const t=Ys(n),r=Ys(e);if(t!==r)return Ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Rt(o.integerValue||o.doubleValue),h=Rt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return HE(n.timestampValue,e.timestampValue);case 4:return HE(hc(n),hc(e));case 5:return Ue(n.stringValue,e.stringValue);case 6:return function(o,l){const c=Qs(o),h=Qs(l);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),h=l.split("/");for(let p=0;p<c.length&&p<h.length;p++){const g=Ue(c[p],h[p]);if(g!==0)return g}return Ue(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Ue(Rt(o.latitude),Rt(l.latitude));return c!==0?c:Ue(Rt(o.longitude),Rt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return qE(n.arrayValue,e.arrayValue);case 10:return function(o,l){var c,h,p,g;const w=o.fields||{},E=l.fields||{},S=(c=w[Zh])===null||c===void 0?void 0:c.arrayValue,R=(h=E[Zh])===null||h===void 0?void 0:h.arrayValue,k=Ue(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0);return k!==0?k:qE(S,R)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===ph.mapValue&&l===ph.mapValue)return 0;if(o===ph.mapValue)return 1;if(l===ph.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let w=0;w<h.length&&w<g.length;++w){const E=Ue(h[w],g[w]);if(E!==0)return E;const S=pl(c[h[w]],p[g[w]]);if(S!==0)return S}return Ue(h.length,g.length)}(n.mapValue,e.mapValue);default:throw xe()}}function HE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=Gs(n),r=Gs(e),i=Ue(t.seconds,r.seconds);return i!==0?i:Ue(t.nanos,r.nanos)}function qE(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=pl(t[i],r[i]);if(o)return o}return Ue(t.length,r.length)}function ml(n){return Bg(n)}function Bg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Gs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Qs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Bg(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Bg(t.fields[l])}`;return i+"}"}(n.mapValue):xe()}function Nh(n){switch(Ys(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jf(n);return e?16+Nh(e):16;case 5:return 2*n.stringValue.length;case 6:return Qs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Nh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ao(r.fields,(o,l)=>{i+=o.length+Nh(l)}),i}(n.mapValue);default:throw xe()}}function KE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zg(n){return!!n&&"integerValue"in n}function av(n){return!!n&&"arrayValue"in n}function GE(n){return!!n&&"nullValue"in n}function QE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Dh(n){return!!n&&"mapValue"in n}function xL(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[bS])===null||t===void 0?void 0:t.stringValue)===NS}function Gu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ao(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Gu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function RL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===SL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gu(t)}setAll(e){let t=Zt.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=Gu(l):i.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Dh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ao(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Nn(Gu(this.value))}}function DS(n){const e=[];return ao(n.fields,(t,r)=>{const i=new Zt([t]);if(Dh(r)){const o=DS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,r,i,o,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new ln(e,0,ke.min(),ke.min(),ke.min(),Nn.empty(),0)}static newFoundDocument(e,t,r,i){return new ln(e,1,t,ke.min(),r,i,0)}static newNoDocument(e,t){return new ln(e,2,t,ke.min(),ke.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,ke.min(),ke.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t){this.position=e,this.inclusive=t}}function YE(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),t.key):r=pl(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function XE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!li(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t="asc"){this.field=e,this.dir=t}}function AL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{}class Nt extends OS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new kL(e,t,r):t==="array-contains"?new DL(e,r):t==="in"?new OL(e,r):t==="not-in"?new LL(e,r):t==="array-contains-any"?new ML(e,r):new Nt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new bL(e,r):new NL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(pl(t,this.value)):t!==null&&Ys(this.value)===Ys(t)&&this.matchesComparison(pl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends OS{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new jr(e,t)}matches(e){return LS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function LS(n){return n.op==="and"}function MS(n){return PL(n)&&LS(n)}function PL(n){for(const e of n.filters)if(e instanceof jr)return!1;return!0}function Wg(n){if(n instanceof Nt)return n.field.canonicalString()+n.op.toString()+ml(n.value);if(MS(n))return n.filters.map(e=>Wg(e)).join(",");{const e=n.filters.map(t=>Wg(t)).join(",");return`${n.op}(${e})`}}function jS(n,e){return n instanceof Nt?function(r,i){return i instanceof Nt&&r.op===i.op&&r.field.isEqual(i.field)&&li(r.value,i.value)}(n,e):n instanceof jr?function(r,i){return i instanceof jr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,c)=>o&&jS(l,i.filters[c]),!0):!1}(n,e):void xe()}function VS(n){return n instanceof Nt?function(t){return`${t.field.canonicalString()} ${t.op} ${ml(t.value)}`}(n):n instanceof jr?function(t){return t.op.toString()+" {"+t.getFilters().map(VS).join(" ,")+"}"}(n):"Filter"}class kL extends Nt{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class bL extends Nt{constructor(e,t){super(e,"in",t),this.keys=FS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class NL extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=FS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function FS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class DL extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return av(t)&&pc(t.arrayValue,this.value)}}class OL extends Nt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pc(this.value.arrayValue,t)}}class LL extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!pc(this.value.arrayValue,t)}}class ML extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!av(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>pc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,t=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.le=null}}function JE(n,e=null,t=[],r=[],i=null,o=null,l=null){return new jL(n,e,t,r,i,o,l)}function lv(n){const e=be(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Wg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Mf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ml(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ml(r)).join(",")),e.le=t}return e.le}function uv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!AL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!XE(n.startAt,e.startAt)&&XE(n.endAt,e.endAt)}function Hg(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t=null,r=[],i=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function VL(n,e,t,r,i,o,l,c){return new Nc(n,e,t,r,i,o,l,c)}function Vf(n){return new Nc(n)}function ZE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function US(n){return n.collectionGroup!==null}function Qu(n){const e=be(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Vt(Zt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new tf(o,r))}),t.has(Zt.keyField().canonicalString())||e.he.push(new tf(Zt.keyField(),r))}return e.he}function ii(n){const e=be(n);return e.Pe||(e.Pe=FL(e,Qu(n))),e.Pe}function FL(n,e){if(n.limitType==="F")return JE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new tf(i.field,o)});const t=n.endAt?new ef(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ef(n.startAt.position,n.startAt.inclusive):null;return JE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function qg(n,e){const t=n.filters.concat([e]);return new Nc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Kg(n,e,t){return new Nc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ff(n,e){return uv(ii(n),ii(e))&&n.limitType===e.limitType}function $S(n){return`${lv(ii(n))}|lt:${n.limitType}`}function Ja(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>VS(i)).join(", ")}]`),Mf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ml(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ml(i)).join(",")),`Target(${r})`}(ii(n))}; limitType=${n.limitType})`}function Uf(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Qu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,h){const p=YE(l,c,h);return l.inclusive?p<=0:p<0}(r.startAt,Qu(r),i)||r.endAt&&!function(l,c,h){const p=YE(l,c,h);return l.inclusive?p>=0:p>0}(r.endAt,Qu(r),i))}(n,e)}function UL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function BS(n){return(e,t)=>{let r=!1;for(const i of Qu(n)){const o=$L(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function $L(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(o,l,c){const h=l.data.field(o),p=c.data.field(o);return h!==null&&p!==null?pl(h,p):xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ao(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return SS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=new Dt(_e.comparator);function Bi(){return BL}const zS=new Dt(_e.comparator);function Wu(...n){let e=zS;for(const t of n)e=e.insert(t.key,t);return e}function WS(n){let e=zS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Bo(){return Yu()}function HS(){return Yu()}function Yu(){return new ra(n=>n.toString(),(n,e)=>n.isEqual(e))}const zL=new Dt(_e.comparator),WL=new Vt(_e.comparator);function Ve(...n){let e=WL;for(const t of n)e=e.add(t);return e}const HL=new Vt(Ue);function qL(){return HL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function qS(n){return{integerValue:""+n}}function KL(n,e){return wL(e)?qS(e):cv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this._=void 0}}function GL(n,e,t){return n instanceof mc?function(i,o){const l={fields:{[AS]:{stringValue:RS},[kS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ov(o)&&(o=jf(o)),o&&(l.fields[PS]=o),{mapValue:l}}(t,e):n instanceof gc?GS(n,e):n instanceof yc?QS(n,e):function(i,o){const l=KS(i,o),c=eT(l)+eT(i.Ie);return zg(l)&&zg(i.Ie)?qS(c):cv(i.serializer,c)}(n,e)}function QL(n,e,t){return n instanceof gc?GS(n,e):n instanceof yc?QS(n,e):t}function KS(n,e){return n instanceof nf?function(r){return zg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class mc extends $f{}class gc extends $f{constructor(e){super(),this.elements=e}}function GS(n,e){const t=YS(e);for(const r of n.elements)t.some(i=>li(i,r))||t.push(r);return{arrayValue:{values:t}}}class yc extends $f{constructor(e){super(),this.elements=e}}function QS(n,e){let t=YS(e);for(const r of n.elements)t=t.filter(i=>!li(i,r));return{arrayValue:{values:t}}}class nf extends $f{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function eT(n){return Rt(n.integerValue||n.doubleValue)}function YS(n){return av(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,t){this.field=e,this.transform=t}}function XL(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof gc&&i instanceof gc||r instanceof yc&&i instanceof yc?fl(r.elements,i.elements,li):r instanceof nf&&i instanceof nf?li(r.Ie,i.Ie):r instanceof mc&&i instanceof mc}(n.transform,e.transform)}class JL{constructor(e,t){this.version=e,this.transformResults=t}}class cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Bf{}function XS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new dv(n.key,cr.none()):new Dc(n.key,n.data,cr.none());{const t=n.data,r=Nn.empty();let i=new Vt(Zt.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new lo(n.key,r,new Kn(i.toArray()),cr.none())}}function ZL(n,e,t){n instanceof Dc?function(i,o,l){const c=i.value.clone(),h=nT(i.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof lo?function(i,o,l){if(!Oh(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=nT(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(JS(i)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Xu(n,e,t,r){return n instanceof Dc?function(o,l,c,h){if(!Oh(o.precondition,l))return c;const p=o.value.clone(),g=rT(o.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof lo?function(o,l,c,h){if(!Oh(o.precondition,l))return c;const p=rT(o.fieldTransforms,h,l),g=l.data;return g.setAll(JS(o)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(o,l,c){return Oh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function eM(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=KS(r.transform,i||null);o!=null&&(t===null&&(t=Nn.empty()),t.set(r.field,o))}return t||null}function tT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fl(r,i,(o,l)=>XL(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Dc extends Bf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class lo extends Bf{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function JS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function nT(n,e,t){const r=new Map;Je(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,QL(l,c,t[i]))}return r}function rT(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,GL(o,l,e))}return r}class dv extends Bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tM extends Bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&ZL(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Xu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Xu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=HS();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const h=XS(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,(t,r)=>tT(t,r))&&fl(this.baseMutations,e.baseMutations,(t,r)=>tT(t,r))}}class hv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Je(e.mutations.length===r.length);let i=function(){return zL}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new hv(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,ze;function sM(n){switch(n){case ee.OK:return xe();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return xe()}}function ZS(n){if(n===void 0)return $i("GRPC error has no .code"),ee.UNKNOWN;switch(n){case bt.OK:return ee.OK;case bt.CANCELLED:return ee.CANCELLED;case bt.UNKNOWN:return ee.UNKNOWN;case bt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case bt.INTERNAL:return ee.INTERNAL;case bt.UNAVAILABLE:return ee.UNAVAILABLE;case bt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case bt.NOT_FOUND:return ee.NOT_FOUND;case bt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case bt.ABORTED:return ee.ABORTED;case bt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case bt.DATA_LOSS:return ee.DATA_LOSS;default:return xe()}}(ze=bt||(bt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=new Fs([4294967295,4294967295],0);function iT(n){const e=oM().encode(n),t=new gS;return t.update(e),new Uint8Array(t.digest())}function sT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fs([t,r],0),new Fs([i,o],0)]}class fv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Hu(`Invalid padding: ${t}`);if(r<0)throw new Hu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Hu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Fs.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Fs.fromNumber(r)));return i.compare(aM)===1&&(i=new Fs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=iT(e),[r,i]=sT(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new fv(o,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=iT(e),[r,i]=sT(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new zf(ke.min(),i,new Dt(Ue),Bi(),Ve())}}class Oc{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Oc(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class ex{constructor(e,t){this.targetId=e,this.ge=t}}class tx{constructor(e,t,r=en.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class oT{constructor(){this.pe=0,this.ye=aT(),this.we=en.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ve(),t=Ve(),r=Ve();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:xe()}}),new Oc(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=aT()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Je(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class lM{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Bi(),this.$e=mh(),this.Ke=mh(),this.Ue=new Dt(Ue)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const o=i.target;if(Hg(o))if(r===0){const l=new _e(o.path);this.ze(t,l,ln.newNoDocument(l,ke.min()))}else Je(r===1);else{const l=this.et(t);if(l!==r){const c=this.tt(e),h=c?this.nt(c,e,l):1;if(h!==0){this.Ye(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=Qs(r).toUint8Array()}catch(h){if(h instanceof xS)return hl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new fv(l,i,o)}catch(h){return hl(h instanceof Hu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,o,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((o,l)=>{const c=this.Xe(l);if(c){if(o.current&&Hg(c.target)){const h=new _e(c.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,ln.newNoDocument(h,e))}o.ve&&(t.set(l,o.Fe()),o.Me())}});let r=Ve();this.Ke.forEach((o,l)=>{let c=!0;l.forEachWhile(h=>{const p=this.Xe(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const i=new zf(e,t,this.Ue,this.Qe,r);return this.Qe=Bi(),this.$e=mh(),this.Ke=mh(),this.Ue=new Dt(Ue),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new oT,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Vt(Ue),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Vt(Ue),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new oT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function mh(){return new Dt(_e.comparator)}function aT(){return new Dt(_e.comparator)}const uM={asc:"ASCENDING",desc:"DESCENDING"},cM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dM={and:"AND",or:"OR"};class hM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gg(n,e){return n.useProto3Json||Mf(e)?e:{value:e}}function rf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function fM(n,e){return rf(n,e.toTimestamp())}function si(n){return Je(!!n),ke.fromTimestamp(function(t){const r=Gs(t);return new jt(r.seconds,r.nanos)}(n))}function pv(n,e){return Qg(n,e).canonicalString()}function Qg(n,e){const t=function(i){return new ht(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function rx(n){const e=ht.fromString(n);return Je(lx(e)),e}function Yg(n,e){return pv(n.databaseId,e.path)}function tg(n,e){const t=rx(e);if(t.get(1)!==n.databaseId.projectId)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(sx(t))}function ix(n,e){return pv(n.databaseId,e)}function pM(n){const e=rx(n);return e.length===4?ht.emptyPath():sx(e)}function Xg(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sx(n){return Je(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function lT(n,e,t){return{name:Yg(n,e),fields:t.value.mapValue.fields}}function mM(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,g){return p.useProto3Json?(Je(g===void 0||typeof g=="string"),en.fromBase64String(g||"")):(Je(g===void 0||g instanceof Buffer||g instanceof Uint8Array),en.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?ee.UNKNOWN:ZS(p.code);return new me(g,p.message||"")}(l);t=new tx(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=tg(n,r.document.name),o=si(r.document.updateTime),l=r.document.createTime?si(r.document.createTime):ke.min(),c=new Nn({mapValue:{fields:r.document.fields}}),h=ln.newFoundDocument(i,o,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];t=new Lh(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=tg(n,r.document),o=r.readTime?si(r.readTime):ke.min(),l=ln.newNoDocument(i,o),c=r.removedTargetIds||[];t=new Lh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=tg(n,r.document),o=r.removedTargetIds||[];t=new Lh([],o,i,null)}else{if(!("filter"in e))return xe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new iM(i,o),c=r.targetId;t=new ex(c,l)}}return t}function gM(n,e){let t;if(e instanceof Dc)t={update:lT(n,e.key,e.value)};else if(e instanceof dv)t={delete:Yg(n,e.key)};else if(e instanceof lo)t={update:lT(n,e.key,e.data),updateMask:SM(e.fieldMask)};else{if(!(e instanceof tM))return xe();t={verify:Yg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof mc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof gc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof yc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof nf)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw xe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:fM(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe()}(n,e.precondition)),t}function yM(n,e){return n&&n.length>0?(Je(e!==void 0),n.map(t=>function(i,o){let l=i.updateTime?si(i.updateTime):si(o);return l.isEqual(ke.min())&&(l=si(o)),new JL(l,i.transformResults||[])}(t,e))):[]}function vM(n,e){return{documents:[ix(n,e.path)]}}function _M(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ix(n,i);const o=function(p){if(p.length!==0)return ax(jr.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:Za(E.field),direction:TM(E.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Gg(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:i}}function wM(n){let e=pM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Je(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(w){const E=ox(w);return E instanceof jr&&MS(E)?E.getFilters():[E]}(t.where));let l=[];t.orderBy&&(l=function(w){return w.map(E=>function(R){return new tf(el(R.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(E))}(t.orderBy));let c=null;t.limit&&(c=function(w){let E;return E=typeof w=="object"?w.value:w,Mf(E)?null:E}(t.limit));let h=null;t.startAt&&(h=function(w){const E=!!w.before,S=w.values||[];return new ef(S,E)}(t.startAt));let p=null;return t.endAt&&(p=function(w){const E=!w.before,S=w.values||[];return new ef(S,E)}(t.endAt)),VL(e,i,l,o,c,"F",h,p)}function EM(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ox(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=el(t.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=el(t.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=el(t.unaryFilter.field);return Nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=el(t.unaryFilter.field);return Nt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(n):n.fieldFilter!==void 0?function(t){return Nt.create(el(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return jr.create(t.compositeFilter.filters.map(r=>ox(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe()}}(t.compositeFilter.op))}(n):xe()}function TM(n){return uM[n]}function IM(n){return cM[n]}function CM(n){return dM[n]}function Za(n){return{fieldPath:n.canonicalString()}}function el(n){return Zt.fromServerFormat(n.fieldPath)}function ax(n){return n instanceof Nt?function(t){if(t.op==="=="){if(QE(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NAN"}};if(GE(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(QE(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NOT_NAN"}};if(GE(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(t.field),op:IM(t.op),value:t.value}}}(n):n instanceof jr?function(t){const r=t.getFilters().map(i=>ax(i));return r.length===1?r[0]:{compositeFilter:{op:CM(t.op),filters:r}}}(n):xe()}function SM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t,r,i,o=ke.min(),l=ke.min(),c=en.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.Tt=e}}function RM(n){const e=wM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Kg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.Tn=new PM}addToCollectionParentIndex(e,t){return this.Tn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Ks.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class PM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Vt(ht.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ux=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(ux,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new gl(0)}static Un(){return new gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="LruGarbageCollector",kM=1048576;function dT([n,e],[t,r]){const i=Ue(n,t);return i===0?Ue(e,r):i}class bM{constructor(e){this.Hn=e,this.buffer=new Vt(dT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();dT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class NM{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(cT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ol(t)?he(cT,"Ignoring IndexedDB error during garbage collection: ",t):await Dl(t)}await this.er(3e5)})}}class DM{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Lf.ae);const r=new bM(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(uT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,l,c,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,l=Date.now(),this.nthSequenceNumber(e,i))).next(w=>(r=w,c=Date.now(),this.removeTargets(e,r,t))).next(w=>(o=w,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(p=Date.now(),Xa()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${w} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:w})))}}function OM(n,e){return new DM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.changes=new ra(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Xu(r.mutation,i,Kn.empty(),jt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ve()){const i=Bo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=Wu();return o.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Bo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ve()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let o=Bi();const l=Yu(),c=function(){return Yu()}();return t.forEach((h,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof lo)?o=o.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Xu(g.mutation,p,g.mutation.getFieldMask(),jt.now())):l.set(p.key,Kn.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((p,g)=>l.set(p,g)),t.forEach((p,g)=>{var w;return c.set(p,new MM(g,(w=l.get(p))!==null&&w!==void 0?w:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Yu();let i=new Dt((l,c)=>l-c),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let g=r.get(h)||Kn.empty();g=c.applyToLocalView(p,g),r.set(h,g);const w=(i.get(c.batchId)||Ve()).add(h);i=i.insert(c.batchId,w)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,g=h.value,w=HS();g.forEach(E=>{if(!o.has(E)){const S=XS(t.get(E),r.get(E));S!==null&&w.set(E,S),o=o.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,w))}return Z.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):US(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):Z.resolve(Bo());let c=dc,h=o;return l.next(p=>Z.forEach(p,(g,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),o.get(g)?Z.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{h=h.insert(g,E)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,h,p,Ve())).next(g=>({batchId:c,changes:WS(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=Wu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=Wu();return this.indexManager.getCollectionParents(e,o).next(c=>Z.forEach(c,h=>{const p=function(w,E){return new Nc(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((w,E)=>{l=l.insert(w,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,ln.newInvalidDocument(g)))});let c=Wu();return l.forEach((h,p)=>{const g=o.get(h);g!==void 0&&Xu(g.mutation,p,Kn.empty(),jt.now()),Uf(t,p)&&(c=c.insert(h,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Z.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:si(i.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:RM(i.bundledQuery),readTime:si(i.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.overlays=new Dt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Bo();return Z.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),Z.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const i=Bo(),o=t.length+1,l=new _e(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Dt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=o.get(p.largestBatchId);g===null&&(g=Bo(),o=o.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=Bo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=i)););return Z.resolve(c)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new rM(t,r));let o=this.Rr.get(t);o===void 0&&(o=Ve(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.Vr=new Vt(Wt.mr),this.gr=new Vt(Wt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Wt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Wt(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new _e(new ht([])),r=new Wt(t,e),i=new Wt(t,e+1),o=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new ht([])),r=new Wt(t,e),i=new Wt(t,e+1);let o=Ve();return this.gr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Wt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||Ue(e.Cr,t.Cr)}static pr(e,t){return Ue(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Vt(Wt.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new nM(o,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new Wt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Z.resolve(l)}lookupMutationBatch(e,t){return Z.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),o=i<0?0:i;return Z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?sv:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Wt(t,0),i=new Wt(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],l=>{const c=this.Or(l.Cr);o.push(c)}),Z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vt(Ue);return t.forEach(i=>{const o=new Wt(i,0),l=new Wt(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],c=>{r=r.add(c.Cr)})}),Z.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const l=new Wt(new _e(o),0);let c=new Vt(Ue);return this.Mr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(h.Cr)),!0)},l),Z.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Je(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Z.forEach(t.mutations,i=>{const o=new Wt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Wt(t,0),i=this.Mr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.kr=e,this.docs=function(){return new Dt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let r=Bi();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ln.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Bi();const l=t.path,c=new _e(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||gL(mL(g),r)<=0||(i.has(g.key)||Uf(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Z.resolve(o)}getAllFromCollectionGroup(e,t,r,i){xe()}qr(e,t){return Z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new zM(this)}getSize(e){return Z.resolve(this.size)}}class zM extends LM{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),Z.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.persistence=e,this.Qr=new ra(t=>lv(t),uv),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.$r=0,this.Kr=new mv,this.targetCount=0,this.Ur=gl.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),Z.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new gl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.zn(t),Z.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),Z.waitFor(o).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),Z.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Lf(0),this.zr=!1,this.zr=!0,this.jr=new UM,this.referenceDelegate=e(this),this.Hr=new WM(this),this.indexManager=new AM,this.remoteDocumentCache=function(i){return new BM(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new xM(t),this.Yr=new VM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new FM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new $M(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const i=new HM(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return Z.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class HM extends vL{constructor(e){super(),this.currentSequenceNumber=e}}class gv{constructor(e){this.persistence=e,this.ti=new mv,this.ni=null}static ri(e){return new gv(e)}get ii(){if(this.ni)return this.ni;throw xe()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Z.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,ke.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Z.or([()=>Z.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class sf{constructor(e,t){this.persistence=e,this.oi=new ra(r=>EL(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=OM(this,t)}static ri(e,t){return new sf(e,t)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return Z.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?Z.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(c=>{c||(r++,o.removeEntry(l,ke.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Nh(e.data.value)),t}ar(e,t,r){return Z.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return Z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Ve(),i=Ve();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new yv(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return _b()?8:_L(pn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new qM;return this._s(e,t,l).next(c=>{if(o.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Xa()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ja(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(Xa()<=Me.DEBUG&&he("QueryEngine","Query:",Ja(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Xa()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ja(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(t))):Z.resolve())}rs(e,t){if(ZE(t))return Z.resolve(null);let r=ii(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Kg(t,null,"F"),r=ii(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Ve(...o);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.cs(t,c);return this.ls(t,p,l,h.readTime)?this.rs(e,Kg(t,null,"F")):this.hs(e,p,t,h)}))})))}ss(e,t,r,i){return ZE(t)||i.isEqual(ke.min())?Z.resolve(null):this.ns.getDocuments(e,r).next(o=>{const l=this.cs(t,o);return this.ls(t,l,r,i)?Z.resolve(null):(Xa()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ja(t)),this.hs(e,l,t,pL(i,dc)).next(c=>c))})}cs(e,t){let r=new Vt(BS(e));return t.forEach((i,o)=>{Uf(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return Xa()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ja(t)),this.ns.getDocumentsMatchingQuery(e,t,Ks.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="LocalStore",GM=3e8;class QM{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new Dt(Ue),this.Is=new ra(o=>lv(o),uv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jM(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function YM(n,e,t,r){return new QM(n,e,t,r)}async function dx(n,e){const t=be(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let h=Ve();for(const p of i){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of o){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function XM(n,e){const t=be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,h,p,g){const w=p.batch,E=w.keys();let S=Z.resolve();return E.forEach(R=>{S=S.next(()=>g.getEntry(h,R)).next(k=>{const x=p.docVersions.get(R);Je(x!==null),k.version.compareTo(x)<0&&(w.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),g.addEntry(k)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(h,w))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Ve();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function hx(n){const e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function JM(n,e){const t=be(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const c=[];e.targetChanges.forEach((g,w)=>{const E=i.get(w);if(!E)return;c.push(t.Hr.removeMatchingKeys(o,g.removedDocuments,w).next(()=>t.Hr.addMatchingKeys(o,g.addedDocuments,w)));let S=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(w)!==null?S=S.withResumeToken(en.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),i=i.insert(w,S),function(k,x,L){return k.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=GM?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(E,S,g)&&c.push(t.Hr.updateTargetData(o,S))});let h=Bi(),p=Ve();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),c.push(ZM(o,l,e.documentUpdates).next(g=>{h=g.Vs,p=g.fs})),!r.isEqual(ke.min())){const g=t.Hr.getLastRemoteSnapshotVersion(o).next(w=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(g)}return Z.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,p)).next(()=>h)}).then(o=>(t.Ts=i,o))}function ZM(n,e,t){let r=Ve(),i=Ve();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Bi();return t.forEach((c,h)=>{const p=o.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(ke.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):he(vv,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{Vs:l,fs:i}})}function e4(n,e){const t=be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=sv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function t4(n,e){const t=be(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,Z.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new Ls(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Jg(n,e,t){const r=be(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Ol(l))throw l;he(vv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function hT(n,e,t){const r=be(n);let i=ke.min(),o=Ve();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,g){const w=be(h),E=w.Is.get(g);return E!==void 0?Z.resolve(w.Ts.get(E)):w.Hr.getTargetData(p,g)}(r,l,ii(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{o=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:ke.min(),t?o:Ve())).next(c=>(n4(r,UL(e),c),{documents:c,gs:o})))}function n4(n,e,t){let r=n.Es.get(e)||ke.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}class fT{constructor(){this.activeTargetIds=qL()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class r4{constructor(){this.ho=new fT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new fT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="ConnectivityMonitor";class mT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(pT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(pT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh=null;function Zg(){return gh===null?gh=function(){return 268435456+Math.round(2147483648*Math.random())}():gh++,"0x"+gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="RestConnection",s4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class o4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Jh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,o){const l=Zg(),c=this.So(e,t.toUriEncodedString());he(ng,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,i,o),this.vo(e,c,h,r).then(p=>(he(ng,`Received RPC '${e}' ${l}: `,p),p),p=>{throw hl(ng,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Co(e,t,r,i,o,l){return this.bo(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}So(e,t){const r=s4[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class l4 extends o4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const o=Zg();return new Promise((l,c)=>{const h=new yS;h.setWithCredentials(!0),h.listenOnce(vS.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case bh.NO_ERROR:const g=h.getResponseJson();he(on,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case bh.TIMEOUT:he(on,`RPC '${e}' ${o} timed out`),c(new me(ee.DEADLINE_EXCEEDED,"Request time out"));break;case bh.HTTP_ERROR:const w=h.getStatus();if(he(on,`RPC '${e}' ${o} failed with status:`,w,"response text:",h.getResponseText()),w>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const R=function(x){const L=x.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(L)>=0?L:ee.UNKNOWN}(S.status);c(new me(R,S.message))}else c(new me(ee.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new me(ee.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{he(on,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);he(on,`RPC '${e}' ${o} sending request:`,i),h.send(t,"POST",p,r,15)})}Wo(e,t,r){const i=Zg(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=ES(),c=wS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=o.join("");he(on,`Creating RPC '${e}' stream ${i}: ${g}`,h);const w=l.createWebChannel(g,h);let E=!1,S=!1;const R=new a4({Fo:x=>{S?he(on,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(E||(he(on,`Opening RPC '${e}' stream ${i} transport.`),w.open(),E=!0),he(on,`RPC '${e}' stream ${i} sending:`,x),w.send(x))},Mo:()=>w.close()}),k=(x,L,U)=>{x.listen(L,B=>{try{U(B)}catch(q){setTimeout(()=>{throw q},0)}})};return k(w,zu.EventType.OPEN,()=>{S||(he(on,`RPC '${e}' stream ${i} transport opened.`),R.Qo())}),k(w,zu.EventType.CLOSE,()=>{S||(S=!0,he(on,`RPC '${e}' stream ${i} transport closed`),R.Ko())}),k(w,zu.EventType.ERROR,x=>{S||(S=!0,hl(on,`RPC '${e}' stream ${i} transport errored:`,x),R.Ko(new me(ee.UNAVAILABLE,"The operation could not be completed")))}),k(w,zu.EventType.MESSAGE,x=>{var L;if(!S){const U=x.data[0];Je(!!U);const B=U,q=(B==null?void 0:B.error)||((L=B[0])===null||L===void 0?void 0:L.error);if(q){he(on,`RPC '${e}' stream ${i} received error:`,q);const X=q.status;let J=function(b){const M=bt[b];if(M!==void 0)return ZS(M)}(X),N=q.message;J===void 0&&(J=ee.INTERNAL,N="Unknown error status: "+X+" with message "+q.message),S=!0,R.Ko(new me(J,N)),w.close()}else he(on,`RPC '${e}' stream ${i} received:`,U),R.Uo(U)}}),k(c,_S.STAT_EVENT,x=>{x.stat===Ug.PROXY?he(on,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Ug.NOPROXY&&he(on,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.$o()},0),R}}function rg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(n){return new hM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="PersistentStream";class px{constructor(e,t,r,i,o,l,c,h){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new fx(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?($i(t.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new me(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(gT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(gT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u4 extends px{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=mM(this.serializer,e),r=function(o){if(!("targetChange"in o))return ke.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?si(l.readTime):ke.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Xg(this.serializer),t.addTarget=function(o,l){let c;const h=l.target;if(c=Hg(h)?{documents:vM(o,h)}:{query:_M(o,h).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=nx(o,l.resumeToken);const p=Gg(o,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(ke.min())>0){c.readTime=rf(o,l.snapshotVersion.toTimestamp());const p=Gg(o,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=EM(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Xg(this.serializer),t.removeTarget=e,this.I_(t)}}class c4 extends px{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=yM(e.writeResults,e.commitTime),r=si(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Xg(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>gM(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{}class h4 extends d4{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.bo(e,Qg(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(ee.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,Qg(t,r),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ee.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class f4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?($i(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="RemoteStore";class p4{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{r.enqueueAndForget(async()=>{ia(this)&&(he(Qo,"Restarting streams for network reachability change."),await async function(h){const p=be(h);p.W_.add(4),await Lc(p),p.j_.set("Unknown"),p.W_.delete(4),await Hf(p)}(this))})}),this.j_=new f4(r,i)}}async function Hf(n){if(ia(n))for(const e of n.G_)await e(!0)}async function Lc(n){for(const e of n.G_)await e(!1)}function mx(n,e){const t=be(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Tv(t)?Ev(t):Ll(t).c_()&&wv(t,e))}function _v(n,e){const t=be(n),r=Ll(t);t.U_.delete(e),r.c_()&&gx(t,e),t.U_.size===0&&(r.c_()?r.P_():ia(t)&&t.j_.set("Unknown"))}function wv(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ll(n).y_(e)}function gx(n,e){n.H_.Ne(e),Ll(n).w_(e)}function Ev(n){n.H_=new lM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Ll(n).start(),n.j_.B_()}function Tv(n){return ia(n)&&!Ll(n).u_()&&n.U_.size>0}function ia(n){return be(n).W_.size===0}function yx(n){n.H_=void 0}async function m4(n){n.j_.set("Online")}async function g4(n){n.U_.forEach((e,t)=>{wv(n,e)})}async function y4(n,e){yx(n),Tv(n)?(n.j_.q_(e),Ev(n)):n.j_.set("Unknown")}async function v4(n,e,t){if(n.j_.set("Online"),e instanceof tx&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.U_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.U_.delete(c),i.H_.removeTarget(c))}(n,e)}catch(r){he(Qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await of(n,r)}else if(e instanceof Lh?n.H_.We(e):e instanceof ex?n.H_.Ze(e):n.H_.je(e),!t.isEqual(ke.min()))try{const r=await hx(n.localStore);t.compareTo(r)>=0&&await function(o,l){const c=o.H_.ot(l);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.U_.get(p);g&&o.U_.set(p,g.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,p)=>{const g=o.U_.get(h);if(!g)return;o.U_.set(h,g.withResumeToken(en.EMPTY_BYTE_STRING,g.snapshotVersion)),gx(o,h);const w=new Ls(g.target,h,p,g.sequenceNumber);wv(o,w)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){he(Qo,"Failed to raise snapshot:",r),await of(n,r)}}async function of(n,e,t){if(!Ol(e))throw e;n.W_.add(1),await Lc(n),n.j_.set("Offline"),t||(t=()=>hx(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he(Qo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Hf(n)})}function vx(n,e){return e().catch(t=>of(n,t,e))}async function qf(n){const e=be(n),t=Xs(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:sv;for(;_4(e);)try{const i=await e4(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,w4(e,i)}catch(i){await of(e,i)}_x(e)&&wx(e)}function _4(n){return ia(n)&&n.K_.length<10}function w4(n,e){n.K_.push(e);const t=Xs(n);t.c_()&&t.b_&&t.S_(e.mutations)}function _x(n){return ia(n)&&!Xs(n).u_()&&n.K_.length>0}function wx(n){Xs(n).start()}async function E4(n){Xs(n).C_()}async function T4(n){const e=Xs(n);for(const t of n.K_)e.S_(t.mutations)}async function I4(n,e,t){const r=n.K_.shift(),i=hv.from(r,e,t);await vx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await qf(n)}async function C4(n,e){e&&Xs(n).b_&&await async function(r,i){if(function(l){return sM(l)&&l!==ee.ABORTED}(i.code)){const o=r.K_.shift();Xs(r).h_(),await vx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await qf(r)}}(n,e),_x(n)&&wx(n)}async function yT(n,e){const t=be(n);t.asyncQueue.verifyOperationInProgress(),he(Qo,"RemoteStore received new credentials");const r=ia(t);t.W_.add(3),await Lc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Hf(t)}async function S4(n,e){const t=be(n);e?(t.W_.delete(2),await Hf(t)):e||(t.W_.add(2),await Lc(t),t.j_.set("Unknown"))}function Ll(n){return n.J_||(n.J_=function(t,r,i){const o=be(t);return o.M_(),new u4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:m4.bind(null,n),No:g4.bind(null,n),Lo:y4.bind(null,n),p_:v4.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Tv(n)?Ev(n):n.j_.set("Unknown")):(await n.J_.stop(),yx(n))})),n.J_}function Xs(n){return n.Y_||(n.Y_=function(t,r,i){const o=be(t);return o.M_(),new c4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:E4.bind(null,n),Lo:C4.bind(null,n),D_:T4.bind(null,n),v_:I4.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await qf(n)):(await n.Y_.stop(),n.K_.length>0&&(he(Qo,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,c=new Iv(e,t,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cv(n,e){if($i("AsyncQueue",`${e}: ${n}`),Ol(n))return new me(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{static emptySet(e){return new ol(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Wu(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ol)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ol;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.Z_=new Dt(_e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):xe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class yl{constructor(e,t,r,i,o,l,c,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new yl(e,t,ol.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class R4{constructor(){this.queries=_T(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=be(t),o=i.queries;i.queries=_T(),o.forEach((l,c)=>{for(const h of c.ta)h.onError(r)})})(this,new me(ee.ABORTED,"Firestore shutting down"))}}function _T(){return new ra(n=>$S(n),Ff)}async function Sv(n,e){const t=be(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new x4,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(i,!0);break;case 1:o.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=Cv(l,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&Rv(t)}async function xv(n,e){const t=be(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function A4(n,e){const t=be(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.ta)c.oa(i)&&(r=!0);l.ea=i}}r&&Rv(t)}function P4(n,e,t){const r=be(n),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(t);r.queries.delete(e)}function Rv(n){n.ia.forEach(e=>{e.next()})}var ey,wT;(wT=ey||(ey={}))._a="default",wT.Cache="cache";class Av{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ey.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.key=e}}class Tx{constructor(e){this.key=e}}class k4{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=BS(e),this.wa=new ol(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new vT,i=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,w)=>{const E=i.get(g),S=Uf(this.query,w)?w:null,R=!!E&&this.mutatedKeys.has(E.key),k=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let x=!1;E&&S?E.data.isEqual(S.data)?R!==k&&(r.track({type:3,doc:S}),x=!0):this.va(E,S)||(r.track({type:2,doc:S}),x=!0,(h&&this.ya(S,h)>0||p&&this.ya(S,p)<0)&&(c=!0)):!E&&S?(r.track({type:0,doc:S}),x=!0):E&&!S&&(r.track({type:1,doc:E}),x=!0,(h||p)&&(c=!0)),x&&(S?(l=l.add(S),o=k?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:c,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,w)=>function(S,R){const k=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return k(S)-k(R)}(g.type,w.type)||this.ya(g.doc,w.doc)),this.Ca(r),i=i!=null&&i;const c=t&&!i?this.Fa():[],h=this.pa.size===0&&this.current&&!i?1:0,p=h!==this.ga;return this.ga=h,l.length!==0||p?{snapshot:new yl(this.query,e.wa,o,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new vT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Tx(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Ex(r))}),t}Oa(e){this.fa=e.gs,this.pa=Ve();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return yl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Pv="SyncEngine";class b4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class N4{constructor(e){this.key=e,this.Ba=!1}}class D4{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new ra(c=>$S(c),Ff),this.qa=new Map,this.Qa=new Set,this.$a=new Dt(_e.comparator),this.Ka=new Map,this.Ua=new mv,this.Wa={},this.Ga=new Map,this.za=gl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function O4(n,e,t=!0){const r=Ax(n);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await Ix(r,e,t,!0),i}async function L4(n,e){const t=Ax(n);await Ix(t,e,!0,!1)}async function Ix(n,e,t,r){const i=await t4(n.localStore,ii(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await M4(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&mx(n.remoteStore,i),c}async function M4(n,e,t,r,i){n.Ha=(w,E,S)=>async function(k,x,L,U){let B=x.view.Sa(L);B.ls&&(B=await hT(k.localStore,x.query,!1).then(({documents:N})=>x.view.Sa(N,B)));const q=U&&U.targetChanges.get(x.targetId),X=U&&U.targetMismatches.get(x.targetId)!=null,J=x.view.applyChanges(B,k.isPrimaryClient,q,X);return TT(k,x.targetId,J.Ma),J.snapshot}(n,w,E,S);const o=await hT(n.localStore,e,!0),l=new k4(e,o.gs),c=l.Sa(o.documents),h=Oc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(c,n.isPrimaryClient,h);TT(n,t,p.Ma);const g=new b4(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function j4(n,e,t){const r=be(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(l=>!Ff(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Jg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&_v(r.remoteStore,i.targetId),ty(r,i.targetId)}).catch(Dl)):(ty(r,i.targetId),await Jg(r.localStore,i.targetId,!0))}async function V4(n,e){const t=be(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),_v(t.remoteStore,r.targetId))}async function F4(n,e,t){const r=q4(n);try{const i=await function(l,c){const h=be(l),p=jt.now(),g=c.reduce((S,R)=>S.add(R.key),Ve());let w,E;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let R=Bi(),k=Ve();return h.ds.getEntries(S,g).next(x=>{R=x,R.forEach((L,U)=>{U.isValidDocument()||(k=k.add(L))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,R)).next(x=>{w=x;const L=[];for(const U of c){const B=eM(U,w.get(U.key).overlayedDocument);B!=null&&L.push(new lo(U.key,B,DS(B.value.mapValue),cr.exists(!0)))}return h.mutationQueue.addMutationBatch(S,p,L,c)}).next(x=>{E=x;const L=x.applyToLocalDocumentSet(w,k);return h.documentOverlayCache.saveOverlays(S,x.batchId,L)})}).then(()=>({batchId:E.batchId,changes:WS(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,h){let p=l.Wa[l.currentUser.toKey()];p||(p=new Dt(Ue)),p=p.insert(c,h),l.Wa[l.currentUser.toKey()]=p}(r,i.batchId,t),await Mc(r,i.changes),await qf(r.remoteStore)}catch(i){const o=Cv(i,"Failed to persist write");t.reject(o)}}async function Cx(n,e){const t=be(n);try{const r=await JM(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Ka.get(o);l&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Je(l.Ba):i.removedDocuments.size>0&&(Je(l.Ba),l.Ba=!1))}),await Mc(t,r,e)}catch(r){await Dl(r)}}function ET(n,e,t){const r=be(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((o,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const h=be(l);h.onlineState=c;let p=!1;h.queries.forEach((g,w)=>{for(const E of w.ta)E.sa(c)&&(p=!0)}),p&&Rv(h)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function U4(n,e,t){const r=be(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),o=i&&i.key;if(o){let l=new Dt(_e.comparator);l=l.insert(o,ln.newNoDocument(o,ke.min()));const c=Ve().add(o),h=new zf(ke.min(),new Map,new Dt(Ue),l,c);await Cx(r,h),r.$a=r.$a.remove(o),r.Ka.delete(e),kv(r)}else await Jg(r.localStore,e,!1).then(()=>ty(r,e,t)).catch(Dl)}async function $4(n,e){const t=be(n),r=e.batch.batchId;try{const i=await XM(t.localStore,e);xx(t,r,null),Sx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Mc(t,i)}catch(i){await Dl(i)}}async function B4(n,e,t){const r=be(n);try{const i=await function(l,c){const h=be(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,c).next(w=>(Je(w!==null),g=w.keys(),h.mutationQueue.removeMutationBatch(p,w))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,e);xx(r,e,t),Sx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Mc(r,i)}catch(i){await Dl(i)}}function Sx(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function xx(n,e,t){const r=be(n);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function ty(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||Rx(n,r)})}function Rx(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(_v(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),kv(n))}function TT(n,e,t){for(const r of t)r instanceof Ex?(n.Ua.addReference(r.key,e),z4(n,r)):r instanceof Tx?(he(Pv,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||Rx(n,r.key)):xe()}function z4(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(he(Pv,"New document in limbo: "+t),n.Qa.add(r),kv(n))}function kv(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(ht.fromString(e)),r=n.za.next();n.Ka.set(r,new N4(t)),n.$a=n.$a.insert(t,r),mx(n.remoteStore,new Ls(ii(Vf(t.path)),r,"TargetPurposeLimboResolution",Lf.ae))}}async function Mc(n,e,t){const r=be(n),i=[],o=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,h)=>{l.push(r.Ha(h,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const w=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,w?"current":"not-current")}if(p){i.push(p);const w=yv.Yi(h.targetId,p);o.push(w)}}))}),await Promise.all(l),r.La.p_(i),await async function(h,p){const g=be(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Z.forEach(p,E=>Z.forEach(E.Hi,S=>g.persistence.referenceDelegate.addReference(w,E.targetId,S)).next(()=>Z.forEach(E.Ji,S=>g.persistence.referenceDelegate.removeReference(w,E.targetId,S)))))}catch(w){if(!Ol(w))throw w;he(vv,"Failed to update sequence numbers: "+w)}for(const w of p){const E=w.targetId;if(!w.fromCache){const S=g.Ts.get(E),R=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(R);g.Ts=g.Ts.insert(E,k)}}}(r.localStore,o))}async function W4(n,e){const t=be(n);if(!t.currentUser.isEqual(e)){he(Pv,"User change. New user:",e.toKey());const r=await dx(t.localStore,e);t.currentUser=e,function(o,l){o.Ga.forEach(c=>{c.forEach(h=>{h.reject(new me(ee.CANCELLED,l))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mc(t,r.Rs)}}function H4(n,e){const t=be(n),r=t.Ka.get(e);if(r&&r.Ba)return Ve().add(r.key);{let i=Ve();const o=t.qa.get(e);if(!o)return i;for(const l of o){const c=t.ka.get(l);i=i.unionWith(c.view.ba)}return i}}function Ax(n){const e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U4.bind(null,e),e.La.p_=A4.bind(null,e.eventManager),e.La.Ja=P4.bind(null,e.eventManager),e}function q4(n){const e=be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B4.bind(null,e),e}class af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return YM(this.persistence,new KM,e.initialUser,this.serializer)}Xa(e){return new cx(gv.ri,this.serializer)}Za(e){return new r4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}af.provider={build:()=>new af};class K4 extends af{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Je(this.persistence.referenceDelegate instanceof sf);const r=this.persistence.referenceDelegate.garbageCollector;return new NM(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new cx(r=>sf.ri(r,t),this.serializer)}}class ny{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ET(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=W4.bind(null,this.syncEngine),await S4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new R4}()}createDatastore(e){const t=Wf(e.databaseInfo.databaseId),r=function(o){return new l4(o)}(e.databaseInfo);return function(o,l,c,h){return new h4(o,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,c){return new p4(r,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>ET(this.syncEngine,t,0),function(){return mT.D()?new mT:new i4}())}createSyncEngine(e,t){return function(i,o,l,c,h,p,g){const w=new D4(i,o,l,c,h,p);return g&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=be(i);he(Qo,"RemoteStore shutting down."),o.W_.add(5),await Lc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ny.provider={build:()=>new ny};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="FirestoreClient";class G4{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=IS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{he(Js,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(he(Js,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Cv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ig(n,e){n.asyncQueue.verifyOperationInProgress(),he(Js,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function IT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Q4(n);he(Js,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>yT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>yT(e.remoteStore,i)),n._onlineComponents=e}async function Q4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Js,"Using user provided OfflineComponentProvider");try{await ig(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;hl("Error using user provided cache. Falling back to memory cache: "+t),await ig(n,new af)}}else he(Js,"Using default OfflineComponentProvider"),await ig(n,new K4(void 0));return n._offlineComponents}async function Px(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Js,"Using user provided OnlineComponentProvider"),await IT(n,n._uninitializedComponentsProvider._online)):(he(Js,"Using default OnlineComponentProvider"),await IT(n,new ny))),n._onlineComponents}function Y4(n){return Px(n).then(e=>e.syncEngine)}async function lf(n){const e=await Px(n),t=e.eventManager;return t.onListen=O4.bind(null,e.syncEngine),t.onUnlisten=j4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=L4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=V4.bind(null,e.syncEngine),t}function X4(n,e,t={}){const r=new Li;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,p){const g=new bv({next:E=>{g.su(),l.enqueueAndForget(()=>xv(o,w));const S=E.docs.has(c);!S&&E.fromCache?p.reject(new me(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&h&&h.source==="server"?p.reject(new me(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new Av(Vf(c.path),g,{includeMetadataChanges:!0,Ta:!0});return Sv(o,w)}(await lf(n),n.asyncQueue,e,t,r)),r.promise}function J4(n,e,t={}){const r=new Li;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,p){const g=new bv({next:E=>{g.su(),l.enqueueAndForget(()=>xv(o,w)),E.fromCache&&h.source==="server"?p.reject(new me(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new Av(c,g,{includeMetadataChanges:!0,Ta:!0});return Sv(o,w)}(await lf(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(n,e,t){if(!t)throw new me(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Z4(n,e,t,r){if(e===!0&&r===!0)throw new me(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ST(n){if(!_e.isDocumentKey(n))throw new me(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xT(n){if(_e.isDocumentKey(n))throw new me(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Kf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":xe()}function On(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kf(n);throw new me(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="firestore.googleapis.com",RT=!0;class AT{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nx,this.ssl=RT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:RT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ux;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kM)throw new me(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oL;switch(r.type){case"firstParty":return new cL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=CT.get(t);r&&(he("ComponentProvider","Removing Datastore"),CT.delete(t),r.terminate())}(this),Promise.resolve()}}function ej(n,e,t,r={}){var i;const o=(n=On(n,Gf))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o.host!==Nx&&o.host!==c&&hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:c,ssl:!1,emulatorOptions:r});if(!Ws(h,l)&&(n._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=an.MOCK_USER;else{p=Wy(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new me(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new an(w)}n._authCredentials=new aL(new TS(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sa(this.firestore,e,this._query)}}class fn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class $s extends sa{constructor(e,t,r){super(e,t,Vf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new _e(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function Zs(n,e,...t){if(n=ot(n),bx("collection","path",e),n instanceof Gf){const r=ht.fromString(e,...t);return xT(r),new $s(n,null,r)}{if(!(n instanceof fn||n instanceof $s))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ht.fromString(e,...t));return xT(r),new $s(n.firestore,null,r)}}function Yo(n,e,...t){if(n=ot(n),arguments.length===1&&(e=IS.newId()),bx("doc","path",e),n instanceof Gf){const r=ht.fromString(e,...t);return ST(r),new fn(n,null,new _e(r))}{if(!(n instanceof fn||n instanceof $s))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ht.fromString(e,...t));return ST(r),new fn(n.firestore,n instanceof $s?n.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="AsyncQueue";class kT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new fx(this,"async_queue_retry"),this.bu=()=>{const r=rg();r&&he(PT,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=rg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=rg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Li;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ol(e))throw e;he(PT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw $i("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=Iv.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function bT(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class zi extends Gf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new kT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kT(e),this._firestoreClient=void 0,await e}}}function eo(n,e){const t=typeof n=="object"?n:kf(),r=typeof n=="string"?n:Jh,i=Rc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=By("firestore");o&&ej(i,...o)}return i}function Qf(n){if(n._terminated)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||tj(n),n._firestoreClient}function tj(n){var e,t,r;const i=n._freezeSettings(),o=function(c,h,p,g){return new CL(c,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,kx(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new G4(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vl(en.fromBase64String(e))}catch(t){throw new me(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vl(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=/^__.*__$/;class rj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new lo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dc(e,this.data,t,this.fieldTransforms)}}class Dx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new lo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ox(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class Ov{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ov(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return uf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Ox(this.Lu)&&nj.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class ij{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Wf(e)}ju(e,t,r,i=!1){return new Ov({Lu:e,methodName:t,zu:r,path:Zt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jf(n){const e=n._freezeSettings(),t=Wf(n._databaseId);return new ij(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Lx(n,e,t,r,i,o={}){const l=n.ju(o.merge||o.mergeFields?2:0,e,t,i);Mv("Data must be an object, but it was:",l,r);const c=Mx(r,l);let h,p;if(o.merge)h=new Kn(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const w of o.mergeFields){const E=ry(e,w,t);if(!l.contains(E))throw new me(ee.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Vx(g,E)||g.push(E)}h=new Kn(g),p=l.fieldTransforms.filter(w=>h.covers(w.field))}else h=null,p=l.fieldTransforms;return new rj(new Nn(c),h,p)}class Zf extends Xf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zf}}class Lv extends Xf{_toFieldTransform(e){return new YL(e.path,new mc)}isEqual(e){return e instanceof Lv}}function sj(n,e,t,r){const i=n.ju(1,e,t);Mv("Data must be an object, but it was:",i,r);const o=[],l=Nn.empty();ao(r,(h,p)=>{const g=jv(e,h,t);p=ot(p);const w=i.Ku(g);if(p instanceof Zf)o.push(g);else{const E=jc(p,w);E!=null&&(o.push(g),l.set(g,E))}});const c=new Kn(o);return new Dx(l,c,i.fieldTransforms)}function oj(n,e,t,r,i,o){const l=n.ju(1,e,t),c=[ry(e,r,t)],h=[i];if(o.length%2!=0)throw new me(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)c.push(ry(e,o[E])),h.push(o[E+1]);const p=[],g=Nn.empty();for(let E=c.length-1;E>=0;--E)if(!Vx(p,c[E])){const S=c[E];let R=h[E];R=ot(R);const k=l.Ku(S);if(R instanceof Zf)p.push(S);else{const x=jc(R,k);x!=null&&(p.push(S),g.set(S,x))}}const w=new Kn(p);return new Dx(g,w,l.fieldTransforms)}function aj(n,e,t,r=!1){return jc(t,n.ju(r?4:3,e))}function jc(n,e){if(jx(n=ot(n)))return Mv("Unsupported field value:",e,n),Mx(n,e);if(n instanceof Xf)return function(r,i){if(!Ox(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const c of r){let h=jc(c,i.Uu(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=jt.fromDate(r);return{timestampValue:rf(i.serializer,o)}}if(r instanceof jt){const o=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rf(i.serializer,o)}}if(r instanceof Nv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vl)return{bytesValue:nx(i.serializer,r._byteString)};if(r instanceof fn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:pv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Dv)return function(l,c){return{mapValue:{fields:{[bS]:{stringValue:NS},[Zh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return cv(c.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Kf(r)}`)}(n,e)}function Mx(n,e){const t={};return SS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(n,(r,i)=>{const o=jc(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function jx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof jt||n instanceof Nv||n instanceof vl||n instanceof fn||n instanceof Xf||n instanceof Dv)}function Mv(n,e,t){if(!jx(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Kf(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function ry(n,e,t){if((e=ot(e))instanceof Yf)return e._internalPath;if(typeof e=="string")return jv(n,e);throw uf("Field path arguments must be of type string or ",n,!1,void 0,t)}const lj=new RegExp("[~\\*/\\[\\]]");function jv(n,e,t){if(e.search(lj)>=0)throw uf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Yf(...e.split("."))._internalPath}catch{throw uf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function uf(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new me(ee.INVALID_ARGUMENT,c+n+h)}function Vx(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class uj extends Fx{data(){return super.data()}}function Vv(n,e){return typeof e=="string"?jv(n,e):e instanceof Yf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fv{}class cj extends Fv{}function cf(n,e,...t){let r=[];e instanceof Fv&&r.push(e),r=r.concat(t),function(o){const l=o.filter(h=>h instanceof $v).length,c=o.filter(h=>h instanceof ep).length;if(l>1||l>0&&c>0)throw new me(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class ep extends cj{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ep(e,t,r)}_apply(e){const t=this._parse(e);return $x(e._query,t),new sa(e.firestore,e.converter,qg(e._query,t))}_parse(e){const t=Jf(e.firestore);return function(o,l,c,h,p,g,w){let E;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new me(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){DT(w,g);const R=[];for(const k of w)R.push(NT(h,o,k));E={arrayValue:{values:R}}}else E=NT(h,o,w)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||DT(w,g),E=aj(c,l,w,g==="in"||g==="not-in");return Nt.create(p,g,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Uv(n,e,t){const r=e,i=Vv("where",n);return ep._create(i,r,t)}class $v extends Fv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $v(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:jr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const c=o.getFlattenedFilters();for(const h of c)$x(l,h),l=qg(l,h)}(e._query,t),new sa(e.firestore,e.converter,qg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function NT(n,e,t){if(typeof(t=ot(t))=="string"){if(t==="")throw new me(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!US(e)&&t.indexOf("/")!==-1)throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ht.fromString(t));if(!_e.isDocumentKey(r))throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return KE(n,new _e(r))}if(t instanceof fn)return KE(n,t._key);throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kf(t)}.`)}function DT(n,e){if(!Array.isArray(n)||n.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $x(n,e){const t=function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class dj{convertValue(e,t="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ao(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Zh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Rt(l.doubleValue));return new Dv(o)}convertGeoPoint(e){return new Nv(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=jf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){const t=Gs(e);return new jt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ht.fromString(e);Je(lx(r));const i=new fc(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(t)||$i(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zx extends Fx{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Vv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Mh extends zx{data(e={}){return super.data(e)}}class Wx{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new qu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Mh(this._firestore,this._userDataWriter,r.key,r,new qu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const h=new Mh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new qu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const h=new Mh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new qu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:hj(c.type),doc:h,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function hj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(n){n=On(n,fn);const e=On(n.firestore,zi);return X4(Qf(e),n._key).then(t=>Kx(e,n,t))}class Bv extends dj{constructor(e){super(),this.firestore=e}convertBytes(e){return new vl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}function _l(n){n=On(n,sa);const e=On(n.firestore,zi),t=Qf(e),r=new Bv(e);return Ux(n._query),J4(t,n._query).then(i=>new Wx(e,r,n,i))}function Hx(n,e,t){n=On(n,fn);const r=On(n.firestore,zi),i=Bx(n.converter,e,t);return tp(r,[Lx(Jf(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,cr.none())])}function fj(n,e,t,...r){n=On(n,fn);const i=On(n.firestore,zi),o=Jf(i);let l;return l=typeof(e=ot(e))=="string"||e instanceof Yf?oj(o,"updateDoc",n._key,e,t,r):sj(o,"updateDoc",n._key,e),tp(i,[l.toMutation(n._key,cr.exists(!0))])}function pj(n){return tp(On(n.firestore,zi),[new dv(n._key,cr.none())])}function qx(n,e){const t=On(n.firestore,zi),r=Yo(n),i=Bx(n.converter,e);return tp(t,[Lx(Jf(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,cr.exists(!1))]).then(()=>r)}function mj(n,...e){var t,r,i;n=ot(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||bT(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(bT(e[l])){const w=e[l];e[l]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[l+1]=(r=w.error)===null||r===void 0?void 0:r.bind(w),e[l+2]=(i=w.complete)===null||i===void 0?void 0:i.bind(w)}let h,p,g;if(n instanceof fn)p=On(n.firestore,zi),g=Vf(n._key.path),h={next:w=>{e[l]&&e[l](Kx(p,n,w))},error:e[l+1],complete:e[l+2]};else{const w=On(n,sa);p=On(w.firestore,zi),g=w._query;const E=new Bv(p);h={next:S=>{e[l]&&e[l](new Wx(p,E,w,S))},error:e[l+1],complete:e[l+2]},Ux(n._query)}return function(E,S,R,k){const x=new bv(k),L=new Av(S,x,R);return E.asyncQueue.enqueueAndForget(async()=>Sv(await lf(E),L)),()=>{x.su(),E.asyncQueue.enqueueAndForget(async()=>xv(await lf(E),L))}}(Qf(p),g,c,h)}function tp(n,e){return function(r,i){const o=new Li;return r.asyncQueue.enqueueAndForget(async()=>F4(await Y4(r),i,o)),o.promise}(Qf(n),e)}function Kx(n,e,t){const r=t.docs.get(e._key),i=new Bv(n);return new zx(n,i,e._key,r,new qu(t.hasPendingWrites,t.fromCache),e.converter)}function OT(){return new Lv("serverTimestamp")}(function(e,t=!0){(function(i){Nl=i})(io),Hs(new Vi("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new zi(new lL(r.getProvider("auth-internal")),new dL(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(p.options.projectId,g)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ur(ME,jE,e),ur(ME,jE,"esm2017")})();var LT={};const MT="@firebase/database",jT="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gx="";function gj(n){Gx=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Jt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:lc(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Gi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new yj(e)}}catch{}return new vj},zo=Qx("localStorage"),_j=Qx("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=new Pf("@firebase/database"),wj=function(){let n=1;return function(){return n++}}(),Yx=function(n){const e=Nb(n),t=new Rb;t.update(e);const r=t.digest();return $y.encodeByteArray(r)},Vc=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Vc.apply(null,r):typeof r=="object"?e+=Jt(r):e+=r,e+=" "}return e};let Ju=null,VT=!0;const Ej=function(n,e){ce(!0,"Can't turn on custom loggers persistently."),al.logLevel=Me.VERBOSE,Ju=al.log.bind(al)},un=function(...n){if(VT===!0&&(VT=!1,Ju===null&&_j.get("logging_enabled")===!0&&Ej()),Ju){const e=Vc.apply(null,n);Ju(e)}},Fc=function(n){return function(...e){un(n,...e)}},sy=function(...n){const e="FIREBASE INTERNAL ERROR: "+Vc(...n);al.error(e)},Wi=function(...n){const e=`FIREBASE FATAL ERROR: ${Vc(...n)}`;throw al.error(e),new Error(e)},Qn=function(...n){const e="FIREBASE WARNING: "+Vc(...n);al.warn(e)},Tj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Qn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Xx=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Ij=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},wl="[MIN_NAME]",Xo="[MAX_NAME]",Ml=function(n,e){if(n===e)return 0;if(n===wl||e===Xo)return-1;if(e===wl||n===Xo)return 1;{const t=FT(n),r=FT(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},Cj=function(n,e){return n===e?0:n<e?-1:1},Du=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Jt(e))},zv=function(n){if(typeof n!="object"||n===null)return Jt(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=Jt(e[r]),t+=":",t+=zv(n[e[r]]);return t+="}",t},Jx=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function hr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const Zx=function(n){ce(!Xx(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let i,o,l,c,h;n===0?(o=0,l=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),r),o=c+r,l=Math.round(n*Math.pow(2,t-c)-Math.pow(2,t))):(o=0,l=Math.round(n/Math.pow(2,1-r-t))));const p=[];for(h=t;h;h-=1)p.push(l%2?1:0),l=Math.floor(l/2);for(h=e;h;h-=1)p.push(o%2?1:0),o=Math.floor(o/2);p.push(i?1:0),p.reverse();const g=p.join("");let w="";for(h=0;h<64;h+=8){let E=parseInt(g.substr(h,8),2).toString(16);E.length===1&&(E="0"+E),w=w+E}return w.toLowerCase()},Sj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},xj=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},Rj=new RegExp("^-?(0*)\\d{1,10}$"),Aj=-2147483648,Pj=2147483647,FT=function(n){if(Rj.test(n)){const e=Number(n);if(e>=Aj&&e<=Pj)return e}return null},Uc=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Qn("Exception was thrown by user callback.",t),e},Math.floor(0))}},kj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Zu=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,dn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Qn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(un("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qn(e)}}class jh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}jh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="5",eR="v",tR="s",nR="r",rR="f",iR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sR="ls",oR="p",oy="ac",aR="websocket",lR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,t,r,i,o=!1,l="",c=!1,h=!1,p=null){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=h,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&zo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Dj(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function cR(n,e,t){ce(typeof e=="string","typeof type must == string"),ce(typeof t=="object","typeof params must == object");let r;if(e===aR)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===lR)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Dj(n)&&(t.ns=n.namespace);const i=[];return hr(t,(o,l)=>{i.push(o+"="+l)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(){this.counters_={}}incrementCounter(e,t=1){Gi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return lb(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg={},og={};function Hv(n){const e=n.toString();return sg[e]||(sg[e]=new Oj),sg[e]}function Lj(n,e){const t=n.toString();return og[t]||(og[t]=e()),og[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Uc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="start",jj="close",Vj="pLPCommand",Fj="pRTLPCB",dR="id",hR="pw",fR="ser",Uj="cb",$j="seg",Bj="ts",zj="d",Wj="dframe",pR=1870,mR=30,Hj=pR-mR,qj=25e3,Kj=3e4;class tl{constructor(e,t,r,i,o,l,c){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fc(e),this.stats_=Hv(t),this.urlFn=h=>(this.appCheckToken&&(h[oy]=this.appCheckToken),cR(t,lR,h))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Mj(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Kj)),Ij(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qv((...o)=>{const[l,c,h,p,g]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===UT)this.id=c,this.password=h;else if(l===jj)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[UT]="t",r[fR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Uj]=this.scriptTagHolder.uniqueCallbackIdentifier),r[eR]=Wv,this.transportSessionId&&(r[tR]=this.transportSessionId),this.lastSessionId&&(r[sR]=this.lastSessionId),this.applicationId&&(r[oR]=this.applicationId),this.appCheckToken&&(r[oy]=this.appCheckToken),typeof location<"u"&&location.hostname&&iR.test(location.hostname)&&(r[nR]=rR);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){tl.forceAllow_=!0}static forceDisallow(){tl.forceDisallow_=!0}static isAvailable(){return tl.forceAllow_?!0:!tl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Sj()&&!xj()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Jt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=IC(t),i=Jx(r,Hj);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[Wj]="t",r[dR]=e,r[hR]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Jt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class qv{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=wj(),window[Vj+this.uniqueCallbackIdentifier]=e,window[Fj+this.uniqueCallbackIdentifier]=t,this.myIFrame=qv.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){un("frame writing exception"),c.stack&&un(c.stack),un(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||un("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[dR]=this.myID,e[hR]=this.myPW,e[fR]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+mR+r.length<=pR;){const l=this.pendingSegs.shift();r=r+"&"+$j+i+"="+l.seg+"&"+Bj+i+"="+l.ts+"&"+zj+i+"="+l.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(qj)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{un("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=16384,Qj=45e3;let df=null;typeof MozWebSocket<"u"?df=MozWebSocket:typeof WebSocket<"u"&&(df=WebSocket);class Nr{constructor(e,t,r,i,o,l,c){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fc(this.connId),this.stats_=Hv(t),this.connURL=Nr.connectionURL_(t,l,c,i,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,i,o){const l={};return l[eR]=Wv,typeof location<"u"&&location.hostname&&iR.test(location.hostname)&&(l[nR]=rR),t&&(l[tR]=t),r&&(l[sR]=r),i&&(l[oy]=i),o&&(l[oR]=o),cR(e,aR,l)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zo.set("previous_websocket_failure",!0);try{let r;vb(),this.mySock=new df(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Nr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&df!==null&&!Nr.forceDisallow_}static previouslyFailed(){return zo.isInMemoryStorage||zo.get("previous_websocket_failure")===!0}markConnectionHealthy(){zo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=lc(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ce(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=Jt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=Jx(t,Gj);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Qj))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Nr.responsesRequiredToBeHealthy=2;Nr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{static get ALL_TRANSPORTS(){return[tl,Nr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Nr&&Nr.isAvailable();let r=t&&!Nr.previouslyFailed();if(e.webSocketOnly&&(t||Qn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Nr];else{const i=this.transports_=[];for(const o of vc.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);vc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=6e4,Xj=5e3,Jj=10*1024,Zj=100*1024,ag="t",$T="d",eV="s",BT="r",tV="e",zT="o",WT="a",HT="n",qT="p",nV="h";class rV{constructor(e,t,r,i,o,l,c,h,p,g){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=h,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fc("c:"+this.id+":"),this.transportManager_=new vc(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Zu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Zj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Jj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ag in e){const t=e[ag];t===WT?this.upgradeIfSecondaryHealthy_():t===BT?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===zT&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Du("t",e),r=Du("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:qT,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:WT,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:HT,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Du("t",e),r=Du("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Du(ag,e);if($T in e){const r=e[$T];if(t===nV){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===HT){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===eV?this.onConnectionShutdown_(r):t===BT?this.onReset_(r):t===tV?sy("Server Error: "+r):t===zT?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sy("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Wv!==r&&Qn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Zu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Yj))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Xj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:qT,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.allowedEvents_=e,this.listeners_={},ce(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===t&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){ce(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends yR{static getInstance(){return new hf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Hy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ce(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=32,GT=768;class ft{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function nt(){return new ft("")}function He(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function to(n){return n.pieces_.length-n.pieceNum_}function dt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new ft(n.pieces_,e)}function vR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function iV(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function _R(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function wR(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new ft(e,0)}function qt(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof ft)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new ft(t,0)}function $e(n){return n.pieceNum_>=n.pieces_.length}function lr(n,e){const t=He(n),r=He(e);if(t===null)return e;if(t===r)return lr(dt(n),dt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function ER(n,e){if(to(n)!==to(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Dr(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(to(n)>to(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class sV{constructor(e,t){this.errorPrefix_=t,this.parts_=_R(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Af(this.parts_[r]);TR(this)}}function oV(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Af(e),TR(n)}function aV(n){const e=n.parts_.pop();n.byteLength_-=Af(e),n.parts_.length>0&&(n.byteLength_-=1)}function TR(n){if(n.byteLength_>GT)throw new Error(n.errorPrefix_+"has a key path longer than "+GT+" bytes ("+n.byteLength_+").");if(n.parts_.length>KT)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+KT+") or object contains a cycle "+Uo(n))}function Uo(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv extends yR{static getInstance(){return new Kv}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ce(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=1e3,lV=60*5*1e3,QT=30*1e3,uV=1.3,cV=3e4,dV="server_kill",YT=3;class Mi extends gR{constructor(e,t,r,i,o,l,c,h){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=h,this.id=Mi.nextPersistentConnectionId_++,this.log_=Fc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ou,this.maxReconnectDelay_=lV,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Kv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&hf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const i=++this.requestNumber_,o={r:i,a:e,b:t};this.log_(Jt(o)),ce(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const t=new zy,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?t.resolve(c):t.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),t.promise}listen(e,t,r,i){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ce(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:t,query:e,tag:r};this.listens.get(l).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},l="q";e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,c=>{const h=c.d,p=c.s;Mi.warnOnListenWarnings_(h,t),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",c),p!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(p,h))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Gi(e,"w")){const r=dl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();Qn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||xb(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=QT)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=Sb(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,i=>{const o=i.s,l=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,t)}sendUnlisten_(e,t,r,i){this.log_("Unlisten on "+e+" for "+t);const o={p:e},l="n";i&&(o.q=r,o.t=i),this.sendRequest(l,o)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,i){const o={p:t,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{i&&setTimeout(()=>{i(l.s,l.d)},Math.floor(0))})}put(e,t,r,i){this.putInternal("p",e,t,r,i)}merge(e,t,r,i){this.putInternal("m",e,t,r,i)}putInternal(e,t,r,i,o){this.initConnection_();const l={p:t,d:r};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,o=>{this.log_(t+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Jt(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):sy("Unrecognized action received from server: "+Jt(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ce(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ou,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ou,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>cV&&(this.reconnectDelay_=Ou),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*uV)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Mi.nextConnectionId_++,o=this.lastSessionId;let l=!1,c=null;const h=function(){c?c.close():(l=!0,r())},p=function(w){ce(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(w)};this.realtime_={close:h,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,E]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);l?un("getToken() completed but was canceled"):(un("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=E&&E.token,c=new rV(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,S=>{Qn(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(dV)},o))}catch(w){this.log_("Failed to get token: "+w),l||(this.repoInfo_.nodeAdmin&&Qn(w),h())}}}interrupt(e){un("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){un("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Pg(this.interruptReasons_)&&(this.reconnectDelay_=Ou,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(o=>zv(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const r=new ft(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(t),o.delete(t),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,t){un("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=YT&&(this.reconnectDelay_=QT,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){un("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=YT&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+Gx.replace(/\./g,"-")]=1,Hy()?e["framework.cordova"]=1:AC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=hf.getInstance().currentlyOnline();return Pg(this.interruptReasons_)&&e}}Mi.nextPersistentConnectionId_=0;Mi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new qe(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new qe(wl,e),i=new qe(wl,t);return this.compare(r,i)!==0}minPost(){return qe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh;class IR extends np{static get __EMPTY_NODE(){return yh}static set __EMPTY_NODE(e){yh=e}compare(e,t){return Ml(e.name,t.name)}isDefinedOn(e){throw Pl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return qe.MIN}maxPost(){return new qe(Xo,yh)}makePost(e,t){return ce(typeof e=="string","KeyIndex indexValue must always be a string."),new qe(e,yh)}toString(){return".key"}}const ll=new IR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=t?r(e.key,t):1,i&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ht{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Ht.RED,this.left=i??Dn.EMPTY_NODE,this.right=o??Dn.EMPTY_NODE}copy(e,t,r,i,o){return new Ht(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return Dn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ht.RED=!0;Ht.BLACK=!1;class hV{copy(e,t,r,i,o){return this}insert(e,t,r){return new Ht(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Dn{constructor(e,t=Dn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Dn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ht.BLACK,null,null))}remove(e){return new Dn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ht.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new vh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new vh(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new vh(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new vh(this.root_,null,this.comparator_,!0,e)}}Dn.EMPTY_NODE=new hV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(n,e){return Ml(n.name,e.name)}function Gv(n,e){return Ml(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ay;function pV(n){ay=n}const CR=function(n){return typeof n=="number"?"number:"+Zx(n):"string:"+n},SR=function(n){if(n.isLeafNode()){const e=n.val();ce(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Gi(e,".sv"),"Priority must be a string or number.")}else ce(n===ay||n.isEmpty(),"priority of unexpected type.");ce(n===ay||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XT;class zt{static set __childrenNodeConstructor(e){XT=e}static get __childrenNodeConstructor(){return XT}constructor(e,t=zt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ce(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),SR(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new zt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:zt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return $e(e)?this:He(e)===".priority"?this.priorityNode_:zt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:zt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=He(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(ce(r!==".priority"||to(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,zt.__childrenNodeConstructor.EMPTY_NODE.updateChild(dt(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+CR(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=Zx(this.value_):e+=this.value_,this.lazyHash_=Yx(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===zt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof zt.__childrenNodeConstructor?-1:(ce(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,i=zt.VALUE_TYPE_ORDER.indexOf(t),o=zt.VALUE_TYPE_ORDER.indexOf(r);return ce(i>=0,"Unknown leaf type: "+t),ce(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}zt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xR,RR;function mV(n){xR=n}function gV(n){RR=n}class yV extends np{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),o=r.compareTo(i);return o===0?Ml(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return qe.MIN}maxPost(){return new qe(Xo,new zt("[PRIORITY-POST]",RR))}makePost(e,t){const r=xR(e);return new qe(t,new zt("[PRIORITY-POST]",r))}toString(){return".priority"}}const hn=new yV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=Math.log(2);class _V{constructor(e){const t=o=>parseInt(Math.log(o)/vV,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ff=function(n,e,t,r){n.sort(e);const i=function(h,p){const g=p-h;let w,E;if(g===0)return null;if(g===1)return w=n[h],E=t?t(w):w,new Ht(E,w.node,Ht.BLACK,null,null);{const S=parseInt(g/2,10)+h,R=i(h,S),k=i(S+1,p);return w=n[S],E=t?t(w):w,new Ht(E,w.node,Ht.BLACK,R,k)}},o=function(h){let p=null,g=null,w=n.length;const E=function(R,k){const x=w-R,L=w;w-=R;const U=i(x+1,L),B=n[x],q=t?t(B):B;S(new Ht(q,B.node,k,null,U))},S=function(R){p?(p.left=R,p=R):(g=R,p=R)};for(let R=0;R<h.count;++R){const k=h.nextBitIsOne(),x=Math.pow(2,h.count-(R+1));k?E(x,Ht.BLACK):(E(x,Ht.BLACK),E(x,Ht.RED))}return g},l=new _V(n.length),c=o(l);return new Dn(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lg;const Ya={};class Di{static get Default(){return ce(Ya&&hn,"ChildrenNode.ts has not been loaded"),lg=lg||new Di({".priority":Ya},{".priority":hn}),lg}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=dl(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Dn?t:null}hasIndex(e){return Gi(this.indexSet_,e.toString())}addIndex(e,t){ce(e!==ll,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=t.getIterator(qe.Wrap);let l=o.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=o.getNext();let c;i?c=ff(r,e.getCompare()):c=Ya;const h=e.toString(),p=Object.assign({},this.indexSet_);p[h]=e;const g=Object.assign({},this.indexes_);return g[h]=c,new Di(g,p)}addToIndexes(e,t){const r=Wh(this.indexes_,(i,o)=>{const l=dl(this.indexSet_,o);if(ce(l,"Missing index implementation for "+o),i===Ya)if(l.isDefinedOn(e.node)){const c=[],h=t.getIterator(qe.Wrap);let p=h.getNext();for(;p;)p.name!==e.name&&c.push(p),p=h.getNext();return c.push(e),ff(c,l.getCompare())}else return Ya;else{const c=t.get(e.name);let h=i;return c&&(h=h.remove(new qe(e.name,c))),h.insert(e,e.node)}});return new Di(r,this.indexSet_)}removeFromIndexes(e,t){const r=Wh(this.indexes_,i=>{if(i===Ya)return i;{const o=t.get(e.name);return o?i.remove(new qe(e.name,o)):i}});return new Di(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu;class Xe{static get EMPTY_NODE(){return Lu||(Lu=new Xe(new Dn(Gv),null,Di.Default))}constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&SR(this.priorityNode_),this.children_.isEmpty()&&ce(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Lu}updatePriority(e){return this.children_.isEmpty()?this:new Xe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Lu:t}}getChild(e){const t=He(e);return t===null?this:this.getImmediateChild(t).getChild(dt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ce(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new qe(e,t);let i,o;t.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(r,this.children_));const l=i.isEmpty()?Lu:this.priorityNode_;return new Xe(i,l,o)}}updateChild(e,t){const r=He(e);if(r===null)return t;{ce(He(e)!==".priority"||to(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(dt(e),t);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,i=0,o=!0;if(this.forEachChild(hn,(l,c)=>{t[l]=c.val(e),r++,o&&Xe.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):o=!1}),!e&&o&&i<2*r){const l=[];for(const c in t)l[c]=t[c];return l}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+CR(this.getPriority().val())+":"),this.forEachChild(hn,(t,r)=>{const i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":Yx(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new qe(e,t));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new qe(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new qe(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,qe.Wrap);let o=i.peek();for(;o!=null&&t.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,qe.Wrap);let o=i.peek();for(;o!=null&&t.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$c?-1:0}withIndex(e){if(e===ll||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Xe(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===ll||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(hn),i=t.getIterator(hn);let o=r.getNext(),l=i.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=r.getNext(),l=i.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===ll?null:this.indexMap_.get(e.toString())}}Xe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class wV extends Xe{constructor(){super(new Dn(Gv),Xe.EMPTY_NODE,Di.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Xe.EMPTY_NODE}isEmpty(){return!1}}const $c=new wV;Object.defineProperties(qe,{MIN:{value:new qe(wl,Xe.EMPTY_NODE)},MAX:{value:new qe(Xo,$c)}});IR.__EMPTY_NODE=Xe.EMPTY_NODE;zt.__childrenNodeConstructor=Xe;pV($c);gV($c);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=!0;function cn(n,e=null){if(n===null)return Xe.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ce(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new zt(t,cn(e))}if(!(n instanceof Array)&&EV){const t=[];let r=!1;if(hr(n,(l,c)=>{if(l.substring(0,1)!=="."){const h=cn(c);h.isEmpty()||(r=r||!h.getPriority().isEmpty(),t.push(new qe(l,h)))}}),t.length===0)return Xe.EMPTY_NODE;const o=ff(t,fV,l=>l.name,Gv);if(r){const l=ff(t,hn.getCompare());return new Xe(o,cn(e),new Di({".priority":l},{".priority":hn}))}else return new Xe(o,cn(e),Di.Default)}else{let t=Xe.EMPTY_NODE;return hr(n,(r,i)=>{if(Gi(n,r)&&r.substring(0,1)!=="."){const o=cn(i);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(r,o))}}),t.updatePriority(cn(e))}}mV(cn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV extends np{constructor(e){super(),this.indexPath_=e,ce(!$e(e)&&He(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),o=r.compareTo(i);return o===0?Ml(e.name,t.name):o}makePost(e,t){const r=cn(e),i=Xe.EMPTY_NODE.updateChild(this.indexPath_,r);return new qe(t,i)}maxPost(){const e=Xe.EMPTY_NODE.updateChild(this.indexPath_,$c);return new qe(Xo,e)}toString(){return _R(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV extends np{compare(e,t){const r=e.node.compareTo(t.node);return r===0?Ml(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return qe.MIN}maxPost(){return qe.MAX}makePost(e,t){const r=cn(e);return new qe(t,r)}toString(){return".value"}}const CV=new IV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(n){return{type:"value",snapshotNode:n}}function xV(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function RV(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function JT(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function AV(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ce(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ce(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wl}hasEnd(){return this.endSet_}getIndexEndValue(){return ce(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ce(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ce(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===hn}copy(){const e=new Qv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ZT(n){const e={};if(n.isDefault())return e;let t;if(n.index_===hn?t="$priority":n.index_===CV?t="$value":n.index_===ll?t="$key":(ce(n.index_ instanceof TV,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Jt(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=Jt(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Jt(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Jt(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Jt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function eI(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==hn&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends gR{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ce(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Fc("p:rest:"),this.listens_={}}listen(e,t,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=pf.getListenId_(e,r),c={};this.listens_[l]=c;const h=ZT(e._queryParams);this.restRequest_(o+".json",h,(p,g)=>{let w=g;if(p===404&&(w=null,p=null),p===null&&this.onDataUpdate_(o,w,!1,r),dl(this.listens_,l)===c){let E;p?p===401?E="permission_denied":E="rest_error:"+p:E="ok",i(E,null)}})}unlisten(e,t){const r=pf.getListenId_(e,t);delete this.listens_[r]}get(e){const t=ZT(e._queryParams),r=e._path.toString(),i=new zy;return this.restRequest_(r+".json",t,(o,l)=>{let c=l;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+kl(t);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let h=null;if(c.status>=200&&c.status<300){try{h=lc(c.responseText)}catch{Qn("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,h)}else c.status!==401&&c.status!==404&&Qn("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.rootNode_=Xe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(){return{value:null,children:new Map}}function AR(n,e,t){if($e(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=He(e);n.children.has(r)||n.children.set(r,mf());const i=n.children.get(r);e=dt(e),AR(i,e,t)}}function ly(n,e,t){n.value!==null?t(e,n.value):kV(n,(r,i)=>{const o=new ft(e.toString()+"/"+r);ly(i,o,t)})}function kV(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&hr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=10*1e3,NV=30*1e3,DV=5*60*1e3;class OV{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new bV(e);const r=tI+(NV-tI)*Math.random();Zu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;hr(e,(i,o)=>{o>0&&Gi(this.statsToReport_,i)&&(t[i]=o,r=!0)}),r&&this.server_.reportStats(t),Zu(this.reportStats_.bind(this),Math.floor(Math.random()*2*DV))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ei;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ei||(ei={}));function PR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function kR(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function bR(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=ei.ACK_USER_WRITE,this.source=PR()}operationForChild(e){if($e(this.path)){if(this.affectedTree.value!=null)return ce(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ft(e));return new gf(nt(),t,this.revert)}}else return ce(He(this.path)===e,"operationForChild called for unrelated child."),new gf(dt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=ei.OVERWRITE}operationForChild(e){return $e(this.path)?new Jo(this.source,nt(),this.snap.getImmediateChild(e)):new Jo(this.source,dt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=ei.MERGE}operationForChild(e){if($e(this.path)){const t=this.children.subtree(new ft(e));return t.isEmpty()?null:t.value?new Jo(this.source,nt(),t.value):new _c(this.source,nt(),t)}else return ce(He(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new _c(this.source,dt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($e(e))return this.isFullyInitialized()&&!this.filtered_;const t=He(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function LV(n,e,t,r){const i=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(AV(l.childName,l.snapshotNode))}),Mu(n,i,"child_removed",e,r,t),Mu(n,i,"child_added",e,r,t),Mu(n,i,"child_moved",o,r,t),Mu(n,i,"child_changed",e,r,t),Mu(n,i,"value",e,r,t),i}function Mu(n,e,t,r,i,o){const l=r.filter(c=>c.type===t);l.sort((c,h)=>jV(n,c,h)),l.forEach(c=>{const h=MV(n,c,o);i.forEach(p=>{p.respondsTo(c.type)&&e.push(p.createEvent(h,n.query_))})})}function MV(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function jV(n,e,t){if(e.childName==null||t.childName==null)throw Pl("Should only compare child_ events.");const r=new qe(e.childName,e.snapshotNode),i=new qe(t.childName,t.snapshotNode);return n.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(n,e){return{eventCache:n,serverCache:e}}function ec(n,e,t,r){return NR(new Yv(e,t,r),n.serverCache)}function DR(n,e,t,r){return NR(n.eventCache,new Yv(e,t,r))}function uy(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Zo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ug;const VV=()=>(ug||(ug=new Dn(Cj)),ug);class ct{static fromObject(e){let t=new ct(null);return hr(e,(r,i)=>{t=t.set(new ft(r),i)}),t}constructor(e,t=VV()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:nt(),value:this.value};if($e(e))return null;{const r=He(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(dt(e),t);return o!=null?{path:qt(new ft(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if($e(e))return this;{const t=He(e),r=this.children.get(t);return r!==null?r.subtree(dt(e)):new ct(null)}}set(e,t){if($e(e))return new ct(t,this.children);{const r=He(e),o=(this.children.get(r)||new ct(null)).set(dt(e),t),l=this.children.insert(r,o);return new ct(this.value,l)}}remove(e){if($e(e))return this.children.isEmpty()?new ct(null):new ct(null,this.children);{const t=He(e),r=this.children.get(t);if(r){const i=r.remove(dt(e));let o;return i.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,i),this.value===null&&o.isEmpty()?new ct(null):new ct(this.value,o)}else return this}}get(e){if($e(e))return this.value;{const t=He(e),r=this.children.get(t);return r?r.get(dt(e)):null}}setTree(e,t){if($e(e))return t;{const r=He(e),o=(this.children.get(r)||new ct(null)).setTree(dt(e),t);let l;return o.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,o),new ct(this.value,l)}}fold(e){return this.fold_(nt(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(qt(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,nt(),t)}findOnPath_(e,t,r){const i=this.value?r(t,this.value):!1;if(i)return i;if($e(e))return null;{const o=He(e),l=this.children.get(o);return l?l.findOnPath_(dt(e),qt(t,o),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,nt(),t)}foreachOnPath_(e,t,r){if($e(e))return this;{this.value&&r(t,this.value);const i=He(e),o=this.children.get(i);return o?o.foreachOnPath_(dt(e),qt(t,i),r):new ct(null)}}foreach(e){this.foreach_(nt(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(qt(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.writeTree_=e}static empty(){return new Lr(new ct(null))}}function tc(n,e,t){if($e(e))return new Lr(new ct(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const l=lr(i,e);return o=o.updateChild(l,t),new Lr(n.writeTree_.set(i,o))}else{const i=new ct(t),o=n.writeTree_.setTree(e,i);return new Lr(o)}}}function nI(n,e,t){let r=n;return hr(t,(i,o)=>{r=tc(r,qt(e,i),o)}),r}function rI(n,e){if($e(e))return Lr.empty();{const t=n.writeTree_.setTree(e,new ct(null));return new Lr(t)}}function cy(n,e){return oa(n,e)!=null}function oa(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(lr(t.path,e)):null}function iI(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(hn,(r,i)=>{e.push(new qe(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new qe(r,i.value))}),e}function Bs(n,e){if($e(e))return n;{const t=oa(n,e);return t!=null?new Lr(new ct(t)):new Lr(n.writeTree_.subtree(e))}}function dy(n){return n.writeTree_.isEmpty()}function El(n,e){return OR(nt(),n.writeTree_,e)}function OR(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(ce(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):t=OR(qt(n,i),o,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(qt(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(n,e){return UR(e,n)}function FV(n,e,t,r,i){ce(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=tc(n.visibleWrites,e,t)),n.lastWriteId=r}function UV(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function $V(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);ce(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,o=!1,l=n.allWrites.length-1;for(;i&&l>=0;){const c=n.allWrites[l];c.visible&&(l>=t&&BV(c,r.path)?i=!1:Dr(r.path,c.path)&&(o=!0)),l--}if(i){if(o)return zV(n),!0;if(r.snap)n.visibleWrites=rI(n.visibleWrites,r.path);else{const c=r.children;hr(c,h=>{n.visibleWrites=rI(n.visibleWrites,qt(r.path,h))})}return!0}else return!1}function BV(n,e){if(n.snap)return Dr(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Dr(qt(n.path,t),e))return!0;return!1}function zV(n){n.visibleWrites=MR(n.allWrites,WV,nt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function WV(n){return n.visible}function MR(n,e,t){let r=Lr.empty();for(let i=0;i<n.length;++i){const o=n[i];if(e(o)){const l=o.path;let c;if(o.snap)Dr(t,l)?(c=lr(t,l),r=tc(r,c,o.snap)):Dr(l,t)&&(c=lr(l,t),r=tc(r,nt(),o.snap.getChild(c)));else if(o.children){if(Dr(t,l))c=lr(t,l),r=nI(r,c,o.children);else if(Dr(l,t))if(c=lr(l,t),$e(c))r=nI(r,nt(),o.children);else{const h=dl(o.children,He(c));if(h){const p=h.getChild(dt(c));r=tc(r,nt(),p)}}}else throw Pl("WriteRecord should have .snap or .children")}}return r}function jR(n,e,t,r,i){if(!r&&!i){const o=oa(n.visibleWrites,e);if(o!=null)return o;{const l=Bs(n.visibleWrites,e);if(dy(l))return t;if(t==null&&!cy(l,nt()))return null;{const c=t||Xe.EMPTY_NODE;return El(l,c)}}}else{const o=Bs(n.visibleWrites,e);if(!i&&dy(o))return t;if(!i&&t==null&&!cy(o,nt()))return null;{const l=function(p){return(p.visible||i)&&(!r||!~r.indexOf(p.writeId))&&(Dr(p.path,e)||Dr(e,p.path))},c=MR(n.allWrites,l,e),h=t||Xe.EMPTY_NODE;return El(c,h)}}}function HV(n,e,t){let r=Xe.EMPTY_NODE;const i=oa(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(hn,(o,l)=>{r=r.updateImmediateChild(o,l)}),r;if(t){const o=Bs(n.visibleWrites,e);return t.forEachChild(hn,(l,c)=>{const h=El(Bs(o,new ft(l)),c);r=r.updateImmediateChild(l,h)}),iI(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const o=Bs(n.visibleWrites,e);return iI(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function qV(n,e,t,r,i){ce(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=qt(e,t);if(cy(n.visibleWrites,o))return null;{const l=Bs(n.visibleWrites,o);return dy(l)?i.getChild(t):El(l,i.getChild(t))}}function KV(n,e,t,r){const i=qt(e,t),o=oa(n.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(t)){const l=Bs(n.visibleWrites,i);return El(l,r.getNode().getImmediateChild(t))}else return null}function GV(n,e){return oa(n.visibleWrites,e)}function QV(n,e,t,r,i,o,l){let c;const h=Bs(n.visibleWrites,e),p=oa(h,nt());if(p!=null)c=p;else if(t!=null)c=El(h,t);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const g=[],w=l.getCompare(),E=o?c.getReverseIteratorFrom(r,l):c.getIteratorFrom(r,l);let S=E.getNext();for(;S&&g.length<i;)w(S,r)!==0&&g.push(S),S=E.getNext();return g}else return[]}function YV(){return{visibleWrites:Lr.empty(),allWrites:[],lastWriteId:-1}}function hy(n,e,t,r){return jR(n.writeTree,n.treePath,e,t,r)}function VR(n,e){return HV(n.writeTree,n.treePath,e)}function sI(n,e,t,r){return qV(n.writeTree,n.treePath,e,t,r)}function yf(n,e){return GV(n.writeTree,qt(n.treePath,e))}function XV(n,e,t,r,i,o){return QV(n.writeTree,n.treePath,e,t,r,i,o)}function Xv(n,e,t){return KV(n.writeTree,n.treePath,e,t)}function FR(n,e){return UR(qt(n.treePath,e),n.writeTree)}function UR(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;ce(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ce(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(r,JT(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(r,RV(r,i.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(r,xV(r,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(r,JT(r,e.snapshotNode,i.oldSnap));else throw Pl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const $R=new ZV;class Jv{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Yv(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xv(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zo(this.viewCache_),o=XV(this.writes_,i,t,1,r,e);return o.length===0?null:o[0]}}function e3(n,e){ce(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ce(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function t3(n,e,t,r,i){const o=new JV;let l,c;if(t.type===ei.OVERWRITE){const p=t;p.source.fromUser?l=fy(n,e,p.path,p.snap,r,i,o):(ce(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered()&&!$e(p.path),l=vf(n,e,p.path,p.snap,r,i,c,o))}else if(t.type===ei.MERGE){const p=t;p.source.fromUser?l=r3(n,e,p.path,p.children,r,i,o):(ce(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered(),l=py(n,e,p.path,p.children,r,i,c,o))}else if(t.type===ei.ACK_USER_WRITE){const p=t;p.revert?l=o3(n,e,p.path,r,i,o):l=i3(n,e,p.path,p.affectedTree,r,i,o)}else if(t.type===ei.LISTEN_COMPLETE)l=s3(n,e,t.path,r,o);else throw Pl("Unknown operation type: "+t.type);const h=o.getChanges();return n3(e,l,h),{viewCache:l,changes:h}}function n3(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=uy(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&t.push(SV(uy(e)))}}function BR(n,e,t,r,i,o){const l=e.eventCache;if(yf(r,t)!=null)return e;{let c,h;if($e(t))if(ce(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Zo(e),g=p instanceof Xe?p:Xe.EMPTY_NODE,w=VR(r,g);c=n.filter.updateFullNode(e.eventCache.getNode(),w,o)}else{const p=hy(r,Zo(e));c=n.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{const p=He(t);if(p===".priority"){ce(to(t)===1,"Can't have a priority with additional path components");const g=l.getNode();h=e.serverCache.getNode();const w=sI(r,t,g,h);w!=null?c=n.filter.updatePriority(g,w):c=l.getNode()}else{const g=dt(t);let w;if(l.isCompleteForChild(p)){h=e.serverCache.getNode();const E=sI(r,t,l.getNode(),h);E!=null?w=l.getNode().getImmediateChild(p).updateChild(g,E):w=l.getNode().getImmediateChild(p)}else w=Xv(r,p,e.serverCache);w!=null?c=n.filter.updateChild(l.getNode(),p,w,g,i,o):c=l.getNode()}}return ec(e,c,l.isFullyInitialized()||$e(t),n.filter.filtersNodes())}}function vf(n,e,t,r,i,o,l,c){const h=e.serverCache;let p;const g=l?n.filter:n.filter.getIndexedFilter();if($e(t))p=g.updateFullNode(h.getNode(),r,null);else if(g.filtersNodes()&&!h.isFiltered()){const S=h.getNode().updateChild(t,r);p=g.updateFullNode(h.getNode(),S,null)}else{const S=He(t);if(!h.isCompleteForPath(t)&&to(t)>1)return e;const R=dt(t),x=h.getNode().getImmediateChild(S).updateChild(R,r);S===".priority"?p=g.updatePriority(h.getNode(),x):p=g.updateChild(h.getNode(),S,x,R,$R,null)}const w=DR(e,p,h.isFullyInitialized()||$e(t),g.filtersNodes()),E=new Jv(i,w,o);return BR(n,w,t,i,E,c)}function fy(n,e,t,r,i,o,l){const c=e.eventCache;let h,p;const g=new Jv(i,e,o);if($e(t))p=n.filter.updateFullNode(e.eventCache.getNode(),r,l),h=ec(e,p,!0,n.filter.filtersNodes());else{const w=He(t);if(w===".priority")p=n.filter.updatePriority(e.eventCache.getNode(),r),h=ec(e,p,c.isFullyInitialized(),c.isFiltered());else{const E=dt(t),S=c.getNode().getImmediateChild(w);let R;if($e(E))R=r;else{const k=g.getCompleteChild(w);k!=null?vR(E)===".priority"&&k.getChild(wR(E)).isEmpty()?R=k:R=k.updateChild(E,r):R=Xe.EMPTY_NODE}if(S.equals(R))h=e;else{const k=n.filter.updateChild(c.getNode(),w,R,E,g,l);h=ec(e,k,c.isFullyInitialized(),n.filter.filtersNodes())}}}return h}function oI(n,e){return n.eventCache.isCompleteForChild(e)}function r3(n,e,t,r,i,o,l){let c=e;return r.foreach((h,p)=>{const g=qt(t,h);oI(e,He(g))&&(c=fy(n,c,g,p,i,o,l))}),r.foreach((h,p)=>{const g=qt(t,h);oI(e,He(g))||(c=fy(n,c,g,p,i,o,l))}),c}function aI(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function py(n,e,t,r,i,o,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,p;$e(t)?p=r:p=new ct(null).setTree(t,r);const g=e.serverCache.getNode();return p.children.inorderTraversal((w,E)=>{if(g.hasChild(w)){const S=e.serverCache.getNode().getImmediateChild(w),R=aI(n,S,E);h=vf(n,h,new ft(w),R,i,o,l,c)}}),p.children.inorderTraversal((w,E)=>{const S=!e.serverCache.isCompleteForChild(w)&&E.value===null;if(!g.hasChild(w)&&!S){const R=e.serverCache.getNode().getImmediateChild(w),k=aI(n,R,E);h=vf(n,h,new ft(w),k,i,o,l,c)}}),h}function i3(n,e,t,r,i,o,l){if(yf(i,t)!=null)return e;const c=e.serverCache.isFiltered(),h=e.serverCache;if(r.value!=null){if($e(t)&&h.isFullyInitialized()||h.isCompleteForPath(t))return vf(n,e,t,h.getNode().getChild(t),i,o,c,l);if($e(t)){let p=new ct(null);return h.getNode().forEachChild(ll,(g,w)=>{p=p.set(new ft(g),w)}),py(n,e,t,p,i,o,c,l)}else return e}else{let p=new ct(null);return r.foreach((g,w)=>{const E=qt(t,g);h.isCompleteForPath(E)&&(p=p.set(g,h.getNode().getChild(E)))}),py(n,e,t,p,i,o,c,l)}}function s3(n,e,t,r,i){const o=e.serverCache,l=DR(e,o.getNode(),o.isFullyInitialized()||$e(t),o.isFiltered());return BR(n,l,t,r,$R,i)}function o3(n,e,t,r,i,o){let l;if(yf(r,t)!=null)return e;{const c=new Jv(r,e,i),h=e.eventCache.getNode();let p;if($e(t)||He(t)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=hy(r,Zo(e));else{const w=e.serverCache.getNode();ce(w instanceof Xe,"serverChildren would be complete if leaf node"),g=VR(r,w)}g=g,p=n.filter.updateFullNode(h,g,o)}else{const g=He(t);let w=Xv(r,g,e.serverCache);w==null&&e.serverCache.isCompleteForChild(g)&&(w=h.getImmediateChild(g)),w!=null?p=n.filter.updateChild(h,g,w,dt(t),c,o):e.eventCache.getNode().hasChild(g)?p=n.filter.updateChild(h,g,Xe.EMPTY_NODE,dt(t),c,o):p=h,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=hy(r,Zo(e)),l.isLeafNode()&&(p=n.filter.updateFullNode(p,l,o)))}return l=e.serverCache.isFullyInitialized()||yf(r,nt())!=null,ec(e,p,l,n.filter.filtersNodes())}}function a3(n,e){const t=Zo(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!$e(e)&&!t.getImmediateChild(He(e)).isEmpty())?t.getChild(e):null}function lI(n,e,t,r){e.type===ei.MERGE&&e.source.queryId!==null&&(ce(Zo(n.viewCache_),"We should always have a full cache before handling merges"),ce(uy(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,o=t3(n.processor_,i,e,t,r);return e3(n.processor_,o.viewCache),ce(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,l3(n,o.changes,o.viewCache.eventCache.getNode())}function l3(n,e,t,r){const i=n.eventRegistrations_;return LV(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uI;function u3(n){ce(!uI,"__referenceConstructor has already been defined"),uI=n}function Zv(n,e,t,r){const i=e.source.queryId;if(i!==null){const o=n.views.get(i);return ce(o!=null,"SyncTree gave us an op for an invalid query."),lI(o,e,t,r)}else{let o=[];for(const l of n.views.values())o=o.concat(lI(l,e,t,r));return o}}function e_(n,e){let t=null;for(const r of n.views.values())t=t||a3(r,e);return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cI;function c3(n){ce(!cI,"__referenceConstructor has already been defined"),cI=n}class dI{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ct(null),this.pendingWriteTree_=YV(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function d3(n,e,t,r,i){return FV(n.pendingWriteTree_,e,t,r,i),i?ip(n,new Jo(PR(),e,t)):[]}function nl(n,e,t=!1){const r=UV(n.pendingWriteTree_,e);if($V(n.pendingWriteTree_,e)){let o=new ct(null);return r.snap!=null?o=o.set(nt(),!0):hr(r.children,l=>{o=o.set(new ft(l),!0)}),ip(n,new gf(r.path,o,t))}else return[]}function rp(n,e,t){return ip(n,new Jo(kR(),e,t))}function h3(n,e,t){const r=ct.fromObject(t);return ip(n,new _c(kR(),e,r))}function f3(n,e,t,r){const i=qR(n,r);if(i!=null){const o=KR(i),l=o.path,c=o.queryId,h=lr(l,e),p=new Jo(bR(c),h,t);return GR(n,l,p)}else return[]}function p3(n,e,t,r){const i=qR(n,r);if(i){const o=KR(i),l=o.path,c=o.queryId,h=lr(l,e),p=ct.fromObject(t),g=new _c(bR(c),h,p);return GR(n,l,g)}else return[]}function zR(n,e,t){const i=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(l,c)=>{const h=lr(l,e),p=e_(c,h);if(p)return p});return jR(i,e,o,t,!0)}function ip(n,e){return WR(e,n.syncPointTree_,null,LR(n.pendingWriteTree_,nt()))}function WR(n,e,t,r){if($e(n.path))return HR(n,e,t,r);{const i=e.get(nt());t==null&&i!=null&&(t=e_(i,nt()));let o=[];const l=He(n.path),c=n.operationForChild(l),h=e.children.get(l);if(h&&c){const p=t?t.getImmediateChild(l):null,g=FR(r,l);o=o.concat(WR(c,h,p,g))}return i&&(o=o.concat(Zv(i,n,r,t))),o}}function HR(n,e,t,r){const i=e.get(nt());t==null&&i!=null&&(t=e_(i,nt()));let o=[];return e.children.inorderTraversal((l,c)=>{const h=t?t.getImmediateChild(l):null,p=FR(r,l),g=n.operationForChild(l);g&&(o=o.concat(HR(g,c,h,p)))}),i&&(o=o.concat(Zv(i,n,r,t))),o}function qR(n,e){return n.tagToQueryMap.get(e)}function KR(n){const e=n.indexOf("$");return ce(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new ft(n.substr(0,e))}}function GR(n,e,t){const r=n.syncPointTree_.get(e);ce(r,"Missing sync point for query tag that we're tracking");const i=LR(n.pendingWriteTree_,e);return Zv(r,t,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new t_(t)}node(){return this.node_}}class n_{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=qt(this.path_,e);return new n_(this.syncTree_,t)}node(){return zR(this.syncTree_,this.path_)}}const m3=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},hI=function(n,e,t){if(!n||typeof n!="object")return n;if(ce(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return g3(n[".sv"],e,t);if(typeof n[".sv"]=="object")return y3(n[".sv"],e);ce(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},g3=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ce(!1,"Unexpected server value: "+n)}},y3=function(n,e,t){n.hasOwnProperty("increment")||ce(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&ce(!1,"Unexpected increment value: "+r);const i=e.node();if(ce(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return typeof l!="number"?r:l+r},v3=function(n,e,t,r){return r_(e,new n_(t,n),r)},_3=function(n,e,t){return r_(n,new t_(e),t)};function r_(n,e,t){const r=n.getPriority().val(),i=hI(r,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const l=n,c=hI(l.getValue(),e,t);return c!==l.getValue()||i!==l.getPriority().val()?new zt(c,cn(i)):n}else{const l=n;return o=l,i!==l.getPriority().val()&&(o=o.updatePriority(new zt(i))),l.forEachChild(hn,(c,h)=>{const p=r_(h,e.getImmediateChild(c),t);p!==h&&(o=o.updateImmediateChild(c,p))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function s_(n,e){let t=e instanceof ft?e:new ft(e),r=n,i=He(t);for(;i!==null;){const o=dl(r.node.children,i)||{children:{},childCount:0};r=new i_(i,r,o),t=dt(t),i=He(t)}return r}function jl(n){return n.node.value}function QR(n,e){n.node.value=e,my(n)}function YR(n){return n.node.childCount>0}function w3(n){return jl(n)===void 0&&!YR(n)}function sp(n,e){hr(n.node.children,(t,r)=>{e(new i_(t,n,r))})}function XR(n,e,t,r){t&&e(n),sp(n,i=>{XR(i,e,!0)})}function E3(n,e,t){let r=n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Bc(n){return new ft(n.parent===null?n.name:Bc(n.parent)+"/"+n.name)}function my(n){n.parent!==null&&T3(n.parent,n.name,n)}function T3(n,e,t){const r=w3(t),i=Gi(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,my(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,my(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=/[\[\].#$\/\u0000-\u001F\u007F]/,C3=/[\[\].#$\u0000-\u001F\u007F]/,cg=10*1024*1024,JR=function(n){return typeof n=="string"&&n.length!==0&&!I3.test(n)},S3=function(n){return typeof n=="string"&&n.length!==0&&!C3.test(n)},x3=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),S3(n)},ZR=function(n,e,t){const r=t instanceof ft?new sV(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Uo(r));if(typeof e=="function")throw new Error(n+"contains a function "+Uo(r)+" with contents = "+e.toString());if(Xx(e))throw new Error(n+"contains "+e.toString()+" "+Uo(r));if(typeof e=="string"&&e.length>cg/3&&Af(e)>cg)throw new Error(n+"contains a string greater than "+cg+" utf8 bytes "+Uo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(hr(e,(l,c)=>{if(l===".value")i=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!JR(l)))throw new Error(n+" contains an invalid key ("+l+") "+Uo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);oV(r,l),ZR(n,c,r),aV(r)}),i&&o)throw new Error(n+' contains ".value" child '+Uo(r)+" in addition to actual children.")}},R3=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!JR(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!x3(t))throw new Error(bb(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function P3(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();t!==null&&!ER(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(i)}t&&n.eventLists_.push(t)}function aa(n,e,t){P3(n,t),k3(n,r=>Dr(r,e)||Dr(e,r))}function k3(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];if(i){const o=i.path;e(o)?(b3(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function b3(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();Ju&&un("event: "+t.toString()),Uc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3="repo_interrupt",D3=25;class O3{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new A3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mf(),this.transactionQueueTree_=new i_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function L3(n,e,t){if(n.stats_=Hv(n.repoInfo_),n.forceRestClient_||kj())n.server_=new pf(n.repoInfo_,(r,i,o,l)=>{fI(n,r,i,o,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>pI(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Jt(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Mi(n.repoInfo_,e,(r,i,o,l)=>{fI(n,r,i,o,l)},r=>{pI(n,r)},r=>{j3(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=Lj(n.repoInfo_,()=>new OV(n.stats_,n.server_)),n.infoData_=new PV,n.infoSyncTree_=new dI({startListening:(r,i,o,l)=>{let c=[];const h=n.infoData_.getNode(r._path);return h.isEmpty()||(c=rp(n.infoSyncTree_,r._path,h),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),o_(n,"connected",!1),n.serverSyncTree_=new dI({startListening:(r,i,o,l)=>(n.server_.listen(r,o,i,(c,h)=>{const p=l(c,h);aa(n.eventQueue_,r._path,p)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function M3(n){const t=n.infoData_.getNode(new ft(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function e1(n){return m3({timestamp:M3(n)})}function fI(n,e,t,r,i){n.dataUpdateCount++;const o=new ft(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(i)if(r){const h=Wh(t,p=>cn(p));l=p3(n.serverSyncTree_,o,h,i)}else{const h=cn(t);l=f3(n.serverSyncTree_,o,h,i)}else if(r){const h=Wh(t,p=>cn(p));l=h3(n.serverSyncTree_,o,h)}else{const h=cn(t);l=rp(n.serverSyncTree_,o,h)}let c=o;l.length>0&&(c=l_(n,o)),aa(n.eventQueue_,c,l)}function pI(n,e){o_(n,"connected",e),e===!1&&F3(n)}function j3(n,e){hr(e,(t,r)=>{o_(n,t,r)})}function o_(n,e,t){const r=new ft("/.info/"+e),i=cn(t);n.infoData_.updateSnapshot(r,i);const o=rp(n.infoSyncTree_,r,i);aa(n.eventQueue_,r,o)}function V3(n){return n.nextWriteId_++}function F3(n){t1(n,"onDisconnectEvents");const e=e1(n),t=mf();ly(n.onDisconnect_,nt(),(i,o)=>{const l=v3(i,o,n.serverSyncTree_,e);AR(t,i,l)});let r=[];ly(t,nt(),(i,o)=>{r=r.concat(rp(n.serverSyncTree_,i,o));const l=z3(n,i);l_(n,l)}),n.onDisconnect_=mf(),aa(n.eventQueue_,nt(),r)}function U3(n){n.persistentConnection_&&n.persistentConnection_.interrupt(N3)}function t1(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),un(t,...e)}function n1(n,e,t){return zR(n.serverSyncTree_,e,t)||Xe.EMPTY_NODE}function a_(n,e=n.transactionQueueTree_){if(e||op(n,e),jl(e)){const t=i1(n,e);ce(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&$3(n,Bc(e),t)}else YR(e)&&sp(e,t=>{a_(n,t)})}function $3(n,e,t){const r=t.map(p=>p.currentWriteId),i=n1(n,e,r);let o=i;const l=i.hash();for(let p=0;p<t.length;p++){const g=t[p];ce(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const w=lr(e,g.path);o=o.updateChild(w,g.currentOutputSnapshotRaw)}const c=o.val(!0),h=e;n.server_.put(h.toString(),c,p=>{t1(n,"transaction put response",{path:h.toString(),status:p});let g=[];if(p==="ok"){const w=[];for(let E=0;E<t.length;E++)t[E].status=2,g=g.concat(nl(n.serverSyncTree_,t[E].currentWriteId)),t[E].onComplete&&w.push(()=>t[E].onComplete(null,!0,t[E].currentOutputSnapshotResolved)),t[E].unwatcher();op(n,s_(n.transactionQueueTree_,e)),a_(n,n.transactionQueueTree_),aa(n.eventQueue_,e,g);for(let E=0;E<w.length;E++)Uc(w[E])}else{if(p==="datastale")for(let w=0;w<t.length;w++)t[w].status===3?t[w].status=4:t[w].status=0;else{Qn("transaction at "+h.toString()+" failed: "+p);for(let w=0;w<t.length;w++)t[w].status=4,t[w].abortReason=p}l_(n,e)}},l)}function l_(n,e){const t=r1(n,e),r=Bc(t),i=i1(n,t);return B3(n,i,r),r}function B3(n,e,t){if(e.length===0)return;const r=[];let i=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const h=e[c],p=lr(t,h.path);let g=!1,w;if(ce(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)g=!0,w=h.abortReason,i=i.concat(nl(n.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=D3)g=!0,w="maxretry",i=i.concat(nl(n.serverSyncTree_,h.currentWriteId,!0));else{const E=n1(n,h.path,l);h.currentInputSnapshot=E;const S=e[c].update(E.val());if(S!==void 0){ZR("transaction failed: Data returned ",S,h.path);let R=cn(S);typeof S=="object"&&S!=null&&Gi(S,".priority")||(R=R.updatePriority(E.getPriority()));const x=h.currentWriteId,L=e1(n),U=_3(R,E,L);h.currentOutputSnapshotRaw=R,h.currentOutputSnapshotResolved=U,h.currentWriteId=V3(n),l.splice(l.indexOf(x),1),i=i.concat(d3(n.serverSyncTree_,h.path,U,h.currentWriteId,h.applyLocally)),i=i.concat(nl(n.serverSyncTree_,x,!0))}else g=!0,w="nodata",i=i.concat(nl(n.serverSyncTree_,h.currentWriteId,!0))}aa(n.eventQueue_,t,i),i=[],g&&(e[c].status=2,function(E){setTimeout(E,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(w==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(w),!1,null))))}op(n,n.transactionQueueTree_);for(let c=0;c<r.length;c++)Uc(r[c]);a_(n,n.transactionQueueTree_)}function r1(n,e){let t,r=n.transactionQueueTree_;for(t=He(e);t!==null&&jl(r)===void 0;)r=s_(r,t),e=dt(e),t=He(e);return r}function i1(n,e){const t=[];return s1(n,e,t),t.sort((r,i)=>r.order-i.order),t}function s1(n,e,t){const r=jl(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);sp(e,i=>{s1(n,i,t)})}function op(n,e){const t=jl(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,QR(e,t.length>0?t:void 0)}sp(e,r=>{op(n,r)})}function z3(n,e){const t=Bc(r1(n,e)),r=s_(n.transactionQueueTree_,e);return E3(r,i=>{dg(n,i)}),dg(n,r),XR(r,i=>{dg(n,i)}),t}function dg(n,e){const t=jl(e);if(t){const r=[];let i=[],o=-1;for(let l=0;l<t.length;l++)t[l].status===3||(t[l].status===1?(ce(o===l-1,"All SENT items should be at beginning of queue."),o=l,t[l].status=3,t[l].abortReason="set"):(ce(t[l].status===0,"Unexpected transaction status in abort"),t[l].unwatcher(),i=i.concat(nl(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?QR(e,void 0):t.length=o+1,aa(n.eventQueue_,Bc(e),i);for(let l=0;l<r.length;l++)Uc(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function H3(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Qn(`Invalid query segment '${t}' in query '${n}'`)}return e}const mI=function(n,e){const t=q3(n),r=t.namespace;t.domain==="firebase.com"&&Wi(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&Wi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||Tj();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new uR(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new ft(t.pathString)}},q3=function(n){let e="",t="",r="",i="",o="",l=!0,c="https",h=443;if(typeof n=="string"){let p=n.indexOf("//");p>=0&&(c=n.substring(0,p-1),n=n.substring(p+2));let g=n.indexOf("/");g===-1&&(g=n.length);let w=n.indexOf("?");w===-1&&(w=n.length),e=n.substring(0,Math.min(g,w)),g<w&&(i=W3(n.substring(g,w)));const E=H3(n.substring(Math.min(n.length,w)));p=e.indexOf(":"),p>=0?(l=c==="https"||c==="wss",h=parseInt(e.substring(p+1),10)):p=e.length;const S=e.slice(0,p);if(S.toLowerCase()==="localhost")t="localhost";else if(S.split(".").length<=2)t=S;else{const R=e.indexOf(".");r=e.substring(0,R).toLowerCase(),t=e.substring(R+1),o=r}"ns"in E&&(o=E.ns)}return{host:e,port:h,domain:t,subdomain:r,secure:l,scheme:c,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return $e(this._path)?null:vR(this._path)}get ref(){return new Vl(this._repo,this._path)}get _queryIdentifier(){const e=eI(this._queryParams),t=zv(e);return t==="{}"?"default":t}get _queryObject(){return eI(this._queryParams)}isEqual(e){if(e=ot(e),!(e instanceof u_))return!1;const t=this._repo===e._repo,r=ER(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+iV(this._path)}}class Vl extends u_{constructor(e,t){super(e,t,new Qv,!1)}get parent(){const e=wR(this._path);return e===null?null:new Vl(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}u3(Vl);c3(Vl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="FIREBASE_DATABASE_EMULATOR_HOST",gy={};let G3=!1;function Q3(n,e,t,r){n.repoInfo_=new uR(e,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),r&&(n.authTokenProvider_=r)}function Y3(n,e,t,r,i){let o=r||n.options.databaseURL;o===void 0&&(n.options.projectId||Wi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),un("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l=mI(o,i),c=l.repoInfo,h;typeof process<"u"&&LT&&(h=LT[K3]),h?(o=`http://${h}?ns=${c.namespace}`,l=mI(o,i),c=l.repoInfo):l.repoInfo.secure;const p=new Nj(n.name,n.options,e);R3("Invalid Firebase Database URL",l),$e(l.path)||Wi("Database URL must point to the root of a Firebase Database (not including a child path).");const g=J3(c,n,p,new bj(n,t));return new Z3(g,n)}function X3(n,e){const t=gy[e];(!t||t[n.key]!==n)&&Wi(`Database ${e}(${n.repoInfo_}) has already been deleted.`),U3(n),delete t[n.key]}function J3(n,e,t,r){let i=gy[e.name];i||(i={},gy[e.name]=i);let o=i[n.toURLString()];return o&&Wi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new O3(n,G3,t,r),i[n.toURLString()]=o,o}class Z3{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(L3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vl(this._repo,nt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(X3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Wi("Cannot call "+e+" on a deleted database.")}}function eF(n=kf(),e){const t=Rc(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=By("database");r&&tF(t,...r)}return t}function tF(n,e,t,r={}){n=ot(n),n._checkNotDeleted("useEmulator");const i=`${e}:${t}`,o=n._repoInternal;if(n._instanceStarted){if(i===n._repoInternal.repoInfo_.host&&Ws(r,o.repoInfo_.emulatorOptions))return;Wi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Wi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new jh(jh.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:Wy(r.mockUserToken,n.app.options.projectId);l=new jh(c)}Q3(o,i,r,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(n){gj(io),Hs(new Vi("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return Y3(r,i,o,t)},"PUBLIC").setMultipleInstances(!0)),ur(MT,jT,n),ur(MT,jT,"esm2017")}Mi.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Mi.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};nF();const c_=async(n,e,t,r,i,o,l)=>{const c=eo();let h;e||t?h=`${e||""} ${t||""}`.trim():h=o||"";const p={displayName:h,firstName:e||(o?o.split(" ")[0]:""),lastName:t||(o?o.split(" ").slice(1).join(" "):""),email:r,phoneNumber:i,createdAt:new Date};typeof l=="boolean"&&(p.isAdmin=l),await Hx(Yo(c,"users",n),p,{merge:!0})},o1={apiKey:"AIzaSyDX3sdS3txwVb8u3XA-3_D3l1psaT1TDzU",authDomain:"ureno-b0c23.firebaseapp.com",projectId:"ureno-b0c23",storageBucket:"ureno-b0c23.appspot.com",messagingSenderId:"750721636991",appId:"1:750721636991:web:1dee0acc728519b7f7fd4a",measurementId:"G-V8LVMN8932",databaseURL:"https://ureno-b0c23.firebaseio.com"};console.log("FIREBASE CONFIG:",o1);const d_=NC(o1),ap=Of(d_);new Zr;const wc=eo(d_);sL("debug");const a1=En.createContext();function Qi(){return I.useContext(a1)}function rF({children:n}){const[e,t]=I.useState(null),[r,i]=I.useState(!1),[o,l]=I.useState(!0),[c,h]=I.useState(!1),[p,g]=I.useState(!1),[w,E]=I.useState(!1),S={currentUser:e,userLoggedIn:r,isEmailUser:c,isGoogleUser:p,loading:o,redirectAfterAuth:w,setRedirectAfterAuth:E};return I.useEffect(()=>{const R=Of(),k=iS(R,x=>{var L;if(t(x),i(!!x),x){const U=(L=x.providerData[0])==null?void 0:L.providerId;h(U==="password"),g(U==="google.com")}else h(!1),g(!1);l(!1),console.log("AuthProvider state updated: userLogggedIn =",r)});return()=>k}),y.jsx(a1.Provider,{value:S,children:!o&&n})}const yy=eo(d_),iF=async n=>{try{const e=Yo(yy,"users",n),t=await iy(e);return t.exists()?t.data():null}catch(e){throw console.error("Error fetching user profile:",e),e}},lp=I.createContext(),l1=()=>I.useContext(lp),sF=({children:n})=>{const[e,t]=I.useState(null),[r,i]=I.useState(null),[o,l]=I.useState(!0);return I.useEffect(()=>{const c=iS(ap,async h=>{if(t(h),!h){i(null),l(!1);return}console.log("Current user UID:",h==null?void 0:h.uid);let p=null,g=null;if(h.displayName){const S=h.displayName.split(" ");p=S[0]||"",g=S.slice(1).join(" ")||""}const w=Yo(yy,"users",h.uid);(await iy(w)).exists()?console.log("User profile already exists, skipping creation."):(console.log("User profile doesn't exist yet, creating it."),await c_(h.uid,p,g,h.email,null,h.displayName));try{const S=await iF(h.uid),R={displayName:h.displayName||"",email:h.email||"",photoURL:h.photoURL||""};i(S||R),l(!1);try{const k=Yo(yy,"users",h.uid);console.log("Setting up Firestore listener on: /users/"+h.uid),(await iy(k)).exists()||(console.log("Document doesn't exist yet, creating it first"),await Hx(k,{displayName:r.displayName,email:r.email,photoURL:r.photoURL,createdAt:new Date},{merge:!0}));const L=mj(k,U=>{U.exists()?(console.log("Received profile update for UID:",h.uid,"Data:",U.data()),i(U.data())):console.warn("User document does not exist for UID:",h.uid)},U=>{console.error("Error listening to profile updates:",U)});return()=>L()}catch(k){console.error("Error setting up profile listener:",k)}}catch(S){console.error("Failed to fetch user profile:",S.message),l(!1)}});return()=>c()},[]),y.jsx(lp.Provider,{value:{user:e,profile:r,loading:o},children:n})};I.createContext();const oF="/Ureno_webdesign/assets/flooring-background-D6oQgrl-.png",aF="/Ureno_webdesign/assets/paint-background-DV-ynsPo.png",gI="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M12,2C6.477,2,2,6.477,2,12c0,5.013,3.693,9.153,8.505,9.876V14.65H8.031v-2.629h2.474v-1.749%20c0-2.896,1.411-4.167,3.818-4.167c1.153,0,1.762,0.085,2.051,0.124v2.294h-1.642c-1.022,0-1.379,0.969-1.379,2.061v1.437h2.995%20l-0.406,2.629h-2.588v7.247C18.235,21.236,22,17.062,22,12C22,6.477,17.523,2,12,2z'/%3e%3c/svg%3e",yI="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M%208%203%20C%205.243%203%203%205.243%203%208%20L%203%2016%20C%203%2018.757%205.243%2021%208%2021%20L%2016%2021%20C%2018.757%2021%2021%2018.757%2021%2016%20L%2021%208%20C%2021%205.243%2018.757%203%2016%203%20L%208%203%20z%20M%208%205%20L%2016%205%20C%2017.654%205%2019%206.346%2019%208%20L%2019%2016%20C%2019%2017.654%2017.654%2019%2016%2019%20L%208%2019%20C%206.346%2019%205%2017.654%205%2016%20L%205%208%20C%205%206.346%206.346%205%208%205%20z%20M%2017%206%20A%201%201%200%200%200%2016%207%20A%201%201%200%200%200%2017%208%20A%201%201%200%200%200%2018%207%20A%201%201%200%200%200%2017%206%20z%20M%2012%207%20C%209.243%207%207%209.243%207%2012%20C%207%2014.757%209.243%2017%2012%2017%20C%2014.757%2017%2017%2014.757%2017%2012%20C%2017%209.243%2014.757%207%2012%207%20z%20M%2012%209%20C%2013.654%209%2015%2010.346%2015%2012%20C%2015%2013.654%2013.654%2015%2012%2015%20C%2010.346%2015%209%2013.654%209%2012%20C%209%2010.346%2010.346%209%2012%209%20z'/%3e%3c/svg%3e",vI="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M%205%203%20C%203.895%203%203%203.895%203%205%20L%203%2019%20C%203%2020.105%203.895%2021%205%2021%20L%2019%2021%20C%2020.105%2021%2021%2020.105%2021%2019%20L%2021%205%20C%2021%203.895%2020.105%203%2019%203%20L%205%203%20z%20M%205%205%20L%2019%205%20L%2019%2019%20L%205%2019%20L%205%205%20z%20M%207.7792969%206.3164062%20C%206.9222969%206.3164062%206.4082031%206.8315781%206.4082031%207.5175781%20C%206.4082031%208.2035781%206.9223594%208.7167969%207.6933594%208.7167969%20C%208.5503594%208.7167969%209.0644531%208.2035781%209.0644531%207.5175781%20C%209.0644531%206.8315781%208.5502969%206.3164062%207.7792969%206.3164062%20z%20M%206.4765625%2010%20L%206.4765625%2017%20L%209%2017%20L%209%2010%20L%206.4765625%2010%20z%20M%2011.082031%2010%20L%2011.082031%2017%20L%2013.605469%2017%20L%2013.605469%2013.173828%20C%2013.605469%2012.034828%2014.418109%2011.871094%2014.662109%2011.871094%20C%2014.906109%2011.871094%2015.558594%2012.115828%2015.558594%2013.173828%20L%2015.558594%2017%20L%2018%2017%20L%2018%2013.173828%20C%2018%2010.976828%2017.023734%2010%2015.802734%2010%20C%2014.581734%2010%2013.930469%2010.406562%2013.605469%2010.976562%20L%2013.605469%2010%20L%2011.082031%2010%20z'/%3e%3c/svg%3e",_I="/Ureno_webdesign/assets/icons8-youtube-logo-CImQkwOS.svg",zc=()=>y.jsxs("div",{className:"footer",children:[y.jsxs("div",{className:"left",children:[y.jsx("div",{className:"logo",children:"URENO"}),y.jsxs("div",{className:"social-sites",children:[y.jsx("object",{data:gI,type:"image/svg+xml",children:y.jsx("img",{src:gI})}),y.jsx("object",{data:yI,type:"image/svg+xml",children:y.jsx("img",{src:yI})}),y.jsx("object",{data:vI,type:"image/svg+xml",children:y.jsx("img",{src:vI})}),y.jsx("object",{data:_I,type:"image/svg+xml",children:y.jsx("img",{src:_I})})]})]}),y.jsxs("div",{className:"right",children:[y.jsxs("menu",{children:[y.jsx("li",{children:"Topic"}),y.jsx("li",{children:"Page"}),y.jsx("li",{children:"Page"}),y.jsx("li",{children:"Page"})]}),y.jsxs("menu",{children:[y.jsx("li",{children:"Topic"}),y.jsx("li",{children:"Page"}),y.jsx("li",{children:"Page"}),y.jsx("li",{children:"Page"})]}),y.jsxs("menu",{children:[y.jsx("li",{children:"Topic"}),y.jsx("li",{children:"Page"}),y.jsx("li",{children:"Page"}),y.jsx("li",{children:"Page"})]})]})]}),vy="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='40px'%20width='40px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20402.161%20402.161'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20d='M201.08,49.778c-38.794,0-70.355,31.561-70.355,70.355c0,18.828,7.425,40.193,19.862,57.151%20c14.067,19.181,32,29.745,50.493,29.745c18.494,0,36.426-10.563,50.494-29.745c12.437-16.958,19.862-38.323,19.862-57.151%20C271.436,81.339,239.874,49.778,201.08,49.778z%20M201.08,192.029c-13.396,0-27.391-8.607-38.397-23.616%20c-10.46-14.262-16.958-32.762-16.958-48.28c0-30.523,24.832-55.355,55.355-55.355s55.355,24.832,55.355,55.355%20C256.436,151.824,230.372,192.029,201.08,192.029z'/%3e%3cpath%20d='M201.08,0C109.387,0,34.788,74.598,34.788,166.292c0,91.693,74.598,166.292,166.292,166.292%20s166.292-74.598,166.292-166.292C367.372,74.598,292.773,0,201.08,0z%20M201.08,317.584c-30.099-0.001-58.171-8.839-81.763-24.052%20c0.82-22.969,11.218-44.503,28.824-59.454c6.996-5.941,17.212-6.59,25.422-1.615c8.868,5.374,18.127,8.099,27.52,8.099%20c9.391,0,18.647-2.724,27.511-8.095c8.201-4.97,18.39-4.345,25.353,1.555c17.619,14.93,28.076,36.526,28.895,59.512%20C259.25,308.746,231.178,317.584,201.08,317.584z%20M296.981,283.218c-3.239-23.483-15.011-45.111-33.337-60.64%20c-11.89-10.074-29.1-11.256-42.824-2.939c-12.974,7.861-26.506,7.86-39.483-0.004c-13.74-8.327-30.981-7.116-42.906,3.01%20c-18.31,15.549-30.035,37.115-33.265,60.563c-33.789-27.77-55.378-69.868-55.378-116.915C49.788,82.869,117.658,15,201.08,15%20c83.423,0,151.292,67.869,151.292,151.292C352.372,213.345,330.778,255.448,296.981,283.218z'/%3e%3cpath%20d='M302.806,352.372H99.354c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h203.452c4.142,0,7.5-3.358,7.5-7.5%20C310.307,355.73,306.948,352.372,302.806,352.372z'/%3e%3cpath%20d='M302.806,387.161H99.354c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h203.452c4.142,0,7.5-3.358,7.5-7.5%20C310.307,390.519,306.948,387.161,302.806,387.161z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",lF=async(n,e)=>FD(ap,n,e),uF=(n,e)=>UD(ap,n,e),cF=async()=>{var t;const n=Of(),e=new Zr;try{const r=await dO(n,e),i=(t=r==null?void 0:r.additionalUserInfo)==null?void 0:t.isNewUser,o=r.user;return i?(console.log("New user signed up with Google:",r.user),await c_(o.uid,o.displayname||"Google User",o.email,o.photoURL)):console.log("Existing user logged in with Google: ",r.user),r}catch(r){console.error("Google Sign-In Error:",r)}},h_=()=>ap.signOut();var hg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var wI;function dF(){return wI||(wI=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=i(o,r(c)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)e.call(o,c)&&o[c]&&(l=i(l,c));return l}function i(o,l){return l?o?o+" "+l:o+l:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(hg)),hg.exports}var hF=dF();const Ge=Ic(hF);var fF=Function.prototype.bind.call(Function.prototype.call,[].slice);function EI(n,e){return fF(n.querySelectorAll(e))}const u1=!!(typeof window<"u"&&window.document&&window.document.createElement);var _y=!1,wy=!1;try{var fg={get passive(){return _y=!0},get once(){return wy=_y=!0}};u1&&(window.addEventListener("test",fg,fg),window.removeEventListener("test",fg,!0))}catch{}function c1(n,e,t,r){if(r&&typeof r!="boolean"&&!wy){var i=r.once,o=r.capture,l=t;!wy&&i&&(l=t.__once||function c(h){this.removeEventListener(e,c,o),t.call(this,h)},t.__once=l),n.addEventListener(e,l,_y?r:o)}n.addEventListener(e,t,r)}function pF(n,e,t){const r=I.useRef(n!==void 0),[i,o]=I.useState(e),l=n!==void 0,c=r.current;return r.current=l,!l&&c&&i!==e&&o(e),[l?n:i,I.useCallback((...h)=>{const[p,...g]=h;let w=t==null?void 0:t(p,...g);return o(p),w},[t])]}function mF(n){const e=I.useRef(null);return I.useEffect(()=>{e.current=n}),e.current}function gF(){const[,n]=I.useReducer(e=>e+1,0);return n}function yF(n){const e=I.useRef(n);return I.useEffect(()=>{e.current=n},[n]),e}function zs(n){const e=yF(n);return I.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function vF(n,e,t,r=!1){const i=zs(t);I.useEffect(()=>{const o=typeof n=="function"?n():n;return o.addEventListener(e,i,r),()=>o.removeEventListener(e,i,r)},[n])}const up=I.createContext(null);function _F(){return I.useState(null)}var TI=Object.prototype.hasOwnProperty;function II(n,e,t){for(t of n.keys())if(nc(t,e))return t}function nc(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&nc(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=II(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=II(e,i),!i)||!nc(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(TI.call(n,t)&&++r&&!TI.call(e,t)||!(t in e)||!nc(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function wF(){const n=I.useRef(!0),e=I.useRef(()=>n.current);return I.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function EF(n){const e=wF();return[n[0],I.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var Ln="top",fr="bottom",pr="right",Mn="left",f_="auto",Wc=[Ln,fr,pr,Mn],Tl="start",Ec="end",TF="clippingParents",d1="viewport",ju="popper",IF="reference",CI=Wc.reduce(function(n,e){return n.concat([e+"-"+Tl,e+"-"+Ec])},[]),h1=[].concat(Wc,[f_]).reduce(function(n,e){return n.concat([e,e+"-"+Tl,e+"-"+Ec])},[]),CF="beforeRead",SF="read",xF="afterRead",RF="beforeMain",AF="main",PF="afterMain",kF="beforeWrite",bF="write",NF="afterWrite",DF=[CF,SF,xF,RF,AF,PF,kF,bF,NF];function oi(n){return n.split("-")[0]}function Yn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function ea(n){var e=Yn(n).Element;return n instanceof e||n instanceof Element}function ai(n){var e=Yn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function p_(n){if(typeof ShadowRoot>"u")return!1;var e=Yn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var Wo=Math.max,_f=Math.min,Il=Math.round;function Ey(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function f1(){return!/^((?!chrome|android).)*safari/i.test(Ey())}function Cl(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,o=1;e&&ai(n)&&(i=n.offsetWidth>0&&Il(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&Il(r.height)/n.offsetHeight||1);var l=ea(n)?Yn(n):window,c=l.visualViewport,h=!f1()&&t,p=(r.left+(h&&c?c.offsetLeft:0))/i,g=(r.top+(h&&c?c.offsetTop:0))/o,w=r.width/i,E=r.height/o;return{width:w,height:E,top:g,right:p+w,bottom:g+E,left:p,x:p,y:g}}function m_(n){var e=Cl(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function p1(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&p_(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function no(n){return n?(n.nodeName||"").toLowerCase():null}function Hi(n){return Yn(n).getComputedStyle(n)}function OF(n){return["table","td","th"].indexOf(no(n))>=0}function uo(n){return((ea(n)?n.ownerDocument:n.document)||window.document).documentElement}function cp(n){return no(n)==="html"?n:n.assignedSlot||n.parentNode||(p_(n)?n.host:null)||uo(n)}function SI(n){return!ai(n)||Hi(n).position==="fixed"?null:n.offsetParent}function LF(n){var e=/firefox/i.test(Ey()),t=/Trident/i.test(Ey());if(t&&ai(n)){var r=Hi(n);if(r.position==="fixed")return null}var i=cp(n);for(p_(i)&&(i=i.host);ai(i)&&["html","body"].indexOf(no(i))<0;){var o=Hi(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Hc(n){for(var e=Yn(n),t=SI(n);t&&OF(t)&&Hi(t).position==="static";)t=SI(t);return t&&(no(t)==="html"||no(t)==="body"&&Hi(t).position==="static")?e:t||LF(n)||e}function g_(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function rc(n,e,t){return Wo(n,_f(e,t))}function MF(n,e,t){var r=rc(n,e,t);return r>t?t:r}function m1(){return{top:0,right:0,bottom:0,left:0}}function g1(n){return Object.assign({},m1(),n)}function y1(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var jF=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,g1(typeof e!="number"?e:y1(e,Wc))};function VF(n){var e,t=n.state,r=n.name,i=n.options,o=t.elements.arrow,l=t.modifiersData.popperOffsets,c=oi(t.placement),h=g_(c),p=[Mn,pr].indexOf(c)>=0,g=p?"height":"width";if(!(!o||!l)){var w=jF(i.padding,t),E=m_(o),S=h==="y"?Ln:Mn,R=h==="y"?fr:pr,k=t.rects.reference[g]+t.rects.reference[h]-l[h]-t.rects.popper[g],x=l[h]-t.rects.reference[h],L=Hc(o),U=L?h==="y"?L.clientHeight||0:L.clientWidth||0:0,B=k/2-x/2,q=w[S],X=U-E[g]-w[R],J=U/2-E[g]/2+B,N=rc(q,J,X),P=h;t.modifiersData[r]=(e={},e[P]=N,e.centerOffset=N-J,e)}}function FF(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||p1(e.elements.popper,i)&&(e.elements.arrow=i))}const UF={name:"arrow",enabled:!0,phase:"main",fn:VF,effect:FF,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Sl(n){return n.split("-")[1]}var $F={top:"auto",right:"auto",bottom:"auto",left:"auto"};function BF(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:Il(t*i)/i||0,y:Il(r*i)/i||0}}function xI(n){var e,t=n.popper,r=n.popperRect,i=n.placement,o=n.variation,l=n.offsets,c=n.position,h=n.gpuAcceleration,p=n.adaptive,g=n.roundOffsets,w=n.isFixed,E=l.x,S=E===void 0?0:E,R=l.y,k=R===void 0?0:R,x=typeof g=="function"?g({x:S,y:k}):{x:S,y:k};S=x.x,k=x.y;var L=l.hasOwnProperty("x"),U=l.hasOwnProperty("y"),B=Mn,q=Ln,X=window;if(p){var J=Hc(t),N="clientHeight",P="clientWidth";if(J===Yn(t)&&(J=uo(t),Hi(J).position!=="static"&&c==="absolute"&&(N="scrollHeight",P="scrollWidth")),J=J,i===Ln||(i===Mn||i===pr)&&o===Ec){q=fr;var b=w&&J===X&&X.visualViewport?X.visualViewport.height:J[N];k-=b-r.height,k*=h?1:-1}if(i===Mn||(i===Ln||i===fr)&&o===Ec){B=pr;var M=w&&J===X&&X.visualViewport?X.visualViewport.width:J[P];S-=M-r.width,S*=h?1:-1}}var j=Object.assign({position:c},p&&$F),V=g===!0?BF({x:S,y:k},Yn(t)):{x:S,y:k};if(S=V.x,k=V.y,h){var D;return Object.assign({},j,(D={},D[q]=U?"0":"",D[B]=L?"0":"",D.transform=(X.devicePixelRatio||1)<=1?"translate("+S+"px, "+k+"px)":"translate3d("+S+"px, "+k+"px, 0)",D))}return Object.assign({},j,(e={},e[q]=U?k+"px":"",e[B]=L?S+"px":"",e.transform="",e))}function zF(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,o=t.adaptive,l=o===void 0?!0:o,c=t.roundOffsets,h=c===void 0?!0:c,p={placement:oi(e.placement),variation:Sl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,xI(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,xI(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const WF={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:zF,data:{}};var _h={passive:!0};function HF(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,l=r.resize,c=l===void 0?!0:l,h=Yn(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&p.forEach(function(g){g.addEventListener("scroll",t.update,_h)}),c&&h.addEventListener("resize",t.update,_h),function(){o&&p.forEach(function(g){g.removeEventListener("scroll",t.update,_h)}),c&&h.removeEventListener("resize",t.update,_h)}}const qF={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:HF,data:{}};var KF={left:"right",right:"left",bottom:"top",top:"bottom"};function Vh(n){return n.replace(/left|right|bottom|top/g,function(e){return KF[e]})}var GF={start:"end",end:"start"};function RI(n){return n.replace(/start|end/g,function(e){return GF[e]})}function y_(n){var e=Yn(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function v_(n){return Cl(uo(n)).left+y_(n).scrollLeft}function QF(n,e){var t=Yn(n),r=uo(n),i=t.visualViewport,o=r.clientWidth,l=r.clientHeight,c=0,h=0;if(i){o=i.width,l=i.height;var p=f1();(p||!p&&e==="fixed")&&(c=i.offsetLeft,h=i.offsetTop)}return{width:o,height:l,x:c+v_(n),y:h}}function YF(n){var e,t=uo(n),r=y_(n),i=(e=n.ownerDocument)==null?void 0:e.body,o=Wo(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=Wo(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+v_(n),h=-r.scrollTop;return Hi(i||t).direction==="rtl"&&(c+=Wo(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:l,x:c,y:h}}function __(n){var e=Hi(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function v1(n){return["html","body","#document"].indexOf(no(n))>=0?n.ownerDocument.body:ai(n)&&__(n)?n:v1(cp(n))}function ic(n,e){var t;e===void 0&&(e=[]);var r=v1(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),o=Yn(r),l=i?[o].concat(o.visualViewport||[],__(r)?r:[]):r,c=e.concat(l);return i?c:c.concat(ic(cp(l)))}function Ty(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function XF(n,e){var t=Cl(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function AI(n,e,t){return e===d1?Ty(QF(n,t)):ea(e)?XF(e,t):Ty(YF(uo(n)))}function JF(n){var e=ic(cp(n)),t=["absolute","fixed"].indexOf(Hi(n).position)>=0,r=t&&ai(n)?Hc(n):n;return ea(r)?e.filter(function(i){return ea(i)&&p1(i,r)&&no(i)!=="body"}):[]}function ZF(n,e,t,r){var i=e==="clippingParents"?JF(n):[].concat(e),o=[].concat(i,[t]),l=o[0],c=o.reduce(function(h,p){var g=AI(n,p,r);return h.top=Wo(g.top,h.top),h.right=_f(g.right,h.right),h.bottom=_f(g.bottom,h.bottom),h.left=Wo(g.left,h.left),h},AI(n,l,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function _1(n){var e=n.reference,t=n.element,r=n.placement,i=r?oi(r):null,o=r?Sl(r):null,l=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,h;switch(i){case Ln:h={x:l,y:e.y-t.height};break;case fr:h={x:l,y:e.y+e.height};break;case pr:h={x:e.x+e.width,y:c};break;case Mn:h={x:e.x-t.width,y:c};break;default:h={x:e.x,y:e.y}}var p=i?g_(i):null;if(p!=null){var g=p==="y"?"height":"width";switch(o){case Tl:h[p]=h[p]-(e[g]/2-t[g]/2);break;case Ec:h[p]=h[p]+(e[g]/2-t[g]/2);break}}return h}function Tc(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,o=t.strategy,l=o===void 0?n.strategy:o,c=t.boundary,h=c===void 0?TF:c,p=t.rootBoundary,g=p===void 0?d1:p,w=t.elementContext,E=w===void 0?ju:w,S=t.altBoundary,R=S===void 0?!1:S,k=t.padding,x=k===void 0?0:k,L=g1(typeof x!="number"?x:y1(x,Wc)),U=E===ju?IF:ju,B=n.rects.popper,q=n.elements[R?U:E],X=ZF(ea(q)?q:q.contextElement||uo(n.elements.popper),h,g,l),J=Cl(n.elements.reference),N=_1({reference:J,element:B,placement:i}),P=Ty(Object.assign({},B,N)),b=E===ju?P:J,M={top:X.top-b.top+L.top,bottom:b.bottom-X.bottom+L.bottom,left:X.left-b.left+L.left,right:b.right-X.right+L.right},j=n.modifiersData.offset;if(E===ju&&j){var V=j[i];Object.keys(M).forEach(function(D){var le=[pr,fr].indexOf(D)>=0?1:-1,Se=[Ln,fr].indexOf(D)>=0?"y":"x";M[D]+=V[Se]*le})}return M}function e6(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,o=t.rootBoundary,l=t.padding,c=t.flipVariations,h=t.allowedAutoPlacements,p=h===void 0?h1:h,g=Sl(r),w=g?c?CI:CI.filter(function(R){return Sl(R)===g}):Wc,E=w.filter(function(R){return p.indexOf(R)>=0});E.length===0&&(E=w);var S=E.reduce(function(R,k){return R[k]=Tc(n,{placement:k,boundary:i,rootBoundary:o,padding:l})[oi(k)],R},{});return Object.keys(S).sort(function(R,k){return S[R]-S[k]})}function t6(n){if(oi(n)===f_)return[];var e=Vh(n);return[RI(n),e,RI(e)]}function n6(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!0:l,h=t.fallbackPlacements,p=t.padding,g=t.boundary,w=t.rootBoundary,E=t.altBoundary,S=t.flipVariations,R=S===void 0?!0:S,k=t.allowedAutoPlacements,x=e.options.placement,L=oi(x),U=L===x,B=h||(U||!R?[Vh(x)]:t6(x)),q=[x].concat(B).reduce(function(Ie,Ae){return Ie.concat(oi(Ae)===f_?e6(e,{placement:Ae,boundary:g,rootBoundary:w,padding:p,flipVariations:R,allowedAutoPlacements:k}):Ae)},[]),X=e.rects.reference,J=e.rects.popper,N=new Map,P=!0,b=q[0],M=0;M<q.length;M++){var j=q[M],V=oi(j),D=Sl(j)===Tl,le=[Ln,fr].indexOf(V)>=0,Se=le?"width":"height",Re=Tc(e,{placement:j,boundary:g,rootBoundary:w,altBoundary:E,padding:p}),Te=le?D?pr:Mn:D?fr:Ln;X[Se]>J[Se]&&(Te=Vh(Te));var ie=Vh(Te),ue=[];if(o&&ue.push(Re[V]<=0),c&&ue.push(Re[Te]<=0,Re[ie]<=0),ue.every(function(Ie){return Ie})){b=j,P=!1;break}N.set(j,ue)}if(P)for(var se=R?3:1,z=function(Ae){var De=q.find(function(je){var Oe=N.get(je);if(Oe)return Oe.slice(0,Ae).every(function(Ye){return Ye})});if(De)return b=De,"break"},Y=se;Y>0;Y--){var fe=z(Y);if(fe==="break")break}e.placement!==b&&(e.modifiersData[r]._skip=!0,e.placement=b,e.reset=!0)}}const r6={name:"flip",enabled:!0,phase:"main",fn:n6,requiresIfExists:["offset"],data:{_skip:!1}};function PI(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function kI(n){return[Ln,pr,fr,Mn].some(function(e){return n[e]>=0})}function i6(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,l=Tc(e,{elementContext:"reference"}),c=Tc(e,{altBoundary:!0}),h=PI(l,r),p=PI(c,i,o),g=kI(h),w=kI(p);e.modifiersData[t]={referenceClippingOffsets:h,popperEscapeOffsets:p,isReferenceHidden:g,hasPopperEscaped:w},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":w})}const s6={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:i6};function o6(n,e,t){var r=oi(n),i=[Mn,Ln].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=o[0],c=o[1];return l=l||0,c=(c||0)*i,[Mn,pr].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function a6(n){var e=n.state,t=n.options,r=n.name,i=t.offset,o=i===void 0?[0,0]:i,l=h1.reduce(function(g,w){return g[w]=o6(w,e.rects,o),g},{}),c=l[e.placement],h=c.x,p=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=l}const l6={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:a6};function u6(n){var e=n.state,t=n.name;e.modifiersData[t]=_1({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const c6={name:"popperOffsets",enabled:!0,phase:"read",fn:u6,data:{}};function d6(n){return n==="x"?"y":"x"}function h6(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!1:l,h=t.boundary,p=t.rootBoundary,g=t.altBoundary,w=t.padding,E=t.tether,S=E===void 0?!0:E,R=t.tetherOffset,k=R===void 0?0:R,x=Tc(e,{boundary:h,rootBoundary:p,padding:w,altBoundary:g}),L=oi(e.placement),U=Sl(e.placement),B=!U,q=g_(L),X=d6(q),J=e.modifiersData.popperOffsets,N=e.rects.reference,P=e.rects.popper,b=typeof k=="function"?k(Object.assign({},e.rects,{placement:e.placement})):k,M=typeof b=="number"?{mainAxis:b,altAxis:b}:Object.assign({mainAxis:0,altAxis:0},b),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(J){if(o){var D,le=q==="y"?Ln:Mn,Se=q==="y"?fr:pr,Re=q==="y"?"height":"width",Te=J[q],ie=Te+x[le],ue=Te-x[Se],se=S?-P[Re]/2:0,z=U===Tl?N[Re]:P[Re],Y=U===Tl?-P[Re]:-N[Re],fe=e.elements.arrow,Ie=S&&fe?m_(fe):{width:0,height:0},Ae=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:m1(),De=Ae[le],je=Ae[Se],Oe=rc(0,N[Re],Ie[Re]),Ye=B?N[Re]/2-se-Oe-De-M.mainAxis:z-Oe-De-M.mainAxis,At=B?-N[Re]/2+se+Oe+je+M.mainAxis:Y+Oe+je+M.mainAxis,jn=e.elements.arrow&&Hc(e.elements.arrow),Yi=jn?q==="y"?jn.clientTop||0:jn.clientLeft||0:0,gr=(D=j==null?void 0:j[q])!=null?D:0,hi=Te+Ye-gr-Yi,Xi=Te+At-gr,Ji=rc(S?_f(ie,hi):ie,Te,S?Wo(ue,Xi):ue);J[q]=Ji,V[q]=Ji-Te}if(c){var Zi,la=q==="x"?Ln:Mn,es=q==="x"?fr:pr,Kt=J[X],Tn=X==="y"?"height":"width",ts=Kt+x[la],fi=Kt-x[es],Ur=[Ln,Mn].indexOf(L)!==-1,ns=(Zi=j==null?void 0:j[X])!=null?Zi:0,_t=Ur?ts:Kt-N[Tn]-P[Tn]-ns+M.altAxis,wt=Ur?Kt+N[Tn]+P[Tn]-ns-M.altAxis:fi,Xn=S&&Ur?MF(_t,Kt,wt):rc(S?_t:ts,Kt,S?wt:fi);J[X]=Xn,V[X]=Xn-Kt}e.modifiersData[r]=V}}const f6={name:"preventOverflow",enabled:!0,phase:"main",fn:h6,requiresIfExists:["offset"]};function p6(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function m6(n){return n===Yn(n)||!ai(n)?y_(n):p6(n)}function g6(n){var e=n.getBoundingClientRect(),t=Il(e.width)/n.offsetWidth||1,r=Il(e.height)/n.offsetHeight||1;return t!==1||r!==1}function y6(n,e,t){t===void 0&&(t=!1);var r=ai(e),i=ai(e)&&g6(e),o=uo(e),l=Cl(n,i,t),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(r||!r&&!t)&&((no(e)!=="body"||__(o))&&(c=m6(e)),ai(e)?(h=Cl(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):o&&(h.x=v_(o))),{x:l.left+c.scrollLeft-h.x,y:l.top+c.scrollTop-h.y,width:l.width,height:l.height}}function v6(n){var e=new Map,t=new Set,r=[];n.forEach(function(o){e.set(o.name,o)});function i(o){t.add(o.name);var l=[].concat(o.requires||[],o.requiresIfExists||[]);l.forEach(function(c){if(!t.has(c)){var h=e.get(c);h&&i(h)}}),r.push(o)}return n.forEach(function(o){t.has(o.name)||i(o)}),r}function _6(n){var e=v6(n);return DF.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function w6(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function E6(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var bI={placement:"bottom",modifiers:[],strategy:"absolute"};function NI(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function T6(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,o=i===void 0?bI:i;return function(c,h,p){p===void 0&&(p=o);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},bI,o),modifiersData:{},elements:{reference:c,popper:h},attributes:{},styles:{}},w=[],E=!1,S={state:g,setOptions:function(L){var U=typeof L=="function"?L(g.options):L;k(),g.options=Object.assign({},o,g.options,U),g.scrollParents={reference:ea(c)?ic(c):c.contextElement?ic(c.contextElement):[],popper:ic(h)};var B=_6(E6([].concat(r,g.options.modifiers)));return g.orderedModifiers=B.filter(function(q){return q.enabled}),R(),S.update()},forceUpdate:function(){if(!E){var L=g.elements,U=L.reference,B=L.popper;if(NI(U,B)){g.rects={reference:y6(U,Hc(B),g.options.strategy==="fixed"),popper:m_(B)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(M){return g.modifiersData[M.name]=Object.assign({},M.data)});for(var q=0;q<g.orderedModifiers.length;q++){if(g.reset===!0){g.reset=!1,q=-1;continue}var X=g.orderedModifiers[q],J=X.fn,N=X.options,P=N===void 0?{}:N,b=X.name;typeof J=="function"&&(g=J({state:g,options:P,name:b,instance:S})||g)}}}},update:w6(function(){return new Promise(function(x){S.forceUpdate(),x(g)})}),destroy:function(){k(),E=!0}};if(!NI(c,h))return S;S.setOptions(p).then(function(x){!E&&p.onFirstUpdate&&p.onFirstUpdate(x)});function R(){g.orderedModifiers.forEach(function(x){var L=x.name,U=x.options,B=U===void 0?{}:U,q=x.effect;if(typeof q=="function"){var X=q({state:g,name:L,instance:S,options:B}),J=function(){};w.push(X||J)}})}function k(){w.forEach(function(x){return x()}),w=[]}return S}}const I6=T6({defaultModifiers:[s6,c6,WF,qF,l6,r6,f6,UF]}),C6=["enabled","placement","strategy","modifiers"];function S6(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const x6={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},R6={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,i=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&i==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${t.id}`:t.id)}}},A6=[];function P6(n,e,t={}){let{enabled:r=!0,placement:i="bottom",strategy:o="absolute",modifiers:l=A6}=t,c=S6(t,C6);const h=I.useRef(l),p=I.useRef(),g=I.useCallback(()=>{var x;(x=p.current)==null||x.update()},[]),w=I.useCallback(()=>{var x;(x=p.current)==null||x.forceUpdate()},[]),[E,S]=EF(I.useState({placement:i,update:g,forceUpdate:w,attributes:{},styles:{popper:{},arrow:{}}})),R=I.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:x})=>{const L={},U={};Object.keys(x.elements).forEach(B=>{L[B]=x.styles[B],U[B]=x.attributes[B]}),S({state:x,styles:L,attributes:U,update:g,forceUpdate:w,placement:x.placement})}}),[g,w,S]),k=I.useMemo(()=>(nc(h.current,l)||(h.current=l),h.current),[l]);return I.useEffect(()=>{!p.current||!r||p.current.setOptions({placement:i,strategy:o,modifiers:[...k,R,x6]})},[o,i,R,r,k]),I.useEffect(()=>{if(!(!r||n==null||e==null))return p.current=I6(n,e,Object.assign({},c,{placement:i,strategy:o,modifiers:[...k,R6,R]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,S(x=>Object.assign({},x,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),E}function DI(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function k6(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function wh(n,e,t,r){return c1(n,e,t,r),function(){k6(n,e,t,r)}}function b6(n){return n&&n.ownerDocument||document}var pg,OI;function N6(){if(OI)return pg;OI=1;var n=function(){};return pg=n,pg}var D6=N6();const O6=Ic(D6),LI=()=>{};function L6(n){return n.button===0}function M6(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const mg=n=>n&&("current"in n?n.current:n),MI={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function j6(n,e=LI,{disabled:t,clickTrigger:r="click"}={}){const i=I.useRef(!1),o=I.useRef(!1),l=I.useCallback(p=>{const g=mg(n);O6(!!g,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!g||M6(p)||!L6(p)||!!DI(g,p.target)||o.current,o.current=!1},[n]),c=zs(p=>{const g=mg(n);g&&DI(g,p.target)?o.current=!0:o.current=!1}),h=zs(p=>{i.current||e(p)});I.useEffect(()=>{var p,g;if(t||n==null)return;const w=b6(mg(n)),E=w.defaultView||window;let S=(p=E.event)!=null?p:(g=E.parent)==null?void 0:g.event,R=null;MI[r]&&(R=wh(w,MI[r],c,!0));const k=wh(w,r,l,!0),x=wh(w,r,U=>{if(U===S){S=void 0;return}h(U)});let L=[];return"ontouchstart"in w.documentElement&&(L=[].slice.call(w.body.children).map(U=>wh(U,"mousemove",LI))),()=>{R==null||R(),k(),x(),L.forEach(U=>U())}},[n,t,r,l,c,h])}function V6(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function F6(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function U6({enabled:n,enableEvents:e,placement:t,flip:r,offset:i,fixed:o,containerPadding:l,arrowElement:c,popperConfig:h={}}){var p,g,w,E,S;const R=V6(h.modifiers);return Object.assign({},h,{placement:t,enabled:n,strategy:o?"fixed":h.strategy,modifiers:F6(Object.assign({},R,{eventListeners:{enabled:e,options:(p=R.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},R.preventOverflow,{options:l?Object.assign({padding:l},(g=R.preventOverflow)==null?void 0:g.options):(w=R.preventOverflow)==null?void 0:w.options}),offset:{options:Object.assign({offset:i},(E=R.offset)==null?void 0:E.options)},arrow:Object.assign({},R.arrow,{enabled:!!c,options:Object.assign({},(S=R.arrow)==null?void 0:S.options,{element:c})}),flip:Object.assign({enabled:!!r},R.flip)}))})}const $6=["children","usePopper"];function B6(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const z6=()=>{};function w1(n={}){const e=I.useContext(up),[t,r]=_F(),i=I.useRef(!1),{flip:o,offset:l,rootCloseEvent:c,fixed:h=!1,placement:p,popperConfig:g={},enableEventListeners:w=!0,usePopper:E=!!e}=n,S=(e==null?void 0:e.show)==null?!!n.show:e.show;S&&!i.current&&(i.current=!0);const R=J=>{e==null||e.toggle(!1,J)},{placement:k,setMenu:x,menuElement:L,toggleElement:U}=e||{},B=P6(U,L,U6({placement:p||k||"bottom-start",enabled:E,enableEvents:w??S,offset:l,flip:o,fixed:h,arrowElement:t,popperConfig:g})),q=Object.assign({ref:x||z6,"aria-labelledby":U==null?void 0:U.id},B.attributes.popper,{style:B.styles.popper}),X={show:S,placement:k,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:E?B:null,arrowProps:E?Object.assign({ref:r},B.attributes.arrow,{style:B.styles.arrow}):{}};return j6(L,R,{clickTrigger:c,disabled:!S}),[q,X]}function E1(n){let{children:e,usePopper:t=!0}=n,r=B6(n,$6);const[i,o]=w1(Object.assign({},r,{usePopper:t}));return y.jsx(y.Fragment,{children:e(i,o)})}E1.displayName="DropdownMenu";const w_={prefix:String(Math.round(Math.random()*1e10)),current:0},T1=En.createContext(w_),W6=En.createContext(!1);let H6=!!(typeof window<"u"&&window.document&&window.document.createElement),gg=new WeakMap;function q6(n=!1){let e=I.useContext(T1),t=I.useRef(null);if(t.current===null&&!n){var r,i;let o=(i=En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let l=gg.get(o);l==null?gg.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==l.state&&(e.current=l.id,gg.delete(o))}t.current=++e.current}return t.current}function K6(n){let e=I.useContext(T1);e===w_&&!H6&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=q6(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function G6(n){let e=En.useId(),[t]=I.useState(Z6()),r=t?"react-aria":`react-aria${w_.prefix}`;return n||`${r}-${e}`}const Q6=typeof En.useId=="function"?G6:K6;function Y6(){return!1}function X6(){return!0}function J6(n){return()=>{}}function Z6(){return typeof En.useSyncExternalStore=="function"?En.useSyncExternalStore(J6,Y6,X6):I.useContext(W6)}const I1=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},jI=()=>{};function C1(){const n=Q6(),{show:e=!1,toggle:t=jI,setToggle:r,menuElement:i}=I.useContext(up)||{},o=I.useCallback(c=>{t(!e,c)},[e,t]),l={id:n,ref:r||jI,onClick:o,"aria-expanded":!!e};return i&&I1(i)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function S1({children:n}){const[e,t]=C1();return y.jsx(y.Fragment,{children:n(e,t)})}S1.displayName="DropdownToggle";const Iy=I.createContext(null),VI=(n,e=null)=>n!=null?String(n):e||null,x1=I.createContext(null);x1.displayName="NavContext";const e9=["as","disabled"];function t9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function n9(n){return!n||n.trim()==="#"}function E_({tagName:n,disabled:e,href:t,target:r,rel:i,role:o,onClick:l,tabIndex:c=0,type:h}){n||(t!=null||r!=null||i!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:h||"button",disabled:e},p];const g=E=>{if((e||n==="a"&&n9(t))&&E.preventDefault(),e){E.stopPropagation();return}l==null||l(E)},w=E=>{E.key===" "&&(E.preventDefault(),g(E))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:g,onKeyDown:w},p]}const R1=I.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=t9(n,e9);const[o,{tagName:l}]=E_(Object.assign({tagName:t,disabled:r},i));return y.jsx(l,Object.assign({},i,o,{ref:e}))});R1.displayName="Button";const r9="data-rr-ui-";function A1(n){return`${r9}${n}`}const i9=["eventKey","disabled","onClick","active","as"];function s9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function P1({key:n,href:e,active:t,disabled:r,onClick:i}){const o=I.useContext(Iy),l=I.useContext(x1),{activeKey:c}=l||{},h=VI(n,e),p=t==null&&n!=null?VI(c)===h:t;return[{onClick:zs(w=>{r||(i==null||i(w),o&&!w.isPropagationStopped()&&o(h,w))}),"aria-disabled":r||void 0,"aria-selected":p,[A1("dropdown-item")]:""},{isActive:p}]}const k1=I.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:i,active:o,as:l=R1}=n,c=s9(n,i9);const[h]=P1({key:t,href:c.href,disabled:r,onClick:i,active:o});return y.jsx(l,Object.assign({},c,{ref:e},h))});k1.displayName="DropdownItem";const b1=I.createContext(u1?window:void 0);b1.Provider;function o9(){return I.useContext(b1)}function FI(){const n=gF(),e=I.useRef(null),t=I.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function qc({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:i=`* [${A1("dropdown-item")}]`,focusFirstItemOnShow:o,placement:l="bottom-start",children:c}){const h=o9(),[p,g]=pF(e,n,r),[w,E]=FI(),S=w.current,[R,k]=FI(),x=R.current,L=mF(p),U=I.useRef(null),B=I.useRef(!1),q=I.useContext(Iy),X=I.useCallback((j,V,D=V==null?void 0:V.type)=>{g(j,{originalEvent:V,source:D})},[g]),J=zs((j,V)=>{t==null||t(j,V),X(!1,V,"select"),V.isPropagationStopped()||q==null||q(j,V)}),N=I.useMemo(()=>({toggle:X,placement:l,show:p,menuElement:S,toggleElement:x,setMenu:E,setToggle:k}),[X,l,p,S,x,E,k]);S&&L&&!p&&(B.current=S.contains(S.ownerDocument.activeElement));const P=zs(()=>{x&&x.focus&&x.focus()}),b=zs(()=>{const j=U.current;let V=o;if(V==null&&(V=w.current&&I1(w.current)?"keyboard":!1),V===!1||V==="keyboard"&&!/^key.+$/.test(j))return;const D=EI(w.current,i)[0];D&&D.focus&&D.focus()});I.useEffect(()=>{p?b():B.current&&(B.current=!1,P())},[p,B,P,b]),I.useEffect(()=>{U.current=null});const M=(j,V)=>{if(!w.current)return null;const D=EI(w.current,i);let le=D.indexOf(j)+V;return le=Math.max(0,Math.min(le,D.length)),D[le]};return vF(I.useCallback(()=>h.document,[h]),"keydown",j=>{var V,D;const{key:le}=j,Se=j.target,Re=(V=w.current)==null?void 0:V.contains(Se),Te=(D=R.current)==null?void 0:D.contains(Se);if(/input|textarea/i.test(Se.tagName)&&(le===" "||le!=="Escape"&&Re||le==="Escape"&&Se.type==="search")||!Re&&!Te||le==="Tab"&&(!w.current||!p))return;U.current=j.type;const ue={originalEvent:j,source:j.type};switch(le){case"ArrowUp":{const se=M(Se,-1);se&&se.focus&&se.focus(),j.preventDefault();return}case"ArrowDown":if(j.preventDefault(),!p)g(!0,ue);else{const se=M(Se,1);se&&se.focus&&se.focus()}return;case"Tab":c1(Se.ownerDocument,"keyup",se=>{var z;(se.key==="Tab"&&!se.target||!((z=w.current)!=null&&z.contains(se.target)))&&g(!1,ue)},{once:!0});break;case"Escape":le==="Escape"&&(j.preventDefault(),j.stopPropagation()),g(!1,ue);break}}),y.jsx(Iy.Provider,{value:J,children:y.jsx(up.Provider,{value:N,children:c})})}qc.displayName="Dropdown";qc.Menu=E1;qc.Toggle=S1;qc.Item=k1;function Cy(){return Cy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Cy.apply(null,arguments)}function a9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function UI(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function l9(n){var e=u9(n,"string");return typeof e=="symbol"?e:String(e)}function u9(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function c9(n,e,t){var r=I.useRef(n!==void 0),i=I.useState(e),o=i[0],l=i[1],c=n!==void 0,h=r.current;return r.current=c,!c&&h&&o!==e&&l(e),[c?n:o,I.useCallback(function(p){for(var g=arguments.length,w=new Array(g>1?g-1:0),E=1;E<g;E++)w[E-1]=arguments[E];t&&t.apply(void 0,[p].concat(w)),l(p)},[t])]}function d9(n,e){return Object.keys(e).reduce(function(t,r){var i,o=t,l=o[UI(r)],c=o[r],h=a9(o,[UI(r),r].map(l9)),p=e[r],g=c9(c,l,n[p]),w=g[0],E=g[1];return Cy({},h,(i={},i[r]=w,i[p]=E,i))},n)}function h9(n){const e=I.useRef(n);return I.useEffect(()=>{e.current=n},[n]),e}function f9(n){const e=h9(n);return I.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const T_=I.createContext({});T_.displayName="DropdownContext";const p9=["xxl","xl","lg","md","sm","xs"],m9="xs",Kc=I.createContext({prefixes:{},breakpoints:p9,minBreakpoint:m9}),{Consumer:w$,Provider:E$}=Kc;function Ze(n,e){const{prefixes:t}=I.useContext(Kc);return n||t[e]||e}function g9(){const{breakpoints:n}=I.useContext(Kc);return n}function y9(){const{minBreakpoint:n}=I.useContext(Kc);return n}function v9(){const{dir:n}=I.useContext(Kc);return n==="rtl"}const N1=I.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...i},o)=>(e=Ze(e,"dropdown-divider"),y.jsx(t,{ref:o,className:Ge(n,e),role:r,...i})));N1.displayName="DropdownDivider";const D1=I.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...i},o)=>(e=Ze(e,"dropdown-header"),y.jsx(t,{ref:o,className:Ge(n,e),role:r,...i})));D1.displayName="DropdownHeader";const _9=["onKeyDown"];function w9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function E9(n){return!n||n.trim()==="#"}const O1=I.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=w9(n,_9);const[i]=E_(Object.assign({tagName:"a"},r)),o=zs(l=>{i.onKeyDown(l),t==null||t(l)});return E9(r.href)||r.role==="button"?y.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:o})):y.jsx("a",Object.assign({ref:e},r,{onKeyDown:t}))});O1.displayName="Anchor";const L1=I.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:i,active:o,as:l=O1,...c},h)=>{const p=Ze(n,"dropdown-item"),[g,w]=P1({key:t,href:c.href,disabled:r,onClick:i,active:o});return y.jsx(l,{...c,...g,ref:h,className:Ge(e,p,w.isActive&&"active",r&&"disabled")})});L1.displayName="DropdownItem";const M1=I.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=Ze(e,"dropdown-item-text"),y.jsx(t,{ref:i,className:Ge(n,e),...r})));M1.displayName="DropdownItemText";const T9=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",I9=typeof document<"u",C9=I9||T9?I.useLayoutEffect:I.useEffect,$I=n=>!n||typeof n=="function"?n:e=>{n.current=e};function S9(n,e){const t=$I(n),r=$I(e);return i=>{t&&t(i),r&&r(i)}}function j1(n,e){return I.useMemo(()=>S9(n,e),[n,e])}const I_=I.createContext(null);I_.displayName="InputGroupContext";const V1=I.createContext(null);V1.displayName="NavbarContext";function F1(n,e){return n}var yg={exports:{}},vg,BI;function x9(){if(BI)return vg;BI=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vg=n,vg}var _g,zI;function R9(){if(zI)return _g;zI=1;var n=x9();function e(){}function t(){}return t.resetWarningCache=e,_g=function(){function r(l,c,h,p,g,w){if(w!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},_g}var WI;function A9(){return WI||(WI=1,yg.exports=R9()()),yg.exports}var P9=A9();const ul=Ic(P9);function U1(n,e,t){const r=t?"top-end":"top-start",i=t?"top-start":"top-end",o=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",c=t?"right-start":"left-start",h=t?"right-end":"left-end",p=t?"left-start":"right-start",g=t?"left-end":"right-end";let w=n?l:o;return e==="up"?w=n?i:r:e==="end"?w=n?g:p:e==="start"?w=n?h:c:e==="down-centered"?w="bottom":e==="up-centered"&&(w="top"),w}const $1=I.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:i=!0,show:o,renderOnMount:l,as:c="div",popperConfig:h,variant:p,...g},w)=>{let E=!1;const S=I.useContext(V1),R=Ze(n,"dropdown-menu"),{align:k,drop:x,isRTL:L}=I.useContext(T_);t=t||k;const U=I.useContext(I_),B=[];if(t)if(typeof t=="object"){const j=Object.keys(t);if(j.length){const V=j[0],D=t[V];E=D==="start",B.push(`${R}-${V}-${D}`)}}else t==="end"&&(E=!0);const q=U1(E,x,L),[X,{hasShown:J,popper:N,show:P,toggle:b}]=w1({flip:i,rootCloseEvent:r,show:o,usePopper:!S&&B.length===0,offset:[0,2],popperConfig:h,placement:q});if(X.ref=j1(F1(w),X.ref),C9(()=>{P&&(N==null||N.update())},[P]),!J&&!l&&!U)return null;typeof c!="string"&&(X.show=P,X.close=()=>b==null?void 0:b(!1),X.align=t);let M=g.style;return N!=null&&N.placement&&(M={...g.style,...X.style},g["x-placement"]=N.placement),y.jsx(c,{...g,...X,style:M,...(B.length||S)&&{"data-bs-popper":"static"},className:Ge(e,R,P&&"show",E&&`${R}-end`,p&&`${R}-${p}`,...B)})});$1.displayName="DropdownMenu";const Ms=I.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:o=!1,className:l,...c},h)=>{const p=Ze(e,"btn"),[g,{tagName:w}]=E_({tagName:n,disabled:o,...c}),E=w;return y.jsx(E,{...g,...c,ref:h,disabled:o,className:Ge(l,p,i&&"active",t&&`${p}-${t}`,r&&`${p}-${r}`,c.href&&o&&"disabled")})});Ms.displayName="Button";const B1=I.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:i=Ms,...o},l)=>{const c=Ze(n,"dropdown-toggle"),h=I.useContext(up);r!==void 0&&(o.bsPrefix=r);const[p]=C1();return p.ref=j1(p.ref,F1(l)),y.jsx(i,{className:Ge(t,c,e&&`${c}-split`,(h==null?void 0:h.show)&&"show"),...p,...o})});B1.displayName="DropdownToggle";const z1=I.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:i,className:o,align:l="start",onSelect:c,onToggle:h,focusFirstItemOnShow:p,as:g="div",navbar:w,autoClose:E=!0,...S}=d9(n,{show:"onToggle"}),R=I.useContext(I_),k=Ze(t,"dropdown"),x=v9(),L=N=>E===!1?N==="click":E==="inside"?N!=="rootClose":E==="outside"?N!=="select":!0,U=f9((N,P)=>{var b;!((b=P.originalEvent)==null||(b=b.target)==null)&&b.classList.contains("dropdown-toggle")&&P.source==="mousedown"||(P.originalEvent.currentTarget===document&&(P.source!=="keydown"||P.originalEvent.key==="Escape")&&(P.source="rootClose"),L(P.source)&&(h==null||h(N,P)))}),q=U1(l==="end",r,x),X=I.useMemo(()=>({align:l,drop:r,isRTL:x}),[l,r,x]),J={down:k,"down-centered":`${k}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return y.jsx(T_.Provider,{value:X,children:y.jsx(qc,{placement:q,show:i,onSelect:c,onToggle:U,focusFirstItemOnShow:p,itemSelector:`.${k}-item:not(.disabled):not(:disabled)`,children:R?S.children:y.jsx(g,{...S,ref:e,className:Ge(o,i&&"show",J[r])})})})});z1.displayName="Dropdown";const As=Object.assign(z1,{Toggle:B1,Menu:$1,Item:L1,ItemText:M1,Divider:N1,Header:D1}),k9=()=>{const n=mr(),{currentUser:e}=Qi(),{profile:t}=I.useContext(lp),r=async()=>{await h_(),n("/")};return y.jsxs(As,{children:[y.jsx(As.Toggle,{variant:"success",id:"dropdown-basic",children:y.jsx("img",{src:vy})}),y.jsxs(As.Menu,{children:[y.jsx(As.Item,{as:Tt,to:"/ProfileDashboard",children:"Profile"}),y.jsx(As.Item,{as:Tt,to:"/designerPage",children:"Designs"}),(e==null?void 0:e.isAdmin)&&y.jsx(As.Item,{as:Tt,to:"/Admin",children:"Admin"}),y.jsx(As.Item,{href:"#/action-3",children:"Action"}),y.jsx(As.Item,{onClick:r,children:"Log Out"})]})]})},dp=()=>{const{userLoggedIn:n}=Qi()||{userLoggedIn:!1},e=mr(),t=async()=>{await h_(),e("/")};return y.jsxs("div",{className:"nav",children:[y.jsx(Tt,{to:"/",children:y.jsx("div",{className:"logo",children:"URENO"})}),y.jsxs("div",{className:"Right",children:[y.jsxs("menu",{children:[y.jsx("li",{children:"AI Design"}),y.jsx("li",{children:"Architects & Designers"}),y.jsx("li",{children:"Projects"}),y.jsx("li",{children:"Messages"})]}),n?y.jsx("button",{className:"btn login-btn",onClick:t,children:"Log Out"}):y.jsx(Tt,{to:"/sign-in",children:y.jsx("button",{className:"btn login-btn",children:"Log In"})}),n?y.jsx(k9,{}):y.jsx("button",{className:"btn profile-btn",children:y.jsx("object",{data:vy,type:"image/svg+xml",children:y.jsx("img",{src:vy})})})]})]})};function b9(){return y.jsxs(y.Fragment,{children:[y.jsx("meta",{charSet:"UTF-8"}),y.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),y.jsx("title",{children:"Ureno"}),y.jsx(dp,{}),y.jsx("div",{className:"center-logo",children:y.jsxs("div",{className:"container",children:[y.jsx("h1",{children:"URENO"}),y.jsx("p",{children:"Renovation Made Simple"}),y.jsx("button",{className:"btn try-now",children:"Try it Now"})]})}),y.jsxs("div",{className:"services",children:[y.jsx("div",{className:"our-services",children:y.jsx("p",{children:"Our Services"})}),y.jsxs("div",{className:"floor-content",children:[y.jsx("div",{className:"flooring fadeInRight",children:y.jsx("p",{children:y.jsx(Tt,{to:"/product-page",children:y.jsx("img",{src:oF,alt:"light oak wooden floor"})})})}),y.jsxs("div",{className:"floor-txt fadeInRight",children:[y.jsx("h3",{children:"flooring"}),y.jsx("p",{children:"Lorem ipsum dolor sit amet. A reiciendis repellat in cupiditate temporibus est tenetur architecto sed voluptatibus saepe."})]})]}),y.jsxs("div",{className:"paint-content",children:[y.jsx("div",{className:"painting fadeInLeft",children:y.jsx("img",{src:aF,alt:"blue painted walls"})}),y.jsxs("div",{className:"paint-txt fadeInLeft",children:[y.jsx("h3",{children:"paint"}),y.jsx("p",{children:"Lorem ipsum dolor sit amet. A reiciendis repellat in cupiditate temporibus est tenetur architecto sed voluptatibus saepe."})]})]})]}),y.jsx(zc,{})]})}const W1=({productId:n,image:e,title:t,description:r,price:i,link:o})=>y.jsx("div",{className:"products",children:y.jsxs(Tt,{to:`/productDetail/${n}`,className:"container",children:[y.jsx("img",{src:e,alt:t}),y.jsx("div",{className:"prod-title",children:t}),y.jsx("p",{children:r}),y.jsx("p",{children:i})]})});W1.defaultProps={productId:"default-id",image:"../assets/images/defaultImage.jpg.webp",title:"Default Title",description:"No description available",price:"Price not available.",link:"/productDetail"};function N9(){const[n,e]=I.useState(0),{userLoggedIn:t}=Qi()||{userLoggedIn:!1},[r,i]=I.useState([]);return I.useEffect(()=>{(async()=>{const l=eo(),h=(await _l(Zs(l,"products"))).docs.map(p=>({id:p.id,...p.data()}));i(h)})()},[]),I.useEffect(()=>{const o=()=>{const l=document.querySelector(".nav");l&&e(l.offsetHeight)};return o(),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[]),y.jsxs(y.Fragment,{children:[y.jsx("meta",{charSet:"UTF-8"}),y.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),y.jsx("title",{children:"URENO"}),y.jsx(dp,{}),y.jsxs("div",{className:"body",children:[y.jsxs("div",{className:`main-content ${t?"logged-in":""}`,children:[y.jsx("h1",{children:"Flooring"}),y.jsxs("div",{className:"search",children:[y.jsx("div",{className:"input",children:y.jsx("input",{type:"text",className:"search-bar",placeholder:"Search"})}),y.jsx("div",{className:"filter",children:"Filter"})]}),y.jsx("p",{children:"Popular"}),y.jsx("div",{className:"products",children:r.map(o=>y.jsx(W1,{productId:o.id,image:o.image,title:o.title,description:o.description,price:o.price,link:o.link},o.id))})]}),y.jsx(zc,{})]})]})}function H1(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=H1(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function q1(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=H1(n))&&(r&&(r+=" "),r+=e);return r}const C_="-",D9=n=>{const e=L9(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const c=l.split(C_);return c[0]===""&&c.length!==1&&c.shift(),K1(c,e)||O9(l)},getConflictingClassGroupIds:(l,c)=>{const h=t[l]||[];return c&&r[l]?[...h,...r[l]]:h}}},K1=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?K1(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=n.join(C_);return(l=e.validators.find(({validator:c})=>c(o)))==null?void 0:l.classGroupId},HI=/^\[(.+)\]$/,O9=n=>{if(HI.test(n)){const e=HI.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},L9=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return j9(Object.entries(n.classGroups),t).forEach(([o,l])=>{Sy(l,r,o,e)}),r},Sy=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const o=i===""?e:qI(e,i);o.classGroupId=t;return}if(typeof i=="function"){if(M9(i)){Sy(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([o,l])=>{Sy(l,qI(e,o),t,r)})})},qI=(n,e)=>{let t=n;return e.split(C_).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},M9=n=>n.isThemeGetter,j9=(n,e)=>e?n.map(([t,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,c])=>[e+l,c])):o);return[t,i]}):n,V9=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(o,l)=>{t.set(o,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let l=t.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return i(o,l),l},set(o,l){t.has(o)?t.set(o,l):i(o,l)}}},G1="!",F9=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],o=e.length,l=c=>{const h=[];let p=0,g=0,w;for(let x=0;x<c.length;x++){let L=c[x];if(p===0){if(L===i&&(r||c.slice(x,x+o)===e)){h.push(c.slice(g,x)),g=x+o;continue}if(L==="/"){w=x;continue}}L==="["?p++:L==="]"&&p--}const E=h.length===0?c:c.substring(g),S=E.startsWith(G1),R=S?E.substring(1):E,k=w&&w>g?w-g:void 0;return{modifiers:h,hasImportantModifier:S,baseClassName:R,maybePostfixModifierPosition:k}};return t?c=>t({className:c,parseClassName:l}):l},U9=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},$9=n=>({cache:V9(n.cacheSize),parseClassName:F9(n),...D9(n)}),B9=/\s+/,z9=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],l=n.trim().split(B9);let c="";for(let h=l.length-1;h>=0;h-=1){const p=l[h],{modifiers:g,hasImportantModifier:w,baseClassName:E,maybePostfixModifierPosition:S}=t(p);let R=!!S,k=r(R?E.substring(0,S):E);if(!k){if(!R){c=p+(c.length>0?" "+c:c);continue}if(k=r(E),!k){c=p+(c.length>0?" "+c:c);continue}R=!1}const x=U9(g).join(":"),L=w?x+G1:x,U=L+k;if(o.includes(U))continue;o.push(U);const B=i(k,R);for(let q=0;q<B.length;++q){const X=B[q];o.push(L+X)}c=p+(c.length>0?" "+c:c)}return c};function W9(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Q1(e))&&(r&&(r+=" "),r+=t);return r}const Q1=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=Q1(n[r]))&&(t&&(t+=" "),t+=e);return t};function H9(n,...e){let t,r,i,o=l;function l(h){const p=e.reduce((g,w)=>w(g),n());return t=$9(p),r=t.cache.get,i=t.cache.set,o=c,c(h)}function c(h){const p=r(h);if(p)return p;const g=z9(h,t);return i(h,g),g}return function(){return o(W9.apply(null,arguments))}}const ut=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},Y1=/^\[(?:([a-z-]+):)?(.+)\]$/i,q9=/^\d+\/\d+$/,K9=new Set(["px","full","screen"]),G9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Q9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Y9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,X9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,J9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ai=n=>cl(n)||K9.has(n)||q9.test(n),Ps=n=>Fl(n,"length",oU),cl=n=>!!n&&!Number.isNaN(Number(n)),wg=n=>Fl(n,"number",cl),Vu=n=>!!n&&Number.isInteger(Number(n)),Z9=n=>n.endsWith("%")&&cl(n.slice(0,-1)),Ne=n=>Y1.test(n),ks=n=>G9.test(n),eU=new Set(["length","size","percentage"]),tU=n=>Fl(n,eU,X1),nU=n=>Fl(n,"position",X1),rU=new Set(["image","url"]),iU=n=>Fl(n,rU,lU),sU=n=>Fl(n,"",aU),Fu=()=>!0,Fl=(n,e,t)=>{const r=Y1.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},oU=n=>Q9.test(n)&&!Y9.test(n),X1=()=>!1,aU=n=>X9.test(n),lU=n=>J9.test(n),uU=()=>{const n=ut("colors"),e=ut("spacing"),t=ut("blur"),r=ut("brightness"),i=ut("borderColor"),o=ut("borderRadius"),l=ut("borderSpacing"),c=ut("borderWidth"),h=ut("contrast"),p=ut("grayscale"),g=ut("hueRotate"),w=ut("invert"),E=ut("gap"),S=ut("gradientColorStops"),R=ut("gradientColorStopPositions"),k=ut("inset"),x=ut("margin"),L=ut("opacity"),U=ut("padding"),B=ut("saturate"),q=ut("scale"),X=ut("sepia"),J=ut("skew"),N=ut("space"),P=ut("translate"),b=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",Ne,e],V=()=>[Ne,e],D=()=>["",Ai,Ps],le=()=>["auto",cl,Ne],Se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Re=()=>["solid","dashed","dotted","double","none"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>["start","end","center","between","around","evenly","stretch"],ue=()=>["","0",Ne],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[cl,Ne];return{cacheSize:500,separator:":",theme:{colors:[Fu],spacing:[Ai,Ps],blur:["none","",ks,Ne],brightness:z(),borderColor:[n],borderRadius:["none","","full",ks,Ne],borderSpacing:V(),borderWidth:D(),contrast:z(),grayscale:ue(),hueRotate:z(),invert:ue(),gap:V(),gradientColorStops:[n],gradientColorStopPositions:[Z9,Ps],inset:j(),margin:j(),opacity:z(),padding:V(),saturate:z(),scale:z(),sepia:ue(),skew:z(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[ks]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Se(),Ne]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[k]}],"inset-x":[{"inset-x":[k]}],"inset-y":[{"inset-y":[k]}],start:[{start:[k]}],end:[{end:[k]}],top:[{top:[k]}],right:[{right:[k]}],bottom:[{bottom:[k]}],left:[{left:[k]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vu,Ne]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:ue()}],shrink:[{shrink:ue()}],order:[{order:["first","last","none",Vu,Ne]}],"grid-cols":[{"grid-cols":[Fu]}],"col-start-end":[{col:["auto",{span:["full",Vu,Ne]},Ne]}],"col-start":[{"col-start":le()}],"col-end":[{"col-end":le()}],"grid-rows":[{"grid-rows":[Fu]}],"row-start-end":[{row:["auto",{span:[Vu,Ne]},Ne]}],"row-start":[{"row-start":le()}],"row-end":[{"row-end":le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...ie()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ie(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ie(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[U]}],px:[{px:[U]}],py:[{py:[U]}],ps:[{ps:[U]}],pe:[{pe:[U]}],pt:[{pt:[U]}],pr:[{pr:[U]}],pb:[{pb:[U]}],pl:[{pl:[U]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,e]}],"min-w":[{"min-w":[Ne,e,"min","max","fit"]}],"max-w":[{"max-w":[Ne,e,"none","full","min","max","fit","prose",{screen:[ks]},ks]}],h:[{h:[Ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ks,Ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wg]}],"font-family":[{font:[Fu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",cl,wg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ai,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[L]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[L]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ai,Ps]}],"underline-offset":[{"underline-offset":["auto",Ai,Ne]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[L]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Se(),nU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},iU]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[L]}],"border-style":[{border:[...Re(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[L]}],"divide-style":[{divide:Re()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Re()]}],"outline-offset":[{"outline-offset":[Ai,Ne]}],"outline-w":[{outline:[Ai,Ps]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[L]}],"ring-offset-w":[{"ring-offset":[Ai,Ps]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",ks,sU]}],"shadow-color":[{shadow:[Fu]}],opacity:[{opacity:[L]}],"mix-blend":[{"mix-blend":[...Te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Te()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",ks,Ne]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[w]}],saturate:[{saturate:[B]}],sepia:[{sepia:[X]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[L]}],"backdrop-saturate":[{"backdrop-saturate":[B]}],"backdrop-sepia":[{"backdrop-sepia":[X]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[q]}],"scale-x":[{"scale-x":[q]}],"scale-y":[{"scale-y":[q]}],rotate:[{rotate:[Vu,Ne]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[J]}],"skew-y":[{"skew-y":[J]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Ai,Ps,wg]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cU=H9(uU);function co(...n){return cU(q1(n))}const KI=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,GI=q1,J1=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return GI(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:o}=e,l=Object.keys(i).map(p=>{const g=t==null?void 0:t[p],w=o==null?void 0:o[p];if(g===null)return null;const E=KI(g)||KI(w);return i[p][E]}),c=t&&Object.entries(t).reduce((p,g)=>{let[w,E]=g;return E===void 0||(p[w]=E),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:w,className:E,...S}=g;return Object.entries(S).every(R=>{let[k,x]=R;return Array.isArray(x)?x.includes({...o,...c}[k]):{...o,...c}[k]===x})?[...p,w,E]:p},[]);return GI(n,l,h,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z1=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=I.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},h)=>I.createElement("svg",{ref:h,...hU,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Z1("lucide",i),...c},[...l.map(([p,g])=>I.createElement(p,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=(n,e)=>{const t=I.forwardRef(({className:r,...i},o)=>I.createElement(fU,{ref:o,iconNode:e,className:Z1(`lucide-${dU(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],mU=Gc("Bell",pU);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],yU=Gc("LoaderCircle",gU);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],_U=Gc("LogOut",vU);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],EU=Gc("Settings",wU);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],IU=Gc("X",TU),CU=J1("active:scale-95 inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-50 dark:focus:ring-slate-400 disabled:pointer-events-none dark:focus:ring-offset-slate-900",{variants:{variant:{default:"bg-zinc-900 text-zinc-100 hover:bg-zinc-800",destructive:"text-white hover:bg-red-600 dark:hover:bg-red-600",outline:"bg-zinc-100 text-zinc-900 hover:bg-zinc-200 outline outline-1 outline-zinc-300",subtle:"hover:bg-zinc-200 bg-zinc-100 text-zinc-900",ghost:"bg-transparent hover:bg-zinc-100 text-zinc-800 data-[state=open]:bg-transparent data-[state=open]:bg-transparent",link:"bg-transparent dark:bg-transparent underline-offset-4 hover:underline text-slate-900 dark:text-slate-100 hover:bg-transparent dark:hover:bg-transparent"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-2 rounded-md",xs:"h-8 px-1.5 rounded-sm",lg:"h-11 px-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),wf=I.forwardRef(({className:n,children:e,variant:t,isLoading:r,size:i,...o},l)=>y.jsxs("button",{className:co(CU({variant:t,size:i,className:n})),ref:l,disabled:r,...o,children:[r?y.jsx(yU,{className:"mr-2 h-4 w-4 animate-spin"}):null,e]}));wf.displayName="Button";const S_={logo:n=>y.jsx("svg",{width:"271.015",height:"70.315",viewBox:"-145.011144365309036 -30.49067544250989 331.0151672857927 130.31489419250988",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("g",{id:"svgGroup",strokeLinecap:"round",fillRule:"nonzero",fontSize:"9pt",stroke:"#000",strokeWidth:"0.25mm",fill:"#000",children:y.jsx("path",{d:"M 0.871 42.383 L 9.367 0 L 22.306 0 L 13.81 42.383 A 30.417 30.417 0 0 0 13.441 44.675 Q 11.706 59.082 27.58 59.082 A 25.912 25.912 0 0 0 35.582 57.938 Q 43.671 55.317 46.807 46.686 A 29.378 29.378 0 0 0 47.99 42.383 L 56.486 0 L 69.425 0 L 60.929 42.383 Q 56.437 64.922 36.013 69.272 A 51.3 51.3 0 0 1 25.333 70.312 Q -4.549 70.313 0.817 42.655 A 54.603 54.603 0 0 1 0.871 42.383 Z M 170.255 69.824 L 157.316 69.824 L 167.57 18.555 L 179.044 18.555 L 177.042 35.84 A 48.043 48.043 0 0 1 182.438 27.877 Q 190.364 18.555 200.871 18.555 Q 215.284 18.555 212.504 34.358 A 37.97 37.97 0 0 1 212.345 35.205 L 205.412 69.824 L 192.472 69.824 L 199.406 35.059 A 9.722 9.722 0 0 0 199.542 34.192 Q 200.038 29.64 195.123 29.082 A 13.143 13.143 0 0 0 193.644 29.004 A 12.397 12.397 0 0 0 186.867 31.196 Q 182.454 34.051 178.041 40.623 A 72.792 72.792 0 0 0 175.187 45.264 L 170.255 69.824 Z M 131.242 49.219 L 118.4 49.219 A 14.778 14.778 0 0 0 118.188 50.62 Q 117.295 59.57 129.826 59.57 A 32.356 32.356 0 0 0 147.217 54.447 A 40.076 40.076 0 0 0 149.064 53.223 L 147.013 63.477 A 29.1 29.1 0 0 1 133.997 69.204 A 40.091 40.091 0 0 1 126.798 69.824 A 35.673 35.673 0 0 1 118.704 68.991 Q 102.573 65.217 106.442 44.34 A 55.876 55.876 0 0 1 106.583 43.604 Q 111.086 21.176 131.247 18.829 A 42.614 42.614 0 0 1 136.173 18.555 A 46.684 46.684 0 0 1 142.691 18.969 Q 157.543 21.075 154.972 33.887 A 16.984 16.984 0 0 1 144.095 47.13 Q 140.663 48.501 136.2 48.972 A 47.285 47.285 0 0 1 131.242 49.219 Z M 120.304 39.746 L 133.244 39.746 Q 137.059 39.746 139.319 38.509 A 6.004 6.004 0 0 0 142.423 34.229 A 6.024 6.024 0 0 0 142.521 33.509 Q 142.836 29.111 135.517 28.744 A 27.909 27.909 0 0 0 134.122 28.711 A 15.659 15.659 0 0 0 128.354 29.709 Q 124.114 31.377 121.81 35.833 A 20.477 20.477 0 0 0 120.304 39.746 Z M 81.828 69.824 L 68.888 69.824 L 79.142 18.555 L 90.617 18.555 L 88.81 34.863 A 59.862 59.862 0 0 1 92.813 28.311 Q 97.632 21.541 102.816 19.469 A 12.42 12.42 0 0 1 107.462 18.555 L 105.265 29.492 A 13.431 13.431 0 0 0 97.693 31.996 Q 92.076 35.776 86.759 45.264 L 81.828 69.824 Z M 224.146 32.761 Q 230.67 20.161 245.33 18.365 A 41.947 41.947 0 0 1 250.431 18.066 A 34.33 34.33 0 0 1 258.326 18.89 Q 274.406 22.705 270.109 44.189 A 43.09 43.09 0 0 1 266.267 55.597 Q 259.743 68.173 245.083 69.966 A 42.024 42.024 0 0 1 239.982 70.264 Q 215.53 70.264 220.164 44.926 A 56.584 56.584 0 0 1 220.304 44.189 A 43.226 43.226 0 0 1 224.146 32.761 Z M 233.292 43.994 Q 230.07 60.059 242.033 60.059 A 12.969 12.969 0 0 0 253.572 53.783 Q 255.134 51.371 256.191 48.032 A 38.445 38.445 0 0 0 257.218 43.994 Q 259.879 30.648 251.601 28.666 A 13.851 13.851 0 0 0 248.38 28.32 Q 236.417 28.32 233.292 43.994 Z",vectorEffect:"non-scaling-stroke"})})}),google:n=>y.jsxs("svg",{...n,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),y.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),y.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),y.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),y.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]})},SU=1,xU=1e6;let Eg=0;function RU(){return Eg=(Eg+1)%Number.MAX_SAFE_INTEGER,Eg.toString()}const Tg=new Map,QI=n=>{if(Tg.has(n))return;const e=setTimeout(()=>{Tg.delete(n),sc({type:"REMOVE_TOAST",toastId:n})},xU);Tg.set(n,e)},AU=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,SU)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?QI(t):n.toasts.forEach(r=>{QI(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Fh=[];let Uh={toasts:[]};function sc(n){Uh=AU(Uh,n),Fh.forEach(e=>{e(Uh)})}function PU({...n}){const e=RU(),t=i=>sc({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>sc({type:"DISMISS_TOAST",toastId:e});return sc({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function eA(){const[n,e]=I.useState(Uh);return I.useEffect(()=>(Fh.push(e),()=>{const t=Fh.indexOf(e);t>-1&&Fh.splice(t,1)}),[n]),{...n,toast:PU,dismiss:t=>sc({type:"DISMISS_TOAST",toastId:t})}}function qn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function YI(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function tA(...n){return e=>{let t=!1;const r=n.map(i=>{const o=YI(i,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():YI(n[i],null)}}}}function ta(...n){return I.useCallback(tA(...n),n)}function nA(n,e=[]){let t=[];function r(o,l){const c=I.createContext(l),h=t.length;t=[...t,l];const p=w=>{var L;const{scope:E,children:S,...R}=w,k=((L=E==null?void 0:E[n])==null?void 0:L[h])||c,x=I.useMemo(()=>R,Object.values(R));return y.jsx(k.Provider,{value:x,children:S})};p.displayName=o+"Provider";function g(w,E){var k;const S=((k=E==null?void 0:E[n])==null?void 0:k[h])||c,R=I.useContext(S);if(R)return R;if(l!==void 0)return l;throw new Error(`\`${w}\` must be used within \`${o}\``)}return[p,g]}const i=()=>{const o=t.map(l=>I.createContext(l));return function(c){const h=(c==null?void 0:c[n])||o;return I.useMemo(()=>({[`__scope${n}`]:{...c,[n]:h}}),[c,h])}};return i.scopeName=n,[r,kU(i,...e)]}function kU(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((c,{useScope:h,scopeName:p})=>{const w=h(o)[`__scope${p}`];return{...c,...w}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var Ef=I.forwardRef((n,e)=>{const{children:t,...r}=n,i=I.Children.toArray(t),o=i.find(NU);if(o){const l=o.props.children,c=i.map(h=>h===o?I.Children.count(l)>1?I.Children.only(null):I.isValidElement(l)?l.props.children:null:h);return y.jsx(xy,{...r,ref:e,children:I.isValidElement(l)?I.cloneElement(l,void 0,c):null})}return y.jsx(xy,{...r,ref:e,children:t})});Ef.displayName="Slot";var xy=I.forwardRef((n,e)=>{const{children:t,...r}=n;if(I.isValidElement(t)){const i=OU(t),o=DU(r,t.props);return t.type!==I.Fragment&&(o.ref=e?tA(e,i):i),I.cloneElement(t,o)}return I.Children.count(t)>1?I.Children.only(null):null});xy.displayName="SlotClone";var bU=({children:n})=>y.jsx(y.Fragment,{children:n});function NU(n){return I.isValidElement(n)&&n.type===bU}function DU(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...c)=>{o(...c),i(...c)}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function OU(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function LU(n){const e=n+"CollectionProvider",[t,r]=nA(e),[i,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:R,children:k}=S,x=En.useRef(null),L=En.useRef(new Map).current;return y.jsx(i,{scope:R,itemMap:L,collectionRef:x,children:k})};l.displayName=e;const c=n+"CollectionSlot",h=En.forwardRef((S,R)=>{const{scope:k,children:x}=S,L=o(c,k),U=ta(R,L.collectionRef);return y.jsx(Ef,{ref:U,children:x})});h.displayName=c;const p=n+"CollectionItemSlot",g="data-radix-collection-item",w=En.forwardRef((S,R)=>{const{scope:k,children:x,...L}=S,U=En.useRef(null),B=ta(R,U),q=o(p,k);return En.useEffect(()=>(q.itemMap.set(U,{ref:U,...L}),()=>void q.itemMap.delete(U))),y.jsx(Ef,{[g]:"",ref:B,children:x})});w.displayName=p;function E(S){const R=o(n+"CollectionConsumer",S);return En.useCallback(()=>{const x=R.collectionRef.current;if(!x)return[];const L=Array.from(x.querySelectorAll(`[${g}]`));return Array.from(R.itemMap.values()).sort((q,X)=>L.indexOf(q.ref.current)-L.indexOf(X.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:l,Slot:h,ItemSlot:w},E,r]}var MU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],di=MU.reduce((n,e)=>{const t=I.forwardRef((r,i)=>{const{asChild:o,...l}=r,c=o?Ef:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(c,{...l,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function rA(n,e){n&&Uy.flushSync(()=>n.dispatchEvent(e))}function qi(n){const e=I.useRef(n);return I.useEffect(()=>{e.current=n}),I.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function jU(n,e=globalThis==null?void 0:globalThis.document){const t=qi(n);I.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var VU="DismissableLayer",Ry="dismissableLayer.update",FU="dismissableLayer.pointerDownOutside",UU="dismissableLayer.focusOutside",XI,iA=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sA=I.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...h}=n,p=I.useContext(iA),[g,w]=I.useState(null),E=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=I.useState({}),R=ta(e,N=>w(N)),k=Array.from(p.layers),[x]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),L=k.indexOf(x),U=g?k.indexOf(g):-1,B=p.layersWithOutsidePointerEventsDisabled.size>0,q=U>=L,X=BU(N=>{const P=N.target,b=[...p.branches].some(M=>M.contains(P));!q||b||(i==null||i(N),l==null||l(N),N.defaultPrevented||c==null||c())},E),J=zU(N=>{const P=N.target;[...p.branches].some(M=>M.contains(P))||(o==null||o(N),l==null||l(N),N.defaultPrevented||c==null||c())},E);return jU(N=>{U===p.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&c&&(N.preventDefault(),c()))},E),I.useEffect(()=>{if(g)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(XI=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),JI(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=XI)}},[g,E,t,p]),I.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),JI())},[g,p]),I.useEffect(()=>{const N=()=>S({});return document.addEventListener(Ry,N),()=>document.removeEventListener(Ry,N)},[]),y.jsx(di.div,{...h,ref:R,style:{pointerEvents:B?q?"auto":"none":void 0,...n.style},onFocusCapture:qn(n.onFocusCapture,J.onFocusCapture),onBlurCapture:qn(n.onBlurCapture,J.onBlurCapture),onPointerDownCapture:qn(n.onPointerDownCapture,X.onPointerDownCapture)})});sA.displayName=VU;var $U="DismissableLayerBranch",oA=I.forwardRef((n,e)=>{const t=I.useContext(iA),r=I.useRef(null),i=ta(e,r);return I.useEffect(()=>{const o=r.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),y.jsx(di.div,{...n,ref:i})});oA.displayName=$U;function BU(n,e=globalThis==null?void 0:globalThis.document){const t=qi(n),r=I.useRef(!1),i=I.useRef(()=>{});return I.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let h=function(){aA(FU,t,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function zU(n,e=globalThis==null?void 0:globalThis.document){const t=qi(n),r=I.useRef(!1);return I.useEffect(()=>{const i=o=>{o.target&&!r.current&&aA(UU,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function JI(){const n=new CustomEvent(Ry);document.dispatchEvent(n)}function aA(n,e,t,{discrete:r}){const i=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?rA(i,o):i.dispatchEvent(o)}var WU=sA,HU=oA,Tf=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},qU="Portal",lA=I.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[i,o]=I.useState(!1);Tf(()=>o(!0),[]);const l=t||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?ib.createPortal(y.jsx(di.div,{...r,ref:e}),l):null});lA.displayName=qU;function KU(n,e){return I.useReducer((t,r)=>e[t][r]??t,n)}var uA=n=>{const{present:e,children:t}=n,r=GU(e),i=typeof t=="function"?t({present:r.isPresent}):I.Children.only(t),o=ta(r.ref,QU(i));return typeof t=="function"||r.isPresent?I.cloneElement(i,{ref:o}):null};uA.displayName="Presence";function GU(n){const[e,t]=I.useState(),r=I.useRef({}),i=I.useRef(n),o=I.useRef("none"),l=n?"mounted":"unmounted",[c,h]=KU(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const p=Eh(r.current);o.current=c==="mounted"?p:"none"},[c]),Tf(()=>{const p=r.current,g=i.current;if(g!==n){const E=o.current,S=Eh(p);n?h("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(g&&E!==S?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,h]),Tf(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,w=S=>{const k=Eh(r.current).includes(S.animationName);if(S.target===e&&k&&(h("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},E=S=>{S.target===e&&(o.current=Eh(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:I.useCallback(p=>{p&&(r.current=getComputedStyle(p)),t(p)},[])}}function Eh(n){return(n==null?void 0:n.animationName)||"none"}function QU(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function YU({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=XU({defaultProp:e,onChange:t}),o=n!==void 0,l=o?n:r,c=qi(t),h=I.useCallback(p=>{if(o){const w=typeof p=="function"?p(n):p;w!==n&&c(w)}else i(p)},[o,n,i,c]);return[l,h]}function XU({defaultProp:n,onChange:e}){const t=I.useState(n),[r]=t,i=I.useRef(r),o=qi(e);return I.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),t}var JU="VisuallyHidden",x_=I.forwardRef((n,e)=>y.jsx(di.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));x_.displayName=JU;var R_="ToastProvider",[A_,ZU,e5]=LU("Toast"),[cA,T$]=nA("Toast",[e5]),[t5,hp]=cA(R_),dA=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:l}=n,[c,h]=I.useState(null),[p,g]=I.useState(0),w=I.useRef(!1),E=I.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${R_}\`. Expected non-empty \`string\`.`),y.jsx(A_.Provider,{scope:e,children:y.jsx(t5,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:p,viewport:c,onViewportChange:h,onToastAdd:I.useCallback(()=>g(S=>S+1),[]),onToastRemove:I.useCallback(()=>g(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:E,children:l})})};dA.displayName=R_;var hA="ToastViewport",n5=["F8"],Ay="toast.viewportPause",Py="toast.viewportResume",fA=I.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=n5,label:i="Notifications ({hotkey})",...o}=n,l=hp(hA,t),c=ZU(t),h=I.useRef(null),p=I.useRef(null),g=I.useRef(null),w=I.useRef(null),E=ta(e,w,l.onViewportChange),S=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=l.toastCount>0;I.useEffect(()=>{const x=L=>{var B;r.length!==0&&r.every(q=>L[q]||L.code===q)&&((B=w.current)==null||B.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),I.useEffect(()=>{const x=h.current,L=w.current;if(R&&x&&L){const U=()=>{if(!l.isClosePausedRef.current){const J=new CustomEvent(Ay);L.dispatchEvent(J),l.isClosePausedRef.current=!0}},B=()=>{if(l.isClosePausedRef.current){const J=new CustomEvent(Py);L.dispatchEvent(J),l.isClosePausedRef.current=!1}},q=J=>{!x.contains(J.relatedTarget)&&B()},X=()=>{x.contains(document.activeElement)||B()};return x.addEventListener("focusin",U),x.addEventListener("focusout",q),x.addEventListener("pointermove",U),x.addEventListener("pointerleave",X),window.addEventListener("blur",U),window.addEventListener("focus",B),()=>{x.removeEventListener("focusin",U),x.removeEventListener("focusout",q),x.removeEventListener("pointermove",U),x.removeEventListener("pointerleave",X),window.removeEventListener("blur",U),window.removeEventListener("focus",B)}}},[R,l.isClosePausedRef]);const k=I.useCallback(({tabbingDirection:x})=>{const U=c().map(B=>{const q=B.ref.current,X=[q,...m5(q)];return x==="forwards"?X:X.reverse()});return(x==="forwards"?U.reverse():U).flat()},[c]);return I.useEffect(()=>{const x=w.current;if(x){const L=U=>{var X,J,N;const B=U.altKey||U.ctrlKey||U.metaKey;if(U.key==="Tab"&&!B){const P=document.activeElement,b=U.shiftKey;if(U.target===x&&b){(X=p.current)==null||X.focus();return}const V=k({tabbingDirection:b?"backwards":"forwards"}),D=V.findIndex(le=>le===P);Ig(V.slice(D+1))?U.preventDefault():b?(J=p.current)==null||J.focus():(N=g.current)==null||N.focus()}};return x.addEventListener("keydown",L),()=>x.removeEventListener("keydown",L)}},[c,k]),y.jsxs(HU,{ref:h,role:"region","aria-label":i.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&y.jsx(ky,{ref:p,onFocusFromOutsideViewport:()=>{const x=k({tabbingDirection:"forwards"});Ig(x)}}),y.jsx(A_.Slot,{scope:t,children:y.jsx(di.ol,{tabIndex:-1,...o,ref:E})}),R&&y.jsx(ky,{ref:g,onFocusFromOutsideViewport:()=>{const x=k({tabbingDirection:"backwards"});Ig(x)}})]})});fA.displayName=hA;var pA="ToastFocusProxy",ky=I.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,o=hp(pA,t);return y.jsx(x_,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:l=>{var p;const c=l.relatedTarget;!((p=o.viewport)!=null&&p.contains(c))&&r()}})});ky.displayName=pA;var fp="Toast",r5="toast.swipeStart",i5="toast.swipeMove",s5="toast.swipeCancel",o5="toast.swipeEnd",mA=I.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:o,...l}=n,[c=!0,h]=YU({prop:r,defaultProp:i,onChange:o});return y.jsx(uA,{present:t||c,children:y.jsx(u5,{open:c,...l,ref:e,onClose:()=>h(!1),onPause:qi(n.onPause),onResume:qi(n.onResume),onSwipeStart:qn(n.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qn(n.onSwipeMove,p=>{const{x:g,y:w}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:qn(n.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qn(n.onSwipeEnd,p=>{const{x:g,y:w}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),h(!1)})})})});mA.displayName=fp;var[a5,l5]=cA(fp,{onClose(){}}),u5=I.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:o,onClose:l,onEscapeKeyDown:c,onPause:h,onResume:p,onSwipeStart:g,onSwipeMove:w,onSwipeCancel:E,onSwipeEnd:S,...R}=n,k=hp(fp,t),[x,L]=I.useState(null),U=ta(e,le=>L(le)),B=I.useRef(null),q=I.useRef(null),X=i||k.duration,J=I.useRef(0),N=I.useRef(X),P=I.useRef(0),{onToastAdd:b,onToastRemove:M}=k,j=qi(()=>{var Se;(x==null?void 0:x.contains(document.activeElement))&&((Se=k.viewport)==null||Se.focus()),l()}),V=I.useCallback(le=>{!le||le===1/0||(window.clearTimeout(P.current),J.current=new Date().getTime(),P.current=window.setTimeout(j,le))},[j]);I.useEffect(()=>{const le=k.viewport;if(le){const Se=()=>{V(N.current),p==null||p()},Re=()=>{const Te=new Date().getTime()-J.current;N.current=N.current-Te,window.clearTimeout(P.current),h==null||h()};return le.addEventListener(Ay,Re),le.addEventListener(Py,Se),()=>{le.removeEventListener(Ay,Re),le.removeEventListener(Py,Se)}}},[k.viewport,X,h,p,V]),I.useEffect(()=>{o&&!k.isClosePausedRef.current&&V(X)},[o,X,k.isClosePausedRef,V]),I.useEffect(()=>(b(),()=>M()),[b,M]);const D=I.useMemo(()=>x?TA(x):null,[x]);return k.viewport?y.jsxs(y.Fragment,{children:[D&&y.jsx(c5,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),y.jsx(a5,{scope:t,onClose:j,children:Uy.createPortal(y.jsx(A_.ItemSlot,{scope:t,children:y.jsx(WU,{asChild:!0,onEscapeKeyDown:qn(c,()=>{k.isFocusedToastEscapeKeyDownRef.current||j(),k.isFocusedToastEscapeKeyDownRef.current=!1}),children:y.jsx(di.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":k.swipeDirection,...R,ref:U,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:qn(n.onKeyDown,le=>{le.key==="Escape"&&(c==null||c(le.nativeEvent),le.nativeEvent.defaultPrevented||(k.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:qn(n.onPointerDown,le=>{le.button===0&&(B.current={x:le.clientX,y:le.clientY})}),onPointerMove:qn(n.onPointerMove,le=>{if(!B.current)return;const Se=le.clientX-B.current.x,Re=le.clientY-B.current.y,Te=!!q.current,ie=["left","right"].includes(k.swipeDirection),ue=["left","up"].includes(k.swipeDirection)?Math.min:Math.max,se=ie?ue(0,Se):0,z=ie?0:ue(0,Re),Y=le.pointerType==="touch"?10:2,fe={x:se,y:z},Ie={originalEvent:le,delta:fe};Te?(q.current=fe,Th(i5,w,Ie,{discrete:!1})):ZI(fe,k.swipeDirection,Y)?(q.current=fe,Th(r5,g,Ie,{discrete:!1}),le.target.setPointerCapture(le.pointerId)):(Math.abs(Se)>Y||Math.abs(Re)>Y)&&(B.current=null)}),onPointerUp:qn(n.onPointerUp,le=>{const Se=q.current,Re=le.target;if(Re.hasPointerCapture(le.pointerId)&&Re.releasePointerCapture(le.pointerId),q.current=null,B.current=null,Se){const Te=le.currentTarget,ie={originalEvent:le,delta:Se};ZI(Se,k.swipeDirection,k.swipeThreshold)?Th(o5,S,ie,{discrete:!0}):Th(s5,E,ie,{discrete:!0}),Te.addEventListener("click",ue=>ue.preventDefault(),{once:!0})}})})})}),k.viewport)})]}):null}),c5=n=>{const{__scopeToast:e,children:t,...r}=n,i=hp(fp,e),[o,l]=I.useState(!1),[c,h]=I.useState(!1);return f5(()=>l(!0)),I.useEffect(()=>{const p=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(p)},[]),c?null:y.jsx(lA,{asChild:!0,children:y.jsx(x_,{...r,children:o&&y.jsxs(y.Fragment,{children:[i.label," ",t]})})})},d5="ToastTitle",gA=I.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return y.jsx(di.div,{...r,ref:e})});gA.displayName=d5;var h5="ToastDescription",yA=I.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return y.jsx(di.div,{...r,ref:e})});yA.displayName=h5;var vA="ToastAction",_A=I.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?y.jsx(EA,{altText:t,asChild:!0,children:y.jsx(P_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${vA}\`. Expected non-empty \`string\`.`),null)});_A.displayName=vA;var wA="ToastClose",P_=I.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=l5(wA,t);return y.jsx(EA,{asChild:!0,children:y.jsx(di.button,{type:"button",...r,ref:e,onClick:qn(n.onClick,i.onClose)})})});P_.displayName=wA;var EA=I.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return y.jsx(di.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function TA(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),p5(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...TA(r))}}),e}function Th(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,o=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?rA(i,o):i.dispatchEvent(o)}var ZI=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),o=r>i;return e==="left"||e==="right"?o&&r>t:!o&&i>t};function f5(n=()=>{}){const e=qi(n);Tf(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function p5(n){return n.nodeType===n.ELEMENT_NODE}function m5(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Ig(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var g5=dA,IA=fA,CA=mA,SA=gA,xA=yA,RA=_A,AA=P_;const y5=g5,PA=I.forwardRef(({className:n,...e},t)=>y.jsx(IA,{ref:t,className:co("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));PA.displayName=IA.displayName;const v5=J1("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),kA=I.forwardRef(({className:n,variant:e,...t},r)=>y.jsx(CA,{ref:r,className:co(v5({variant:e}),n),...t}));kA.displayName=CA.displayName;const _5=I.forwardRef(({className:n,...e},t)=>y.jsx(RA,{ref:t,className:co("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));_5.displayName=RA.displayName;const bA=I.forwardRef(({className:n,...e},t)=>y.jsx(AA,{ref:t,className:co("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:y.jsx(IU,{className:"h-4 w-4"})}));bA.displayName=AA.displayName;const NA=I.forwardRef(({className:n,...e},t)=>y.jsx(SA,{ref:t,className:co("text-sm font-semibold [&+div]:text-xs",n),...e}));NA.displayName=SA.displayName;const DA=I.forwardRef(({className:n,...e},t)=>y.jsx(xA,{ref:t,className:co("text-sm opacity-90",n),...e}));DA.displayName=xA.displayName;function w5(){const{toasts:n}=eA();return y.jsxs(y5,{children:[n.map(function({id:e,title:t,description:r,action:i,...o}){return y.jsxs(kA,{...o,children:[y.jsxs("div",{className:"grid gap-1",children:[t&&y.jsx(NA,{children:t}),r&&y.jsx(DA,{children:r})]}),i,y.jsx(bA,{})]},e)}),y.jsx(PA,{})]})}const E5=({className:n,...e})=>{const{userLoggedIn:t}=Qi()||{userLoggedIn:!1},r=mr(),[i,o]=I.useState(""),[l,c]=I.useState(""),[h,p]=I.useState(!1),{toast:g}=eA();I.useEffect(()=>{console.log("Auth state changed: userLoggedIn = ",t),t&&r("/")},[t,r]);const w=async()=>{p(!0);try{const S=await cF();r("/")}catch(S){console.error("Google sign-in error:",S),g({title:"There was a problem.",description:"THere was an error logging in with Google",variant:"destructive"})}finally{p(!1),console.log("Logged in: ",t)}},E=async(S,R)=>{p(!0);try{const k=await uF(S,R);r("/"),g({title:"Success!",description:"Logged in",variant:"default"})}catch(k){let x="Error logging in with email and password";console.log(k.code),k.code==="auth/invalid-credential"?x="Incorrect email or password. Please try again.":k.code==="auth/user-not-found"?x="No account found with this email.":k.code==="auth/invalid-email"?x="Invalid email format":k.code==="auth/too-many-requests"&&(x="Too many failed login attempts. Try again later."),g({title:"There was a problem.",description:x,variant:"destructive"})}finally{p(!1),console.log("Logged in: ",t)}};return y.jsxs(y.Fragment,{children:[y.jsx(w5,{}),y.jsx("div",{className:co("flex flex-col items-center space-y-4 justify-center",n),...e,children:y.jsxs("div",{className:"flex flex-col space-y-4",children:[y.jsx("input",{type:"email",value:i,onChange:S=>o(S.currentTarget.value),placeholder:"Email",className:"input"}),y.jsx("input",{type:"password",value:l,onChange:S=>c(S.target.value),placeholder:"Password",className:"input"}),y.jsx(wf,{onClick:()=>E(i,l),isLoading:h,size:"sm",className:"w-full",children:"Login with Email"}),y.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[y.jsx("span",{className:"flex-grow border-t border-gray-300"}),y.jsx("span",{className:"px-3",children:" Or Login with Google "}),y.jsx("span",{className:"flex-grow border-t border-gray-300"})]}),y.jsxs(wf,{onClick:w,isLoading:h,size:"sm",className:"w-full",children:[h?null:y.jsx(S_.google,{className:"sh-4 w-4 mr-2"}),"Google"]})]})})]})},T5=()=>{const n=mr();return y.jsx("div",{className:"flex items-center justify-center h-screen w-full px-4",children:y.jsx("div",{className:"w-full max-w-sm space-y-6 text-center",children:y.jsxs("div",{className:"flex flex-col space-y-2 text-center",children:[y.jsx("div",{className:"w-full flex justify-center",children:y.jsx("button",{onClick:()=>n("/"),"aria-label":"Go to home",children:y.jsx(S_.logo,{className:"h-12 w-auto"})})}),y.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Welcome back"}),y.jsx(E5,{}),y.jsxs("p",{className:"px-8 text-center text-sm text-zinc-700",children:["New to Ureno?"," ",y.jsx(Tt,{to:"/sign-up",className:"hover:text-zinc-800 text-sm underline underline-offset-4",children:"Sign Up"})]}),y.jsxs("p",{className:"text-sm max-w-xs mx-auto text-gray-500",children:["By clicking create account, you agree to our ",y.jsx("a",{href:"",className:"underline",children:"Terms of Service"})," and ",y.jsx("a",{href:"",className:"underline",children:"Privacy Policy"})]})]})})})},I5=()=>{const n=mr();eF();const{userLoggedIn:e,loading:t}=Qi(),[r,i]=I.useState(""),[o,l]=I.useState(""),[c,h]=I.useState(""),[p,g]=I.useState(!1),[w,E]=I.useState(!1),[S,R]=I.useState(""),[k,x]=I.useState(""),[L,U]=I.useState(""),[B,q]=I.useState(!1),[X,J]=I.useState(""),N=async b=>{if(b.preventDefault(),!B){if(J(""),q(!0),k!==L){J("Passwords don't match"),q(!1);return}try{const j=(await lF(S,k)).user;await Vg(j,{displayName:`${r} ${o}`}),await c_(j.uid,r,o,S,c),n("/"),console.log(e)}catch{J("There was a problem creating your account"),q(!1)}}},P=async()=>{E(!0);try{const b=await doSignInWithGoogle();n("/")}catch{toast({title:"THere was a problem.",description:"THere was an error logging in with Google",variant:"destructive"})}finally{E(!1),console.log("Logged in: ",e)}};return I.useEffect(()=>{p&&(n("/"),g(!1))},[p,n,g]),t?y.jsx("div",{children:"Loading..."}):y.jsxs(y.Fragment,{children:[e&&y.jsx(Ik,{to:"/",replace:!0}),y.jsx("main",{className:"w-full h-screen flex self-center place-content-center place-items-center",children:y.jsxs("div",{className:"w-96 text-gray-600 space-y-5 p-4",children:[y.jsx("div",{className:"text-center mb-6",children:y.jsxs("div",{className:"mt-2",children:[y.jsx("h3",{className:"text-gray-800 text-xl font-semibold sm:text-2xl",children:"Account Information"}),y.jsx("p",{children:"Enter your information to sign up"})]})}),y.jsxs("form",{onSubmit:N,className:"space-y-4",children:[X&&y.jsx("span",{className:"text-red-600 font-bold",children:X}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm text-gray-600 font-bold"}),y.jsx("input",{type:"text",autoComplete:"given-name",placeholder:"First Name",required:!0,value:r,onChange:b=>{i(b.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm text-gray-600 font-bold"}),y.jsx("input",{type:"text",autoComplete:"family-name",placeholder:"Last Name",required:!0,value:o,onChange:b=>{l(b.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm text-gray-600 font-bold"}),y.jsx("input",{type:"tel",autoComplete:"mobile",placeholder:"Phone Number",required:!0,value:c,onChange:b=>{h(b.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm text-gray-600 font-bold"}),y.jsx("input",{type:"email",autoComplete:"email",placeholder:"Email",required:!0,value:S,onChange:b=>{R(b.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm text-gray-600 font-bold"}),y.jsx("input",{type:"password",autoComplete:"new-password",placeholder:"Password",required:!0,value:k,onChange:b=>{x(b.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg transition duration-300"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm text-gray-600 font-bold"}),y.jsx("input",{disabled:B,type:"password",autoComplete:"off",placeholder:"Confirm Password",required:!0,value:L,onChange:b=>{U(b.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-black shadow-sm rounded-lg transition duration-300"})]}),X&&y.jsx("span",{className:"text-red-600 font-bold",children:X}),y.jsx("button",{type:"submit",disabled:B,className:`w-full px-4 py-2 text-white font-medium rounded-lg ${B?" bg-gray-300 cursor-not-allowed":"bg-black hover:bg-black hover:shadow-xl transition duration-300"}`,children:B?"Signing Up...":"Create Account"})]}),y.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[y.jsx("span",{className:"flex-grow border-t border-gray-300"}),y.jsx("span",{className:"px-3",children:" Or Sign up with Google "}),y.jsx("span",{className:"flex-grow border-t border-gray-300"})]}),y.jsxs(wf,{onClick:P,isLoading:w,size:"sm",className:"w-full",children:[w?null:y.jsx(S_.google,{className:"sh-4 w-4 mr-2"}),"Google"]}),y.jsxs("div",{className:"text-sm text-center",children:["Already have an account? ","    ",y.jsx(Tt,{to:"/sign-in",className:"text-center text-sm hover:underline font-bold",children:"Continue"})]}),y.jsxs("p",{className:"text-sm max-w-xs mx-auto",children:["By clicking create account, you agree to our ",y.jsx("a",{href:"",className:"underline",children:"Terms of Service"})," and ",y.jsx("a",{href:"",className:"underline",children:"Privacy Policy"})]})]})})]})},C5=()=>y.jsx("div",{className:"container mx-auto flex h-screen w-full flex-col justify-center space-y-6 sm:w-[400px]",children:y.jsx("div",{className:"flex flex-col space-y-2 text-center",children:y.jsx(I5,{})})}),We="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAOVBMVEXz9Pa5vsq2u8jN0dnV2N/o6u7w8fTi5OnFydO+ws3f4ee6v8vY2+H29/jy9Pbu7/LJztbCx9HR1ty/NMEIAAACq0lEQVR42u3cYXaqMBBA4cyEgEAi4P4X+34oLSra9IA9E979FtDj7SAJUOocAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAqrQ3Y311iH5fsaktBTYn3d/Y2JljlM/orAR2IsdOHNqPFbY2TqKdXj/Orl/C24/sLHwV0ygiIv2466n0+kNlNFHYiohotfNyWKmIyKm2U9jsffqyU+gopLDMwiGE+sCFjRdV1SkOxyw8X2Rer6cNe2e7hfVJv3ddGg9YeNHlxrIPhyvs9GHvXB+sMJ2eLoDSsQrDwwhF/cFm+HiQikxvP+Prk63RwhSfCtt3i6J/fbK1Wlj9qvCiIjEd9yg9e32zZFotHPLPNOd55VyfotnVYsq9XVZ7fbvxsbviZx6kZ7+Y9toU7e7a/P1x+mI5qP3doRyLuraYlokxY4LrUzRcOPj56knaxmVMcP1XYfkKODW+VVWZqiHlTXBtisbvYgwhhKF22RNcmWLBd6JWJ/g8xXIL64u+eg5zl1huodfXj5riAQrPF333NG0xxVILvb5/YBhLKxzC8+XSD4mpqMLQt2F59hj158e+saDCFFrRacj9Dj5MsYTC0IuIfk9xzAoU7QopTKG93dq/7d3yJiiiVSqjMPTzJ25Dcu6cOUERjUUUzhP8mmLuBIsp/Jrg9Soq+OzAMgqXE7wm/uKvhIoovJ/gLxVQ+DTBwxVummABhRsnWEDhxgmaL9w8QfOFmydovTDlb11KLawopJBCCimk8E8Kbd+nGcJ2Q9F39fNRSKH5wtSZeyvI7/sm8O053MnCCOc/C/7Iu2vexIuyn3z/sLEQ6Orp4O+QOtf0HwrsGyOFrhP9QJ+qmUDnwtju/jp+PwZT/1chdNW+YuMAAAAAAAAAAAAAAAAAAAAAAAAAAACA/9s/LTI30XlcBHoAAAAASUVORK5CYII=",OA=()=>{const{productId:n}=uk(),t=[{id:"HarvestGrove",productTitle:"Harvest Grove Rigid Luxury Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"tavertine",productTitle:"Inverness Tavertine Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"Champagne",productTitle:"Champagne Limestone Rigid Core Luxury Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"Luxury",productTitle:"Harvest Grove Rigid Luxury Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"Harvest",productTitle:"Inverness Tavertine Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"Champagne2",productTitle:"Champagne Limestone Rigid Core luxiry Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}}].find(r=>r.id===n);return t?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"main-content",children:[y.jsxs("div",{id:"left",children:[y.jsx("div",{className:"main-image",children:y.jsx("img",{src:t.mainIm,alt:""})}),y.jsxs("div",{className:"thumbnails",children:[y.jsx("img",{src:t.mainIm,alt:""}),y.jsx("img",{src:t.alternate1,alt:""}),y.jsx("img",{src:t.alternate2,alt:""})]})]}),y.jsxs("div",{id:"right",children:[y.jsxs("div",{className:"title-section",children:[y.jsxs("div",{className:"title",children:[y.jsx("p",{id:"main",children:t.productTitle}),y.jsx("p",{id:"sub",children:t.productCategory})]}),y.jsxs("div",{className:"price-link",children:[y.jsx("div",{className:"title-left",children:y.jsx("p",{children:"$"})}),y.jsx("div",{className:"title-right",children:y.jsx("a",{href:"",children:"See in my room"})})]}),y.jsx("a",{href:"",children:"View specifications"})]}),y.jsxs("div",{className:"description",children:[y.jsx("p",{children:t.description}),y.jsxs("ul",{children:[y.jsx("li",{children:"Install up to 6,400 square feetNo need for transition molding."}),y.jsx("li",{children:"You can install it right awayPre-installation acclimation is unnecessary."}),y.jsx("li",{children:"Attached foam underlayment makes for a quieter, warmer floor."}),y.jsx("li",{children:"Can be installed on, above, and below grade-level (perfect for basements!) and over most existing hard-surface flooring, including slightly irregular subfloors."}),y.jsx("li",{children:"This DuraLux Performance product is backed by a lifetime res./ 15 yr comm. warranty."}),y.jsx("li",{children:"It is recommended to use Sentinel Protect Plus Underlayment for optimal sound absorption and moisture resistance or a standard vapor barrier like 6mil PE Film."})]}),y.jsx("a",{href:"",children:"Product Details"}),y.jsx("a",{href:"",children:"Reviews"})]})]})]}),y.jsxs("div",{className:"secondary-content",children:[y.jsx("div",{className:"suggestedProduct",children:y.jsxs("div",{className:"container",children:[y.jsx("img",{src:We,alt:"{title}"}),y.jsxs("div",{className:"prod-title",children:["{","title","}"]}),y.jsxs("p",{children:["{","description","}"]}),y.jsxs("p",{children:["{","price","}"]})]})}),y.jsx("div",{className:"suggestedProduct",children:y.jsxs("div",{className:"container",children:[y.jsx("img",{src:We,alt:"{title}"}),y.jsxs("div",{className:"prod-title",children:["{","title","}"]}),y.jsxs("p",{children:["{","description","}"]}),y.jsxs("p",{children:["{","price","}"]})]})}),y.jsx("div",{className:"suggestedProduct",children:y.jsxs("div",{className:"container",children:[y.jsx("img",{src:We,alt:"{title}"}),y.jsxs("div",{className:"prod-title",children:["{","title","}"]}),y.jsxs("p",{children:["{","description","}"]}),y.jsxs("p",{children:["{","price","}"]})]})})]})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"main-content",children:[y.jsxs("div",{id:"left",children:[y.jsx("div",{className:"main-image",children:y.jsx("img",{src:We,alt:""})}),y.jsxs("div",{className:"thumbnails",children:[y.jsx("img",{src:We,alt:""}),y.jsx("img",{src:We,alt:""}),y.jsx("img",{src:We,alt:""})]})]}),y.jsxs("div",{id:"right",children:[y.jsxs("div",{className:"title-section",children:[y.jsxs("div",{className:"title",children:[y.jsx("p",{id:"main",children:"Deafult Title"}),y.jsx("p",{id:"sub",children:"Default Category"})]}),y.jsxs("div",{className:"price-link",children:[y.jsx("div",{className:"title-left",children:y.jsx("p",{children:"$"})}),y.jsx("div",{className:"title-right",children:y.jsx("a",{href:"",children:"See in my room"})})]}),y.jsx("a",{href:"",children:"View specifications"})]}),y.jsxs("div",{className:"description",children:[y.jsx("p",{children:"Default Description"}),y.jsx("a",{href:"",children:"Product Details"}),y.jsx("a",{href:"",children:"Reviews"})]})]})]}),y.jsxs("div",{className:"secondary-content",children:[y.jsx("div",{className:"suggestedProduct",children:y.jsxs("div",{className:"container",children:[y.jsx("img",{src:We,alt:"{title}"}),y.jsxs("div",{className:"prod-title",children:["{","title","}"]}),y.jsxs("p",{children:["{","description","}"]}),y.jsxs("p",{children:["{","price","}"]})]})}),y.jsx("div",{className:"suggestedProduct",children:y.jsxs("div",{className:"container",children:[y.jsx("img",{src:We,alt:"{title}"}),y.jsxs("div",{className:"prod-title",children:["{","title","}"]}),y.jsxs("p",{children:["{","description","}"]}),y.jsxs("p",{children:["{","price","}"]})]})}),y.jsx("div",{className:"suggestedProduct",children:y.jsxs("div",{className:"container",children:[y.jsx("img",{src:We,alt:"{title}"}),y.jsxs("div",{className:"prod-title",children:["{","title","}"]}),y.jsxs("p",{children:["{","description","}"]}),y.jsxs("p",{children:["{","price","}"]})]})})]})]})};OA.defaultProps={productTitle:"Default title",productCategory:"Default category",price:"Price not available",description:"No description available",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We},suggested1:{defaultImage:We},suggested2:{defaultImage:We},suggested3:{defaultImage:We}};function S5(){return y.jsx(y.Fragment,{children:y.jsxs("div",{className:"product-detail-page",children:[y.jsx("meta",{charSet:"UTF-8"}),y.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),y.jsx("title",{children:"product detail"}),y.jsx(dp,{}),y.jsx(OA,{}),y.jsx(zc,{})]})})}function x5(){return y.jsxs(y.Fragment,{children:[y.jsx("meta",{charSet:"UTF-8"}),y.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),y.jsx("title",{children:"Designer"}),y.jsx(dp,{}),y.jsx(zc,{})]})}const R5=()=>{const n=mr(),e=async()=>{await h_(),n("/")};return y.jsxs("div",{className:"nav flex justify-between items-center p-4 border-b",children:[y.jsx(Tt,{to:"/",className:"text-2xl font-bold",children:y.jsx("div",{className:"logo",children:"URENO"})}),y.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[y.jsxs(Tt,{to:"/settings",className:"flex items-center gap-2 text-gray-600 hover:text-black",children:[y.jsx(EU,{className:"w-5 h-5"})," Settings"]}),y.jsxs(Tt,{to:"/notifications",className:"flex items-center gap-2 text-gray-600 hover:text-black",children:[y.jsx(mU,{className:"w-5 h-5"})," Notifications"]}),y.jsxs(Tt,{to:"/logout",onClick:e,className:"flex items-center gap-2 text-red-500 hover:text-red-700",children:[y.jsx(_U,{className:"w-5 h-5"})," Log Out"]})]})]})},LA=n=>I.forwardRef((e,t)=>y.jsx("div",{...e,ref:t,className:Ge(e.className,n)})),k_=I.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ze(e,"card-body"),y.jsx(t,{ref:i,className:Ge(n,e),...r})));k_.displayName="CardBody";const MA=I.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ze(e,"card-footer"),y.jsx(t,{ref:i,className:Ge(n,e),...r})));MA.displayName="CardFooter";const jA=I.createContext(null);jA.displayName="CardHeaderContext";const VA=I.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const o=Ze(n,"card-header"),l=I.useMemo(()=>({cardHeaderBsPrefix:o}),[o]);return y.jsx(jA.Provider,{value:l,children:y.jsx(t,{ref:i,...r,className:Ge(e,o)})})});VA.displayName="CardHeader";const FA=I.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...i},o)=>{const l=Ze(n,"card-img");return y.jsx(r,{ref:o,className:Ge(t?`${l}-${t}`:l,e),...i})});FA.displayName="CardImg";const UA=I.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ze(e,"card-img-overlay"),y.jsx(t,{ref:i,className:Ge(n,e),...r})));UA.displayName="CardImgOverlay";const $A=I.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},i)=>(e=Ze(e,"card-link"),y.jsx(t,{ref:i,className:Ge(n,e),...r})));$A.displayName="CardLink";const A5=LA("h6"),BA=I.forwardRef(({className:n,bsPrefix:e,as:t=A5,...r},i)=>(e=Ze(e,"card-subtitle"),y.jsx(t,{ref:i,className:Ge(n,e),...r})));BA.displayName="CardSubtitle";const zA=I.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},i)=>(e=Ze(e,"card-text"),y.jsx(t,{ref:i,className:Ge(n,e),...r})));zA.displayName="CardText";const P5=LA("h5"),WA=I.forwardRef(({className:n,bsPrefix:e,as:t=P5,...r},i)=>(e=Ze(e,"card-title"),y.jsx(t,{ref:i,className:Ge(n,e),...r})));WA.displayName="CardTitle";const HA=I.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:i,body:o=!1,children:l,as:c="div",...h},p)=>{const g=Ze(n,"card");return y.jsx(c,{ref:p,...h,className:Ge(e,g,t&&`bg-${t}`,r&&`text-${r}`,i&&`border-${i}`),children:o?y.jsx(k_,{children:l}):l})});HA.displayName="Card";const Cg=Object.assign(HA,{Img:FA,Title:WA,Subtitle:BA,Body:k_,Link:$A,Text:zA,Header:VA,Footer:MA,ImgOverlay:UA});function k5(n,e){return I.Children.toArray(n).some(t=>I.isValidElement(t)&&t.type===e)}function b5({as:n,bsPrefix:e,className:t,...r}){e=Ze(e,"col");const i=g9(),o=y9(),l=[],c=[];return i.forEach(h=>{const p=r[h];delete r[h];let g,w,E;typeof p=="object"&&p!=null?{span:g,offset:w,order:E}=p:g=p;const S=h!==o?`-${h}`:"";g&&l.push(g===!0?`${e}${S}`:`${e}${S}-${g}`),E!=null&&c.push(`order${S}-${E}`),w!=null&&c.push(`offset${S}-${w}`)}),[{...r,className:Ge(t,...l,...c)},{as:n,bsPrefix:e,spans:l}]}const qA=I.forwardRef((n,e)=>{const[{className:t,...r},{as:i="div",bsPrefix:o,spans:l}]=b5(n);return y.jsx(i,{...r,ref:e,className:Ge(t,!l.length&&o)})});qA.displayName="Col";const N5={type:ul.string,tooltip:ul.bool,as:ul.elementType},pp=I.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...i},o)=>y.jsx(n,{...i,ref:o,className:Ge(e,`${t}-${r?"tooltip":"feedback"}`)}));pp.displayName="Feedback";pp.propTypes=N5;const Ki=I.createContext({}),b_=I.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:i=!1,isInvalid:o=!1,as:l="input",...c},h)=>{const{controlId:p}=I.useContext(Ki);return e=Ze(e,"form-check-input"),y.jsx(l,{...c,ref:h,type:r,id:n||p,className:Ge(t,e,i&&"is-valid",o&&"is-invalid")})});b_.displayName="FormCheckInput";const If=I.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},i)=>{const{controlId:o}=I.useContext(Ki);return n=Ze(n,"form-check-label"),y.jsx("label",{...r,ref:i,htmlFor:t||o,className:Ge(e,n)})});If.displayName="FormCheckLabel";const KA=I.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:i=!1,disabled:o=!1,isValid:l=!1,isInvalid:c=!1,feedbackTooltip:h=!1,feedback:p,feedbackType:g,className:w,style:E,title:S="",type:R="checkbox",label:k,children:x,as:L="input",...U},B)=>{e=Ze(e,"form-check"),t=Ze(t,"form-switch");const{controlId:q}=I.useContext(Ki),X=I.useMemo(()=>({controlId:n||q}),[q,n]),J=!x&&k!=null&&k!==!1||k5(x,If),N=y.jsx(b_,{...U,type:R==="switch"?"checkbox":R,ref:B,isValid:l,isInvalid:c,disabled:o,as:L});return y.jsx(Ki.Provider,{value:X,children:y.jsx("div",{style:E,className:Ge(w,J&&e,r&&`${e}-inline`,i&&`${e}-reverse`,R==="switch"&&t),children:x||y.jsxs(y.Fragment,{children:[N,J&&y.jsx(If,{title:S,children:k}),p&&y.jsx(pp,{type:g,tooltip:h,children:p})]})})})});KA.displayName="FormCheck";const Cf=Object.assign(KA,{Input:b_,Label:If}),GA=I.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:i,className:o,isValid:l=!1,isInvalid:c=!1,plaintext:h,readOnly:p,as:g="input",...w},E)=>{const{controlId:S}=I.useContext(Ki);return n=Ze(n,"form-control"),y.jsx(g,{...w,type:e,size:r,ref:E,readOnly:p,id:i||S,className:Ge(o,h?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,l&&"is-valid",c&&"is-invalid")})});GA.displayName="FormControl";const D5=Object.assign(GA,{Feedback:pp}),QA=I.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ze(e,"form-floating"),y.jsx(t,{ref:i,className:Ge(n,e),...r})));QA.displayName="FormFloating";const N_=I.forwardRef(({controlId:n,as:e="div",...t},r)=>{const i=I.useMemo(()=>({controlId:n}),[n]);return y.jsx(Ki.Provider,{value:i,children:y.jsx(e,{...t,ref:r})})});N_.displayName="FormGroup";const YA=I.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:i,htmlFor:o,...l},c)=>{const{controlId:h}=I.useContext(Ki);e=Ze(e,"form-label");let p="col-form-label";typeof t=="string"&&(p=`${p} ${p}-${t}`);const g=Ge(i,e,r&&"visually-hidden",t&&p);return o=o||h,t?y.jsx(qA,{ref:c,as:"label",className:g,htmlFor:o,...l}):y.jsx(n,{ref:c,className:g,htmlFor:o,...l})});YA.displayName="FormLabel";const XA=I.forwardRef(({bsPrefix:n,className:e,id:t,...r},i)=>{const{controlId:o}=I.useContext(Ki);return n=Ze(n,"form-range"),y.jsx("input",{...r,type:"range",ref:i,className:Ge(e,n),id:t||o})});XA.displayName="FormRange";const JA=I.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:i=!1,isInvalid:o=!1,id:l,...c},h)=>{const{controlId:p}=I.useContext(Ki);return n=Ze(n,"form-select"),y.jsx("select",{...c,size:t,ref:h,className:Ge(r,n,e&&`${n}-${e}`,i&&"is-valid",o&&"is-invalid"),id:l||p})});JA.displayName="FormSelect";const ZA=I.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...i},o)=>(n=Ze(n,"form-text"),y.jsx(t,{...i,ref:o,className:Ge(e,n,r&&"text-muted")})));ZA.displayName="FormText";const eP=I.forwardRef((n,e)=>y.jsx(Cf,{...n,ref:e,type:"switch"}));eP.displayName="Switch";const O5=Object.assign(eP,{Input:Cf.Input,Label:Cf.Label}),tP=I.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:i,...o},l)=>(n=Ze(n,"form-floating"),y.jsxs(N_,{ref:l,className:Ge(e,n),controlId:r,...o,children:[t,y.jsx("label",{htmlFor:r,children:i})]})));tP.displayName="FloatingLabel";const L5={_ref:ul.any,validated:ul.bool,as:ul.elementType},D_=I.forwardRef(({className:n,validated:e,as:t="form",...r},i)=>y.jsx(t,{...r,ref:i,className:Ge(n,e&&"was-validated")}));D_.displayName="Form";D_.propTypes=L5;const Hn=Object.assign(D_,{Group:N_,Control:D5,Floating:QA,Check:Cf,Switch:O5,Label:YA,Text:ZA,Range:XA,Select:JA,FloatingLabel:tP}),M5="/Ureno_webdesign/assets/default_pfp-bcxf0fN1.png";function j5(){const{user:n,profile:e,loading:t}=l1(),[r,i]=I.useState([]),[o,l]=I.useState(!0),[c,h]=I.useState([]),[p,g]=I.useState(!0);return I.useEffect(()=>{const w=async()=>{if(!n)return;const S=Zs(wc,"users",n.uid,"projects"),R=cf(S);try{const x=(await _l(R)).docs.map(L=>({id:L.id,...L.data()}));i(x)}catch(k){console.error("Error fetching projects: ",k)}finally{l(!1)}},E=async()=>{if(!n)return;const S=Zs(wc,"savedMaterials"),R=cf(S,Uv("userId","==",n.uid));try{const x=(await _l(R)).docs.map(L=>({id:L.id,...L.data()}));h(x)}catch{console.error("Error fetching saved materials:",errors)}finally{g(!1)}};w(),E()},[n]),t?y.jsx("p",{children:"Loading..."}):!n||!e?y.jsx("p",{children:"User not found nor not logged in."}):y.jsxs(y.Fragment,{children:[y.jsx("meta",{charSet:"UTF-8"}),y.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),y.jsx("title",{children:"Profile"}),y.jsx(R5,{}),y.jsx("div",{className:"main-content max-w-6xl mx-auto p-6",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6 ",children:[y.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsx(Cg,{children:y.jsxs("div",{className:"p-4",children:[y.jsx("h3",{className:"text-lg font-semibold",children:"Projects"}),o?y.jsx("p",{className:"text-gray-500",children:"Loading project stats..."}):y.jsxs("p",{className:"text-gray-500",children:[r.filter(w=>w.status==="in progress").length," Ongoing, "," ",r.filter(w=>w.status==="completed").length," Completed"]}),y.jsx(Tt,{to:"/projects",children:y.jsx(Ms,{variant:"link",className:"mt-2",children:"View projects"})})]})}),y.jsx(Cg,{children:y.jsxs("div",{className:"p-4",children:[y.jsx("h3",{className:"text-lg font-semibold",children:"Saved Items"}),p?y.jsx("p",{className:"text-gray-500",children:"Loading saved materials..."}):y.jsxs("p",{className:"text-gray-500",children:[c.length," Materials Favorited"]}),y.jsx(Tt,{to:"/savedItems",children:y.jsx(Ms,{variant:"link",className:"mt-2",children:"View Favorites"})})]})}),y.jsx(Cg,{children:y.jsxs("div",{className:"p-4",children:[y.jsx("h3",{className:"text-lg font-semibold",children:"Messages & Notifications"}),y.jsx("p",{className:"text-gray-500",children:"2 Unread Messages"}),y.jsx(Ms,{variant:"link",className:"mt-2",children:"Go to Messages"})]})})]}),y.jsxs("div",{className:"flex flex-col items-center md:col-span-1 text-center ",children:[y.jsx("h2",{className:"text-2xl font-bold mt-4",children:e.username||n.displayName}),y.jsx("img",{src:M5}),y.jsx("p",{className:"text-gray-500",children:n.email}),y.jsx(Tt,{to:"/edit-profile",children:y.jsx(Ms,{className:"mt-2",children:"Edit Profile"})})]})]})}),y.jsx(zc,{})]})}const V5=()=>{const[n,e]=I.useState([]),t=mr();I.useEffect(()=>{(async()=>{const o=eo();await _l(Zs(o,"products"));const l=snapshotEqual.docs.map(c=>({id:c.id,...c.data()}));e(l)})()},[]);const r=async i=>{const o=eo();await pj(Yo(o,"products",i)),e(n.filter(l=>l.id!==i))};return y.jsxs("div",{className:"admin-dashboard",children:[y.jsx("h1",{children:"Product Admin Dashboard"}),y.jsx("button",{onClick:()=>t("/admin/add"),children:"Add New Product"}),y.jsx("ul",{children:n.map(i=>y.jsxs("li",{style:{marginBottom:"1rem"},children:[y.jsx("strong",{children:i.title})," - ",i.price,y.jsx("br",{}),y.jsx("button",{onClick:()=>t(`/admin/edit/${i.id}`),children:"Edit"}),y.jsx("button",{onClick:()=>r(i.id),children:"Delete"})]},i.id))})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="firebasestorage.googleapis.com",rP="storageBucket",F5=2*60*1e3,U5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct extends ui{constructor(e,t,r=0){super(Sg(e),`Firebase Storage: ${t} (${Sg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var It;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(It||(It={}));function Sg(n){return"storage/"+n}function O_(){const n="An unknown error occurred, please check the error payload for server response.";return new Ct(It.UNKNOWN,n)}function $5(n){return new Ct(It.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function B5(n){return new Ct(It.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function z5(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ct(It.UNAUTHENTICATED,n)}function W5(){return new Ct(It.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function H5(n){return new Ct(It.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function q5(){return new Ct(It.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function K5(){return new Ct(It.CANCELED,"User canceled the upload/download.")}function G5(n){return new Ct(It.INVALID_URL,"Invalid URL '"+n+"'.")}function Q5(n){return new Ct(It.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Y5(){return new Ct(It.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+rP+"' property when initializing the app?")}function X5(){return new Ct(It.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function J5(){return new Ct(It.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Z5(n){return new Ct(It.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function by(n){return new Ct(It.INVALID_ARGUMENT,n)}function iP(){return new Ct(It.APP_DELETED,"The Firebase app was deleted.")}function e8(n){return new Ct(It.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function oc(n,e){return new Ct(It.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Uu(n){throw new Ct(It.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Gn.makeFromUrl(e,t)}catch{return new Gn(e,"")}if(r.path==="")return r;throw Q5(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),h={bucket:1,path:3};function p(q){q.path_=decodeURIComponent(q.path)}const g="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",S=new RegExp(`^https?://${w}/${g}/b/${i}/o${E}`,"i"),R={bucket:1,path:3},k=t===nP?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",L=new RegExp(`^https?://${k}/${i}/${x}`,"i"),B=[{regex:c,indices:h,postModify:o},{regex:S,indices:R,postModify:p},{regex:L,indices:{bucket:1,path:2},postModify:p}];for(let q=0;q<B.length;q++){const X=B[q],J=X.regex.exec(e);if(J){const N=J[X.indices.bucket];let P=J[X.indices.path];P||(P=""),r=new Gn(N,P),X.postModify(r);break}}if(r==null)throw G5(e);return r}}class t8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n8(n,e,t){let r=1,i=null,o=null,l=!1,c=0;function h(){return c===2}let p=!1;function g(...x){p||(p=!0,e.apply(null,x))}function w(x){i=setTimeout(()=>{i=null,n(S,h())},x)}function E(){o&&clearTimeout(o)}function S(x,...L){if(p){E();return}if(x){E(),g.call(null,x,...L);return}if(h()||l){E(),g.call(null,x,...L);return}r<64&&(r*=2);let B;c===1?(c=2,B=0):B=(r+Math.random())*1e3,w(B)}let R=!1;function k(x){R||(R=!0,E(),!p&&(i!==null?(x||(c=2),clearTimeout(i),w(0)):x||(c=1)))}return w(0),o=setTimeout(()=>{l=!0,k(!0)},t),k}function r8(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(n){return n!==void 0}function s8(n){return typeof n=="object"&&!Array.isArray(n)}function L_(n){return typeof n=="string"||n instanceof String}function eC(n){return M_()&&n instanceof Blob}function M_(){return typeof Blob<"u"}function tC(n,e,t,r){if(r<e)throw by(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw by(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function sP(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Ho;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ho||(Ho={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,t,r,i,o,l,c,h,p,g,w,E=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=w,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,R)=>{this.resolve_=S,this.reject_=R,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ih(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const h=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===Ho.NO_ERROR,h=o.getStatus();if(!c||o8(h,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Ho.ABORT;r(!1,new Ih(!1,null,g));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new Ih(p,o))})},t=(r,i)=>{const o=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());i8(h)?o(h):o()}catch(h){l(h)}else if(c!==null){const h=O_();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(i.canceled){const h=this.appDelete_?iP():K5();l(h)}else{const h=q5();l(h)}};this.canceled_?t(!1,new Ih(!1,null,!0)):this.backoffId_=n8(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&r8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ih{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function l8(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function u8(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function c8(n,e){e&&(n["X-Firebase-GMPID"]=e)}function d8(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function h8(n,e,t,r,i,o,l=!0){const c=sP(n.urlParams),h=n.url+c,p=Object.assign({},n.headers);return c8(p,e),l8(p,t),u8(p,o),d8(p,r),new a8(h,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function p8(...n){const e=f8();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(M_())return new Blob(n);throw new Ct(It.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function m8(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(n){if(typeof atob>"u")throw Z5("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xg{constructor(e,t){this.data=e,this.contentType=t||null}}function y8(n,e){switch(n){case ti.RAW:return new xg(oP(e));case ti.BASE64:case ti.BASE64URL:return new xg(aP(n,e));case ti.DATA_URL:return new xg(_8(e),w8(e))}throw O_()}function oP(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=n.charCodeAt(++t);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function v8(n){let e;try{e=decodeURIComponent(n)}catch{throw oc(ti.DATA_URL,"Malformed data URL.")}return oP(e)}function aP(n,e){switch(n){case ti.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw oc(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ti.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw oc(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=g8(e)}catch(i){throw i.message.includes("polyfill")?i:oc(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class lP{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw oc(ti.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=E8(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function _8(n){const e=new lP(n);return e.base64?aP(ti.BASE64,e.rest):v8(e.rest)}function w8(n){return new lP(n).contentType}function E8(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t){let r=0,i="";eC(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(eC(this.data_)){const r=this.data_,i=m8(r,e,t);return i===null?null:new Os(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Os(r,!0)}}static getBlob(...e){if(M_()){const t=e.map(r=>r instanceof Os?r.data_:r);return new Os(p8.apply(null,t))}else{const t=e.map(l=>L_(l)?y8(ti.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(l=>{for(let c=0;c<l.length;c++)i[o++]=l[c]}),new Os(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(n){let e;try{e=JSON.parse(n)}catch{return null}return s8(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function I8(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function cP(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(n,e){return e}class _n{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||C8}}let Ch=null;function S8(n){return!L_(n)||n.length<2?n:cP(n)}function dP(){if(Ch)return Ch;const n=[];n.push(new _n("bucket")),n.push(new _n("generation")),n.push(new _n("metageneration")),n.push(new _n("name","fullPath",!0));function e(o,l){return S8(l)}const t=new _n("name");t.xform=e,n.push(t);function r(o,l){return l!==void 0?Number(l):l}const i=new _n("size");return i.xform=r,n.push(i),n.push(new _n("timeCreated")),n.push(new _n("updated")),n.push(new _n("md5Hash",null,!0)),n.push(new _n("cacheControl",null,!0)),n.push(new _n("contentDisposition",null,!0)),n.push(new _n("contentEncoding",null,!0)),n.push(new _n("contentLanguage",null,!0)),n.push(new _n("contentType",null,!0)),n.push(new _n("metadata","customMetadata",!0)),Ch=n,Ch}function x8(n,e){function t(){const r=n.bucket,i=n.fullPath,o=new Gn(r,i);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function R8(n,e,t){const r={};r.type="file";const i=t.length;for(let o=0;o<i;o++){const l=t[o];r[l.local]=l.xform(r,e[l.server])}return x8(r,n),r}function hP(n,e,t){const r=uP(e);return r===null?null:R8(n,r,t)}function A8(n,e,t,r){const i=uP(e);if(i===null||!L_(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(p=>{const g=n.bucket,w=n.fullPath,E="/b/"+l(g)+"/o/"+l(w),S=j_(E,t,r),R=sP({alt:"media",token:p});return S+R})[0]}function P8(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class fP{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(n){if(!n)throw O_()}function k8(n,e){function t(r,i){const o=hP(n,i,e);return pP(o!==null),o}return t}function b8(n,e){function t(r,i){const o=hP(n,i,e);return pP(o!==null),A8(o,i,n.host,n._protocol)}return t}function mP(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=W5():i=z5():t.getStatus()===402?i=B5(n.bucket):t.getStatus()===403?i=H5(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function N8(n){const e=mP(n);function t(r,i){let o=e(r,i);return r.getStatus()===404&&(o=$5(n.path)),o.serverResponse=i.serverResponse,o}return t}function D8(n,e,t){const r=e.fullServerUrl(),i=j_(r,n.host,n._protocol),o="GET",l=n.maxOperationRetryTime,c=new fP(i,o,b8(n,t),l);return c.errorHandler=N8(e),c}function O8(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function L8(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=O8(null,e)),r}function M8(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let B="";for(let q=0;q<2;q++)B=B+Math.random().toString().slice(2);return B}const h=c();l["Content-Type"]="multipart/related; boundary="+h;const p=L8(e,r,i),g=P8(p,t),w="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+h+"--",S=Os.getBlob(w,r,E);if(S===null)throw X5();const R={name:p.fullPath},k=j_(o,n.host,n._protocol),x="POST",L=n.maxUploadRetryTime,U=new fP(k,x,k8(n,t),L);return U.urlParams=R,U.headers=l,U.body=S.uploadData(),U.errorHandler=mP(e),U}class j8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ho.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ho.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ho.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Uu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Uu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Uu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Uu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Uu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class V8 extends j8{initXhr(){this.xhr_.responseType="text"}}function gP(){return new V8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t){this._service=e,t instanceof Gn?this._location=t:this._location=Gn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new na(e,t)}get root(){const e=new Gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cP(this._location.path)}get storage(){return this._service}get parent(){const e=T8(this._location.path);if(e===null)return null;const t=new Gn(this._location.bucket,e);return new na(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw e8(e)}}function F8(n,e,t){n._throwIfRoot("uploadBytes");const r=M8(n.storage,n._location,dP(),new Os(e,!0),t);return n.storage.makeRequestWithTokens(r,gP).then(i=>({metadata:i,ref:n}))}function U8(n){n._throwIfRoot("getDownloadURL");const e=D8(n.storage,n._location,dP());return n.storage.makeRequestWithTokens(e,gP).then(t=>{if(t===null)throw J5();return t})}function $8(n,e){const t=I8(n._location.path,e),r=new Gn(n._location.bucket,t);return new na(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(n){return/^[A-Za-z]+:\/\//.test(n)}function z8(n,e){return new na(n,e)}function yP(n,e){if(n instanceof V_){const t=n;if(t._bucket==null)throw Y5();const r=new na(t,t._bucket);return e!=null?yP(r,e):r}else return e!==void 0?$8(n,e):n}function W8(n,e){if(e&&B8(e)){if(n instanceof V_)return z8(n,e);throw by("To use ref(service, url), the first argument must be a Storage instance.")}else return yP(n,e)}function nC(n,e){const t=e==null?void 0:e[rP];return t==null?null:Gn.makeFromBucketSpec(t,n)}function H8(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:Wy(i,n.app.options.projectId))}class V_{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=nP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=F5,this._maxUploadRetryTime=U5,this._requests=new Set,i!=null?this._bucket=Gn.makeFromBucketSpec(i,this._host):this._bucket=nC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gn.makeFromBucketSpec(this._url,e):this._bucket=nC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new na(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new t8(iP());{const l=h8(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const rC="@firebase/storage",iC="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="storage";function _P(n,e,t){return n=ot(n),F8(n,e,t)}function wP(n){return n=ot(n),U8(n)}function EP(n,e){return n=ot(n),W8(n,e)}function TP(n=kf(),e){n=ot(n);const r=Rc(n,vP).getImmediate({identifier:e}),i=By("storage");return i&&q8(r,...i),r}function q8(n,e,t,r={}){H8(n,e,t,r)}function K8(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new V_(t,r,i,e,io)}function G8(){Hs(new Vi(vP,K8,"PUBLIC").setMultipleInstances(!0)),ur(rC,iC,""),ur(rC,iC,"esm2017")}G8();const Q8=()=>{const[n,e]=I.useState(""),[t,r]=I.useState(""),[i,o]=I.useState(""),[l,c]=I.useState(""),[h,p]=I.useState(null),g=mr(),w=async E=>{E.preventDefault();try{const S=TP(),R=EP(S,`products/${h.name}`);await _P(R,h);const k=await wP(R),x=eo();await qx(Zs(x,"products"),{title:n,description:t,price:i,link:l,image:k}),g("/admin")}catch(S){console.error("Error uploading product:",S)}};return y.jsxs("div",{className:"product-form",children:[y.jsx("h2",{children:"Add New Product"}),y.jsxs("form",{onSubmit:w,children:[y.jsx("input",{type:"text",placeholder:"Title",value:n,onChange:E=>e(E.target.value),required:!0}),y.jsx("textarea",{placeholder:"Description",value:t,onChange:E=>r(E.target.value),required:!0}),y.jsx("input",{type:"text",placeholder:"Link",value:l,onChange:E=>o(E.target.value),required:!0}),y.jsx("input",{type:"file",accept:"image/*",onChange:E=>p(E.target.files[0]),required:!0}),y.jsx("button",{type:"submit",children:"Save Product"})]})]})};function Y8(){const{user:n,profile:e}=l1(),t=mr(),[r,i]=I.useState({displayName:"",email:"",phone:"",profilePicture:null});if(I.useEffect(()=>{e&&i({displayName:n.displayName||"",email:n.email||"",phone:e.phone||"",profilePicture:null})},[e,n]),!n||!e)return y.jsx("p",{children:"Loading profile data..."});const o=async l=>{l.preventDefault();const c=Of(),h=eo(),p=TP(),g=c.currentUser;if(!g)return;const w={};try{if(r.displayName&&r.displayName!==g.displayName&&(await Vg(g,{displayName:r.displayName}),w.displayName=r.displayName),r.email&&r.email!==g.email&&(await BD(g,r.email),w.email=r.email),r.phone&&(w.phone=r.phone),r.profilePicture){const E=EP(p,`profilePictures/${g.uid}`);await _P(E,r.profilePicture);const S=await wP(E);await Vg(g,{photoURL:S}),w.photoURL=S}if(Object.keys(w).length>0){const E=Yo(h,"users",g.uid);await fj(E,w)}alert("profile updated succesfully"),t("/ProfileDashboard")}catch(E){console.error("Error updating profile:",E),alert("Failed to update profile. Check the console for details.")}};return y.jsx(y.Fragment,{children:y.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Edit Profile"}),y.jsxs(Hn,{children:[y.jsxs(Hn.Group,{controlId:"displayName",className:"mb-3",children:[y.jsx(Hn.Label,{children:"Display Name"}),y.jsx(Hn.Control,{type:"text",value:r.displayName,onChange:l=>i({...r,displayName:l.target.value})})]}),y.jsxs(Hn.Group,{controlId:"email",className:"mb-3",children:[y.jsx(Hn.Label,{children:"email"}),y.jsx(Hn.Control,{type:"email",value:r.email,onChange:l=>i({...r,email:l.target.value})})]}),y.jsxs(Hn.Group,{controlId:"phone",className:"mb-3",children:[y.jsx(Hn.Label,{children:"Phone Number"}),y.jsx(Hn.Control,{type:"text",value:r.phone,onChange:l=>i({...r,phone:l.target.value})})]}),y.jsxs(Hn.Group,{controlId:"profilePicture",className:"mb-3",children:[y.jsx(Hn.Label,{children:"Profile Picture"}),y.jsx(Hn.Control,{type:"file",onChange:l=>i({...r,profilePicture:l.target.files[0]})})]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx(Ms,{variant:"primary",onClick:o,type:"submit",children:"Save Changes"}),y.jsx(Ms,{variant:"secondary",onClick:()=>t("/ProfileDashboard"),children:"Cancel"})]})]})]})})}function X8(){const{currentUser:n}=Qi(),[e,t]=I.useState([]),[r,i]=I.useState(!0);return I.useEffect(()=>{(async()=>{if(!n)return;const l=Zs(wc,"users",n.uid,"projects"),c=cf(l,Uv("ownerId","==",n.uid)),p=(await _l(c)).docs.map(g=>({id:g.id,...g.data()}));t(p),i(!1)})()},[n]),r?y.jsx("div",{children:"Loading..."}):y.jsx(y.Fragment,{children:y.jsxs("div",{className:"p-4  relative",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Tt,{to:"/ProfileDashboard",className:"text-blue-500 text-3xl font-bold hover:scale-110 hover:text-blue-700 transition-all duration-200 flex items-center justify-center",children:"<"}),y.jsx("h1",{className:"text-2xl font-bold",children:"My Projects"})]}),y.jsx(Tt,{to:"/projects/new",children:y.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Create New Project"})})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(o=>y.jsxs("div",{className:"p-4 border rounded shadow",children:[y.jsx("h2",{className:"text-xl font-semibold",children:o.title}),y.jsx("p",{className:"text-gray-600",children:o.description})]},o.id))})]})})}function J8(){const{currentUser:n}=Qi(),e=mr(),[t,r]=I.useState(""),[i,o]=I.useState(""),[l,c]=I.useState(""),[h,p]=I.useState(""),[g,w]=I.useState(""),[E,S]=I.useState(!1),[R,k]=I.useState(!1),x=async L=>{if(L.preventDefault(),!!n){S(!0);try{const U=Zs(wc,"users",n.uid,"projects");await qx(U,{ownerId:n.uid,title:t,description:i,flooringType:l,roomDimensions:{length:Number(h),width:Number(g)},createdAt:OT(),updatedAt:OT(),status:"in progress"}),k(!0),setTimeout(()=>{k(!1),e("/projects")},1500),e("/projects")}catch(U){console.error("Error creating project: ",U)}finally{S(!1)}}};return y.jsxs("div",{className:"p-4 max-w-2xl mx-auto mt-20 relative",children:[y.jsx("div",{className:"fixed top-0 left-0 w-full bg-white  p-4 flex items-center",children:y.jsx(Tt,{to:"/projects",children:y.jsx("div",{className:"logo",children:" return "})})}),y.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create New Project"}),R&&y.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white px-4 py-2 rounded shadow",children:"Project created successfully!"}),y.jsxs("form",{onSubmit:x,className:"space-y-4",children:[y.jsx("input",{type:"text",placeholder:"Project Title",value:t,onChange:L=>r(L.target.value),required:!0,className:"w-full border p-2 rounded"}),y.jsx("textarea",{placeholder:"Project Description",value:i,onChange:L=>o(L.target.value),required:!0,className:"w-full border p-2 rounded"}),y.jsx("input",{type:"text",placeholder:"Flooring Type",value:l,onChange:L=>c(L.target.value),className:"w-full border p-2 rounded"}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("input",{type:"number",placeholder:"Length (ft)",value:h,onChange:L=>p(L.target.value),className:"w-full border p-2 rounded"}),y.jsx("input",{type:"number",placeholder:"Width (ft)",value:g,onChange:L=>w(L.target.value),className:"w-full border p-2 rounded"})]}),y.jsx("button",{type:"submit",disabled:E,className:"px-4 py-2 bg-blue-500 text-white rounded",children:E?"Creating...":"Create Project"})]})]})}function Z8(){const{currentUser:n}=Qi(),[e,t]=I.useState([]),[r,i]=I.useState(!0);return I.useEffect(()=>{(async()=>{if(!n)return;const l=Zs(wc,"savedMaterials"),c=cf(l,Uv("userId","==",n.uid));try{const p=(await _l(c)).docs.map(g=>({id:g.id,...g.data()}));t(p)}catch(h){console.error("Error fetching saved materials:",h)}finally{i(!1)}})()},[n]),r?y.jsx("div",{children:"Loading saved materials..."}):y.jsxs("div",{className:"p-4 max-w-6xl mx-auto",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Tt,{to:"/ProfileDashboard",className:"text-blue-500 text-3xl font-bold hover:scale-110 hover:text-blue-700 transition-all duration-200 flex items-center justify-center",children:"<"}),y.jsx("h1",{className:"text-2xl font-bold",children:"Saved Items"})]}),e.length===0?y.jsx("p",{className:"text-gray-500",children:"You don't have any saved materials yet."}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(o=>y.jsxs("div",{className:"border p-4 rounded shadow",children:[o.materialImageURL&&y.jsx("img",{src:o.materialImageURL,alt:o.materialName,className:"w-full h-32 object-cover rounded mb-2"}),y.jsx("h2",{className:"text-xl font-semibold",children:o.materialName}),y.jsx("p",{className:"text-gray-600",children:o.materialType})]},o.id))})]})}const e$="_loginWrapper_1063v_3",t$="_container_1063v_11",n$="_form_1063v_32",r$="_formBox_1063v_34",i$="_active_1063v_49",s$="_register_1063v_51",o$="_inputBox_1063v_54",a$="_forgotLink_1063v_84",l$="_btn_1063v_90",u$="_socialIcons_1063v_103",c$="_toggleBox_1063v_118",d$="_togglePanel_1063v_138",h$="_toggleLeft_1063v_152",f$="_toggleRight_1063v_161",tt={loginWrapper:e$,container:t$,form:n$,formBox:r$,active:i$,register:s$,inputBox:o$,forgotLink:a$,btn:l$,socialIcons:u$,toggleBox:c$,togglePanel:d$,toggleLeft:h$,toggleRight:f$},p$=()=>{const[n,e]=I.useState(!1),t=()=>{e(!0)},r=()=>{e(!1)};return y.jsx("div",{className:tt.loginWrapper,children:y.jsxs("div",{className:`${tt.container} ${n?tt.active:""}`,children:[y.jsx("div",{className:`${tt.formBox} ${tt.login}`,children:y.jsxs("form",{className:tt.form,action:"#",children:[y.jsx("h1",{children:"Login"}),y.jsxs("div",{className:tt.inputBox,children:[y.jsx("input",{type:"text",placeholder:"Email",required:!0}),y.jsx("i",{className:"bx bxs-user"})]}),y.jsxs("div",{className:tt.inputBox,children:[y.jsx("input",{type:"password",placeholder:"Password",required:!0}),y.jsx("i",{className:"bx bxs-lock-alt"})]}),y.jsx("div",{className:tt.forgotLink,children:y.jsx("a",{href:"#",children:"Forgot Password?"})}),y.jsx("button",{type:"submit",className:tt.btn,children:"Login"}),y.jsx("p",{children:"or login with social platforms"}),y.jsxs("div",{className:tt.socialIcons,children:[y.jsx("a",{href:"#",children:y.jsx("i",{className:"bx bxl-google"})}),y.jsx("a",{href:"#",children:y.jsx("i",{className:"bx bxl-facebook"})}),y.jsx("a",{href:"#",children:y.jsx("i",{className:"bx bxl-github"})}),y.jsx("a",{href:"#",children:y.jsx("i",{className:"bx bxl-linkedin"})})]})]})}),y.jsx("div",{className:`${tt.formBox} ${tt.register}`,children:y.jsxs("form",{className:tt.form,action:"#",children:[y.jsx("h1",{children:"Registration"}),y.jsxs("div",{className:tt.inputBox,children:[y.jsx("input",{type:"text",placeholder:"First Name",required:!0}),y.jsx("i",{className:"bx bxs-user"})]}),y.jsxs("div",{className:tt.inputBox,children:[y.jsx("input",{type:"text",placeholder:"Last Name",required:!0}),y.jsx("i",{className:"bx bxs-user"})]}),y.jsxs("div",{className:tt.inputBox,children:[y.jsx("input",{type:"email",placeholder:"Email",required:!0}),y.jsx("i",{className:"bx bxs-envelope"})]}),y.jsxs("div",{className:tt.inputBox,children:[y.jsx("input",{type:"password",placeholder:"Password",required:!0}),y.jsx("i",{className:"bx bxs-lock-alt"})]}),y.jsxs("div",{className:tt.inputBox,children:[y.jsx("input",{type:"password",placeholder:"Confirm Password",required:!0}),y.jsx("i",{className:"bx bxs-lock-alt"})]}),y.jsx("button",{type:"submit",className:tt.btn,children:"Register"}),y.jsx("p",{children:"or register with social platforms"}),y.jsxs("div",{className:tt.socialIcons,children:[y.jsx("a",{href:"#",children:y.jsx("i",{className:"bx bxl-google"})}),y.jsx("a",{href:"#",children:y.jsx("i",{className:"bx bxl-facebook"})}),y.jsx("a",{href:"#",children:y.jsx("i",{className:"bx bxl-github"})}),y.jsx("a",{href:"#",children:y.jsx("i",{className:"bx bxl-linkedin"})})]})]})}),y.jsxs("div",{className:tt.toggleBox,children:[y.jsxs("div",{className:`${tt.togglePanel} ${tt.toggleLeft}`,children:[y.jsx("h1",{children:"Hello, Welcome!"}),y.jsx("p",{children:"Don't have an account?"}),y.jsx("button",{className:tt.btn,onClick:t,children:"Register"})]}),y.jsxs("div",{className:`${tt.togglePanel} ${tt.toggleRight}`,children:[y.jsx("h1",{children:"Welcome Back!"}),y.jsx("p",{children:"Already have an account?"}),y.jsx("button",{className:tt.btn,onClick:r,children:"Login"})]})]})]})})},sC=({children:n})=>{const{currentUser:e}=Qi(),{profile:t}=I.useContext(lp);return!e||!(t!=null&&t.isAdmin)?null:n},m$=document.getElementById("root"),g$=D2.createRoot(m$);g$.render(y.jsx(I.StrictMode,{children:y.jsx(rF,{children:y.jsx(sF,{children:y.jsx(Gk,{basename:"/Ureno_webdesign/",children:y.jsxs(Sk,{children:[y.jsx(wn,{path:"/",element:y.jsx(b9,{})}),y.jsx(wn,{path:"/product-page",element:y.jsx(N9,{})}),y.jsx(wn,{path:"/productDetail/:productId",element:y.jsx(S5,{})}),y.jsx(wn,{path:"/designerPage",element:y.jsx(x5,{})}),y.jsx(wn,{path:"/ProfileDashboard",element:y.jsx(j5,{})}),y.jsx(wn,{path:"/edit-profile",element:y.jsx(Y8,{})}),y.jsx(wn,{path:"/sign-in",element:y.jsx(T5,{})}),y.jsx(wn,{path:"/Login",element:y.jsx(p$,{})}),y.jsx(wn,{path:"/sign-up",element:y.jsx(C5,{})}),y.jsx(wn,{path:"/admin",element:y.jsx(sC,{children:y.jsx(V5,{})})}),y.jsx(wn,{path:"/admin/add",element:y.jsx(sC,{children:y.jsx(Q8,{})})}),y.jsx(wn,{path:"/projects",element:y.jsx(X8,{})}),y.jsx(wn,{path:"/projects/new",element:y.jsx(J8,{})}),y.jsx(wn,{path:"/savedItems",element:y.jsx(Z8,{})})]})})})})}));
